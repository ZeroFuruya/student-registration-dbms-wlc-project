<!DOCTYPE html>
<html>
<head>
  <title>[root-of-the-server]__b16b2e0b._.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../../doc-style.css" />
  <script src="../../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../../";
    var thisFile = ".next/server/chunks/[root-of-the-server]__b16b2e0b._.js";
    var defaultSidebar = true;
  </script>
  <script src="../../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

      <div class="heading h1">
        <a href="#sourcemappingurl5broot-of-the-server5d__b16b2e0b._.js.map">sourceMappingURL=%5Broot-of-the-server%5D__b16b2e0b._.js.map</a>
      </div>

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>[root-of-the-server]__b16b2e0b._.js</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-built_in">module</span>.exports=[<span class="hljs-number">27699</span>,(e,t,i)=&gt;{t.exports=e.x(<span class="hljs-string">"events"</span>,()=&gt;<span class="hljs-built_in">require</span>(<span class="hljs-string">"events"</span>))},<span class="hljs-number">92509</span>,(e,t,i)=&gt;{t.exports=e.x(<span class="hljs-string">"url"</span>,()=&gt;<span class="hljs-built_in">require</span>(<span class="hljs-string">"url"</span>))},<span class="hljs-number">22734</span>,(e,t,i)=&gt;{t.exports=e.x(<span class="hljs-string">"fs"</span>,()=&gt;<span class="hljs-built_in">require</span>(<span class="hljs-string">"fs"</span>))},<span class="hljs-number">21517</span>,(e,t,i)=&gt;{t.exports=e.x(<span class="hljs-string">"http"</span>,()=&gt;<span class="hljs-built_in">require</span>(<span class="hljs-string">"http"</span>))},<span class="hljs-number">24836</span>,(e,t,i)=&gt;{t.exports=e.x(<span class="hljs-string">"https"</span>,()=&gt;<span class="hljs-built_in">require</span>(<span class="hljs-string">"https"</span>))},<span class="hljs-number">6461</span>,(e,t,i)=&gt;{t.exports=e.x(<span class="hljs-string">"zlib"</span>,()=&gt;<span class="hljs-built_in">require</span>(<span class="hljs-string">"zlib"</span>))},<span class="hljs-number">88947</span>,(e,t,i)=&gt;{t.exports=e.x(<span class="hljs-string">"stream"</span>,()=&gt;<span class="hljs-built_in">require</span>(<span class="hljs-string">"stream"</span>))},<span class="hljs-number">27176</span>,(e,t,i)=&gt;{<span class="hljs-string">"use strict"</span>;<span class="hljs-keyword">let</span> a=e.r(<span class="hljs-number">92509</span>);t.exports=<span class="hljs-class"><span class="hljs-keyword">class</span></span>{<span class="hljs-keyword">constructor</span>(e){<span class="hljs-keyword">this</span>.options=e||{},<span class="hljs-keyword">this</span>.cookies=[]}<span class="hljs-keyword">set</span>(e,t){<span class="hljs-keyword">let</span> i,s=a.parse(t||<span class="hljs-string">""</span>),o=<span class="hljs-keyword">this</span>.parse(e);<span class="hljs-keyword">return</span> o.domain?<span class="hljs-function">(<span class="hljs-params">i=o.domain.replace(<span class="hljs-regexp">/^\./</span>,<span class="hljs-string">""</span></span>),(<span class="hljs-params">s.hostname.length&lt;i.length||(<span class="hljs-string">"."</span>+s.hostname</span>).<span class="hljs-params">substr</span>(<span class="hljs-params">-i.length+<span class="hljs-number">1</span></span>)!=="."+<span class="hljs-params">i</span>)&amp;&amp;(<span class="hljs-params">o.domain=s.hostname</span>)):<span class="hljs-params">o</span>.<span class="hljs-params">domain</span>=<span class="hljs-params">s</span>.<span class="hljs-params">hostname</span>,<span class="hljs-params">o</span>.<span class="hljs-params">path</span>||(<span class="hljs-params">o.path=<span class="hljs-keyword">this</span>.getPath(s.pathname</span>)),<span class="hljs-params">o</span>.<span class="hljs-params">expires</span>||(<span class="hljs-params">o.expires=<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-built_in">Date</span>.now(</span>)+1<span class="hljs-params">e3</span>*(<span class="hljs-params"><span class="hljs-built_in">Number</span>(<span class="hljs-keyword">this</span>.options.sessionTimeout||<span class="hljs-number">1800</span></span>)||1800))),<span class="hljs-params">this</span>.<span class="hljs-params">add</span>(<span class="hljs-params">o</span>)}<span class="hljs-params">get</span>(<span class="hljs-params">e</span>){<span class="hljs-params">return</span> <span class="hljs-params">this</span>.<span class="hljs-params">list</span>(<span class="hljs-params">e</span>).<span class="hljs-params">map</span>(<span class="hljs-params">e=&gt;e.name+<span class="hljs-string">"="</span>+e.value</span>).<span class="hljs-params">join</span>(<span class="hljs-params"><span class="hljs-string">"; "</span></span>)}<span class="hljs-params">list</span>(<span class="hljs-params">e</span>){<span class="hljs-params">let</span> <span class="hljs-params">t</span>,<span class="hljs-params">i</span>,<span class="hljs-params">a</span>=[];<span class="hljs-params">for</span>(<span class="hljs-params">t=<span class="hljs-keyword">this</span>.cookies.length<span class="hljs-number">-1</span>;t&gt;=<span class="hljs-number">0</span>;t--</span>){<span class="hljs-params">if</span>(<span class="hljs-params">i=<span class="hljs-keyword">this</span>.cookies[t],<span class="hljs-keyword">this</span>.isExpired(i</span>)){<span class="hljs-params">this</span>.<span class="hljs-params">cookies</span>.<span class="hljs-params">splice</span>(<span class="hljs-params">t,t</span>);<span class="hljs-params">continue</span>}<span class="hljs-params">this</span>.<span class="hljs-params">match</span>(<span class="hljs-params">i,e</span>)&amp;&amp;<span class="hljs-params">a</span>.<span class="hljs-params">unshift</span>(<span class="hljs-params">i</span>)}<span class="hljs-params">return</span> <span class="hljs-params">a</span>}<span class="hljs-params">parse</span>(<span class="hljs-params">e</span>){<span class="hljs-params">let</span> <span class="hljs-params">t</span>={};<span class="hljs-params">return</span>(<span class="hljs-params">e||<span class="hljs-string">""</span></span>).<span class="hljs-params">toString</span><span class="hljs-params">()</span>.<span class="hljs-params">split</span>(<span class="hljs-params"><span class="hljs-string">";"</span></span>).<span class="hljs-params">forEach</span>(<span class="hljs-params">e=&gt;{<span class="hljs-keyword">let</span> i,a=e.split(<span class="hljs-string">"="</span></span>),<span class="hljs-params">s</span>=<span class="hljs-params">a</span>.<span class="hljs-params">shift</span><span class="hljs-params">()</span>.<span class="hljs-params">trim</span><span class="hljs-params">()</span>.<span class="hljs-params">toLowerCase</span><span class="hljs-params">()</span>,<span class="hljs-params">o</span>=<span class="hljs-params">a</span>.<span class="hljs-params">join</span>(<span class="hljs-params"><span class="hljs-string">"="</span></span>).<span class="hljs-params">trim</span><span class="hljs-params">()</span>;<span class="hljs-params">if</span>(<span class="hljs-params">s</span>)<span class="hljs-params">switch</span>(<span class="hljs-params">s</span>){<span class="hljs-params">case</span>"<span class="hljs-params">expires</span>":"<span class="hljs-params">Invalid</span> <span class="hljs-params">Date</span>"!==(<span class="hljs-params">o=<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(o</span>)).<span class="hljs-params">toString</span><span class="hljs-params">()</span>&amp;&amp;(<span class="hljs-params">t.expires=o</span>);<span class="hljs-params">break</span>;<span class="hljs-params">case</span>"<span class="hljs-params">path</span>":<span class="hljs-params">t</span>.<span class="hljs-params">path</span>=<span class="hljs-params">o</span>;<span class="hljs-params">break</span>;<span class="hljs-params">case</span>"<span class="hljs-params">domain</span>":(<span class="hljs-params">i=o.toLowerCase(</span>)).<span class="hljs-params">length</span>&amp;&amp;"."!==<span class="hljs-params">i</span>.<span class="hljs-params">charAt</span>(<span class="hljs-params"><span class="hljs-number">0</span></span>)&amp;&amp;(<span class="hljs-params">i=<span class="hljs-string">"."</span>+i</span>),<span class="hljs-params">t</span>.<span class="hljs-params">domain</span>=<span class="hljs-params">i</span>;<span class="hljs-params">break</span>;<span class="hljs-params">case</span>"<span class="hljs-params">max</span>-<span class="hljs-params">age</span>":<span class="hljs-params">t</span>.<span class="hljs-params">expires</span>=<span class="hljs-params">new</span> <span class="hljs-params">Date</span>(<span class="hljs-params"><span class="hljs-built_in">Date</span>.now(</span>)+1<span class="hljs-params">e3</span>*(<span class="hljs-params"><span class="hljs-built_in">Number</span>(o</span>)||0));<span class="hljs-params">break</span>;<span class="hljs-params">case</span>"<span class="hljs-params">secure</span>":<span class="hljs-params">t</span>.<span class="hljs-params">secure</span>=!0;<span class="hljs-params">break</span>;<span class="hljs-params">case</span>"<span class="hljs-params">httponly</span>":<span class="hljs-params">t</span>.<span class="hljs-params">httponly</span>=!0;<span class="hljs-params">break</span>;<span class="hljs-params">default</span>:<span class="hljs-params">t</span>.<span class="hljs-params">name</span>||(<span class="hljs-params">t.name=s,t.value=o</span>)}}),<span class="hljs-params">t</span>}<span class="hljs-params">match</span>(<span class="hljs-params">e,t</span>){<span class="hljs-params">let</span> <span class="hljs-params">i</span>=<span class="hljs-params">a</span>.<span class="hljs-params">parse</span>(<span class="hljs-params">t||<span class="hljs-string">""</span></span>);<span class="hljs-params">return</span>(<span class="hljs-params">i.hostname===e.domain||<span class="hljs-string">"."</span>===e.domain.charAt(<span class="hljs-number">0</span></span>)&amp;&amp;(<span class="hljs-params"><span class="hljs-string">"."</span>+i.hostname</span>).<span class="hljs-params">substr</span>(<span class="hljs-params">-e.domain.length</span>)===<span class="hljs-params">e</span>.<span class="hljs-params">domain</span>)&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">getPath</span>(<span class="hljs-params">i.pathname</span>).<span class="hljs-params">substr</span>(<span class="hljs-params"><span class="hljs-number">0</span>,e.path.length</span>)===<span class="hljs-params">e</span>.<span class="hljs-params">path</span>&amp;&amp;(<span class="hljs-params">!e.secure||<span class="hljs-string">"https:"</span>===i.protocol</span>)}<span class="hljs-params">add</span>(<span class="hljs-params">e</span>){<span class="hljs-params">let</span> <span class="hljs-params">t</span>,<span class="hljs-params">i</span>;<span class="hljs-params">if</span>(<span class="hljs-params">!e||!e.name</span>)<span class="hljs-params">return</span>!1;<span class="hljs-params">for</span>(<span class="hljs-params">t=<span class="hljs-number">0</span>,i=<span class="hljs-keyword">this</span>.cookies.length;t&lt;i;t++</span>)<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>.compare(<span class="hljs-keyword">this</span>.cookies[t],e</span>)){<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>.isExpired(e</span>))<span class="hljs-params">return</span> <span class="hljs-params">this</span>.<span class="hljs-params">cookies</span>.<span class="hljs-params">splice</span>(<span class="hljs-params">t,<span class="hljs-number">1</span></span>),!1;<span class="hljs-params">return</span> <span class="hljs-params">this</span>.<span class="hljs-params">cookies</span>[<span class="hljs-params">t</span>]=<span class="hljs-params">e</span>,!0}<span class="hljs-params">return</span> <span class="hljs-params">this</span>.<span class="hljs-params">isExpired</span>(<span class="hljs-params">e</span>)||<span class="hljs-params">this</span>.<span class="hljs-params">cookies</span>.<span class="hljs-params">push</span>(<span class="hljs-params">e</span>),!0}<span class="hljs-params">compare</span>(<span class="hljs-params">e,t</span>){<span class="hljs-params">return</span> <span class="hljs-params">e</span>.<span class="hljs-params">name</span>===<span class="hljs-params">t</span>.<span class="hljs-params">name</span>&amp;&amp;<span class="hljs-params">e</span>.<span class="hljs-params">path</span>===<span class="hljs-params">t</span>.<span class="hljs-params">path</span>&amp;&amp;<span class="hljs-params">e</span>.<span class="hljs-params">domain</span>===<span class="hljs-params">t</span>.<span class="hljs-params">domain</span>&amp;&amp;<span class="hljs-params">e</span>.<span class="hljs-params">secure</span>===<span class="hljs-params">t</span>.<span class="hljs-params">secure</span>&amp;&amp;<span class="hljs-params">e</span>.<span class="hljs-params">httponly</span>==<span class="hljs-params">e</span>.<span class="hljs-params">httponly</span>}<span class="hljs-params">isExpired</span>(<span class="hljs-params">e</span>){<span class="hljs-params">return</span> <span class="hljs-params">e</span>.<span class="hljs-params">expires</span>&amp;&amp;<span class="hljs-params">e</span>.<span class="hljs-params">expires</span>&lt;<span class="hljs-params">new</span> <span class="hljs-params">Date</span>||!<span class="hljs-params">e</span>.<span class="hljs-params">value</span>}<span class="hljs-params">getPath</span>(<span class="hljs-params">e</span>){<span class="hljs-params">let</span> <span class="hljs-params">t</span>=(<span class="hljs-params">e||<span class="hljs-string">"/"</span></span>).<span class="hljs-params">split</span>(<span class="hljs-params"><span class="hljs-string">"/"</span></span>);<span class="hljs-params">return</span> <span class="hljs-params">t</span>.<span class="hljs-params">pop</span><span class="hljs-params">()</span>,"/"!==(<span class="hljs-params">t=t.join(<span class="hljs-string">"/"</span></span>).<span class="hljs-params">trim</span><span class="hljs-params">()</span>).<span class="hljs-params">charAt</span>(<span class="hljs-params"><span class="hljs-number">0</span></span>)&amp;&amp;(<span class="hljs-params">t=<span class="hljs-string">"/"</span>+t</span>),"/"!==<span class="hljs-params">t</span>.<span class="hljs-params">substr</span>(<span class="hljs-params"><span class="hljs-number">-1</span></span>)&amp;&amp;(<span class="hljs-params">t+=<span class="hljs-string">"/"</span></span>),<span class="hljs-params">t</span>}}},39913,<span class="hljs-params">e</span>=&gt;</span>{e.v({<span class="hljs-attr">name</span>:<span class="hljs-string">"nodemailer"</span>,<span class="hljs-attr">version</span>:<span class="hljs-string">"7.0.10"</span>,<span class="hljs-attr">description</span>:<span class="hljs-string">"Easy as cake e-mail sending from your Node.js applications"</span>,<span class="hljs-attr">main</span>:<span class="hljs-string">"lib/nodemailer.js"</span>,<span class="hljs-attr">scripts</span>:{<span class="hljs-attr">test</span>:<span class="hljs-string">"node --test --test-concurrency=1 test/**/*.test.js test/**/*-test.js"</span>,<span class="hljs-string">"test:coverage"</span>:<span class="hljs-string">"c8 node --test --test-concurrency=1 test/**/*.test.js test/**/*-test.js"</span>,<span class="hljs-attr">format</span>:<span class="hljs-string">'prettier --write "**/*.{js,json,md}"'</span>,<span class="hljs-string">"format:check"</span>:<span class="hljs-string">'prettier --check "**/*.{js,json,md}"'</span>,<span class="hljs-attr">lint</span>:<span class="hljs-string">"eslint ."</span>,<span class="hljs-string">"lint:fix"</span>:<span class="hljs-string">"eslint . --fix"</span>,<span class="hljs-attr">update</span>:<span class="hljs-string">"rm -rf node_modules/ package-lock.json &amp;&amp; ncu -u &amp;&amp; npm install"</span>},<span class="hljs-attr">repository</span>:{<span class="hljs-attr">type</span>:<span class="hljs-string">"git"</span>,<span class="hljs-attr">url</span>:<span class="hljs-string">"https://github.com/nodemailer/nodemailer.git"</span>},<span class="hljs-attr">keywords</span>:[<span class="hljs-string">"Nodemailer"</span>],<span class="hljs-attr">author</span>:<span class="hljs-string">"Andris Reinman"</span>,<span class="hljs-attr">license</span>:<span class="hljs-string">"MIT-0"</span>,<span class="hljs-attr">bugs</span>:{<span class="hljs-attr">url</span>:<span class="hljs-string">"https://github.com/nodemailer/nodemailer/issues"</span>},<span class="hljs-attr">homepage</span>:<span class="hljs-string">"https://nodemailer.com/"</span>,<span class="hljs-attr">devDependencies</span>:{<span class="hljs-string">"@aws-sdk/client-sesv2"</span>:<span class="hljs-string">"3.914.0"</span>,<span class="hljs-attr">bunyan</span>:<span class="hljs-string">"1.8.15"</span>,<span class="hljs-attr">c8</span>:<span class="hljs-string">"10.1.3"</span>,<span class="hljs-attr">eslint</span>:<span class="hljs-string">"9.38.0"</span>,<span class="hljs-string">"eslint-config-prettier"</span>:<span class="hljs-string">"10.1.8"</span>,<span class="hljs-attr">globals</span>:<span class="hljs-string">"16.4.0"</span>,<span class="hljs-attr">libbase64</span>:<span class="hljs-string">"1.3.0"</span>,<span class="hljs-attr">libmime</span>:<span class="hljs-string">"5.3.7"</span>,<span class="hljs-attr">libqp</span>:<span class="hljs-string">"2.1.1"</span>,<span class="hljs-string">"nodemailer-ntlm-auth"</span>:<span class="hljs-string">"1.0.4"</span>,<span class="hljs-attr">prettier</span>:<span class="hljs-string">"3.6.2"</span>,<span class="hljs-attr">proxy</span>:<span class="hljs-string">"1.0.2"</span>,<span class="hljs-string">"proxy-test-server"</span>:<span class="hljs-string">"1.0.0"</span>,<span class="hljs-string">"smtp-server"</span>:<span class="hljs-string">"3.15.0"</span>},<span class="hljs-attr">engines</span>:{<span class="hljs-attr">node</span>:<span class="hljs-string">"&gt;=6.0.0"</span>}})},<span class="hljs-number">4446</span>,(e,t,i)=&gt;{t.exports=e.x(<span class="hljs-string">"net"</span>,()=&gt;<span class="hljs-built_in">require</span>(<span class="hljs-string">"net"</span>))},<span class="hljs-number">18967</span>,(e,t,i)=&gt;{<span class="hljs-string">"use strict"</span>;<span class="hljs-keyword">let</span> a=e.r(<span class="hljs-number">21517</span>),s=e.r(<span class="hljs-number">24836</span>),o=e.r(<span class="hljs-number">92509</span>),n=e.r(<span class="hljs-number">6461</span>),r=e.r(<span class="hljs-number">88947</span>).PassThrough,p=e.r(<span class="hljs-number">27176</span>),c=e.r(<span class="hljs-number">39913</span>),l=e.r(<span class="hljs-number">4446</span>);t.exports=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,t</span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">e</span>(<span class="hljs-params">t,i</span>)</span>{<span class="hljs-keyword">let</span> d,m,h;<span class="hljs-function">(<span class="hljs-params">i=i||{}</span>).<span class="hljs-params">fetchRes</span>=<span class="hljs-params">i</span>.<span class="hljs-params">fetchRes</span>||<span class="hljs-params">new</span> <span class="hljs-params">r</span>,<span class="hljs-params">i</span>.<span class="hljs-params">cookies</span>=<span class="hljs-params">i</span>.<span class="hljs-params">cookies</span>||<span class="hljs-params">new</span> <span class="hljs-params">p</span>,<span class="hljs-params">i</span>.<span class="hljs-params">redirects</span>=<span class="hljs-params">i</span>.<span class="hljs-params">redirects</span>||0,<span class="hljs-params">i</span>.<span class="hljs-params">maxRedirects</span>=<span class="hljs-params">isNaN</span>(<span class="hljs-params">i.maxRedirects</span>)?5:<span class="hljs-params">i</span>.<span class="hljs-params">maxRedirects</span>,<span class="hljs-params">i</span>.<span class="hljs-params">cookie</span>&amp;&amp;(<span class="hljs-params">[].concat(i.cookie||[]</span>).<span class="hljs-params">forEach</span>(<span class="hljs-params">e=&gt;{i.cookies.set(e,t</span>)}),<span class="hljs-params">i</span>.<span class="hljs-params">cookie</span>=!1);<span class="hljs-params">let</span> <span class="hljs-params">u</span>=<span class="hljs-params">i</span>.<span class="hljs-params">fetchRes</span>,<span class="hljs-params">x</span>=<span class="hljs-params">o</span>.<span class="hljs-params">parse</span>(<span class="hljs-params">t</span>),<span class="hljs-params">f</span>=(<span class="hljs-params">i.method||<span class="hljs-string">""</span></span>).<span class="hljs-params">toString</span><span class="hljs-params">()</span>.<span class="hljs-params">trim</span><span class="hljs-params">()</span>.<span class="hljs-params">toUpperCase</span><span class="hljs-params">()</span>||"<span class="hljs-params">GET</span>",<span class="hljs-params">g</span>=!1,<span class="hljs-params">v</span>="<span class="hljs-params">https</span>:"===<span class="hljs-params">x</span>.<span class="hljs-params">protocol</span>?<span class="hljs-params">s</span>:<span class="hljs-params">a</span>,<span class="hljs-params">b</span>={"<span class="hljs-params">accept</span>-<span class="hljs-params">encoding</span>":"<span class="hljs-params">gzip</span>,<span class="hljs-params">deflate</span>","<span class="hljs-params">user</span>-<span class="hljs-params">agent</span>":"<span class="hljs-params">nodemailer</span>/"+<span class="hljs-params">c</span>.<span class="hljs-params">version</span>};<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-built_in">Object</span>.keys(i.headers||{}</span>).<span class="hljs-params">forEach</span>(<span class="hljs-params">e=&gt;{b[e.toLowerCase(</span>).<span class="hljs-params">trim</span><span class="hljs-params">()</span>]=<span class="hljs-params">i</span>.<span class="hljs-params">headers</span>[<span class="hljs-params">e</span>]}),<span class="hljs-params">i</span>.<span class="hljs-params">userAgent</span>&amp;&amp;(<span class="hljs-params">b[<span class="hljs-string">"user-agent"</span>]=i.userAgent</span>),<span class="hljs-params">x</span>.<span class="hljs-params">auth</span>&amp;&amp;(<span class="hljs-params">b.Authorization=<span class="hljs-string">"Basic "</span>+Buffer.<span class="hljs-keyword">from</span>(x.auth</span>).<span class="hljs-params">toString</span>(<span class="hljs-params"><span class="hljs-string">"base64"</span></span>)),(<span class="hljs-params">d=i.cookies.get(t</span>))&amp;&amp;(<span class="hljs-params">b.cookie=d</span>),<span class="hljs-params">i</span>.<span class="hljs-params">body</span>){<span class="hljs-params">if</span>(<span class="hljs-params">!<span class="hljs-number">1</span>!==i.contentType&amp;&amp;(b[<span class="hljs-string">"Content-Type"</span>]=i.contentType||<span class="hljs-string">"application/x-www-form-urlencoded"</span></span>),"<span class="hljs-params">function</span>"==<span class="hljs-params">typeof</span> <span class="hljs-params">i</span>.<span class="hljs-params">body</span>.<span class="hljs-params">pipe</span>)<span class="hljs-params">b</span>["<span class="hljs-params">Transfer</span>-<span class="hljs-params">Encoding</span>"]="<span class="hljs-params">chunked</span>",(<span class="hljs-params">m=i.body</span>).<span class="hljs-params">on</span>(<span class="hljs-params"><span class="hljs-string">"error"</span>,e=&gt;{g||(g=!<span class="hljs-number">0</span>,e.type=<span class="hljs-string">"FETCH"</span>,e.sourceUrl=t,u.emit(<span class="hljs-string">"error"</span>,e</span>))});<span class="hljs-params">else</span>{<span class="hljs-params">if</span>(<span class="hljs-params">i.body <span class="hljs-keyword">instanceof</span> Buffer</span>)<span class="hljs-params">m</span>=<span class="hljs-params">i</span>.<span class="hljs-params">body</span>;<span class="hljs-params">else</span> <span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-string">"object"</span>==<span class="hljs-keyword">typeof</span> i.body</span>)<span class="hljs-params">try</span>{<span class="hljs-params">m</span>=<span class="hljs-params">Buffer</span>.<span class="hljs-params">from</span>(<span class="hljs-params"><span class="hljs-built_in">Object</span>.keys(i.body</span>).<span class="hljs-params">map</span>(<span class="hljs-params">e=&gt;{<span class="hljs-keyword">let</span> t=i.body[e].toString(</span>).<span class="hljs-params">trim</span><span class="hljs-params">()</span>;<span class="hljs-params">return</span> <span class="hljs-params">encodeURIComponent</span>(<span class="hljs-params">e</span>)+"="+<span class="hljs-params">encodeURIComponent</span>(<span class="hljs-params">t</span>)}).<span class="hljs-params">join</span>(<span class="hljs-params"><span class="hljs-string">"&amp;"</span></span>))}<span class="hljs-params">catch</span>(<span class="hljs-params">e</span>){<span class="hljs-params">if</span>(<span class="hljs-params">g</span>)<span class="hljs-params">return</span>;<span class="hljs-params">g</span>=!0,<span class="hljs-params">e</span>.<span class="hljs-params">type</span>="<span class="hljs-params">FETCH</span>",<span class="hljs-params">e</span>.<span class="hljs-params">sourceUrl</span>=<span class="hljs-params">t</span>,<span class="hljs-params">u</span>.<span class="hljs-params">emit</span>(<span class="hljs-params"><span class="hljs-string">"error"</span>,e</span>);<span class="hljs-params">return</span>}<span class="hljs-params">else</span> <span class="hljs-params">m</span>=<span class="hljs-params">Buffer</span>.<span class="hljs-params">from</span>(<span class="hljs-params">i.body.toString(</span>).<span class="hljs-params">trim</span><span class="hljs-params">()</span>);<span class="hljs-params">b</span>["<span class="hljs-params">Content</span>-<span class="hljs-params">Type</span>"]=<span class="hljs-params">i</span>.<span class="hljs-params">contentType</span>||"<span class="hljs-params">application</span>/<span class="hljs-params">x</span>-<span class="hljs-params">www</span>-<span class="hljs-params">form</span>-<span class="hljs-params">urlencoded</span>",<span class="hljs-params">b</span>["<span class="hljs-params">Content</span>-<span class="hljs-params">Length</span>"]=<span class="hljs-params">m</span>.<span class="hljs-params">length</span>}<span class="hljs-params">f</span>=(<span class="hljs-params">i.method||<span class="hljs-string">""</span></span>).<span class="hljs-params">toString</span><span class="hljs-params">()</span>.<span class="hljs-params">trim</span><span class="hljs-params">()</span>.<span class="hljs-params">toUpperCase</span><span class="hljs-params">()</span>||"<span class="hljs-params">POST</span>"}<span class="hljs-params">let</span> <span class="hljs-params">w</span>={<span class="hljs-params">method</span>:<span class="hljs-params">f</span>,<span class="hljs-params">host</span>:<span class="hljs-params">x</span>.<span class="hljs-params">hostname</span>,<span class="hljs-params">path</span>:<span class="hljs-params">x</span>.<span class="hljs-params">path</span>,<span class="hljs-params">port</span>:<span class="hljs-params">x</span>.<span class="hljs-params">port</span>?<span class="hljs-params">x</span>.<span class="hljs-params">port</span>:"<span class="hljs-params">https</span>:"===<span class="hljs-params">x</span>.<span class="hljs-params">protocol</span>?443:80,<span class="hljs-params">headers</span>:<span class="hljs-params">b</span>,<span class="hljs-params">rejectUnauthorized</span>:!1,<span class="hljs-params">agent</span>:!1};<span class="hljs-params">i</span>.<span class="hljs-params">tls</span>&amp;&amp;<span class="hljs-params">Object</span>.<span class="hljs-params">keys</span>(<span class="hljs-params">i.tls</span>).<span class="hljs-params">forEach</span>(<span class="hljs-params">e=&gt;{w[e]=i.tls[e]}</span>),"<span class="hljs-params">https</span>:"!==<span class="hljs-params">x</span>.<span class="hljs-params">protocol</span>||!<span class="hljs-params">x</span>.<span class="hljs-params">hostname</span>||<span class="hljs-params">x</span>.<span class="hljs-params">hostname</span>===<span class="hljs-params">w</span>.<span class="hljs-params">host</span>||<span class="hljs-params">l</span>.<span class="hljs-params">isIP</span>(<span class="hljs-params">x.hostname</span>)||<span class="hljs-params">w</span>.<span class="hljs-params">servername</span>||(<span class="hljs-params">w.servername=x.hostname</span>);<span class="hljs-params">try</span>{<span class="hljs-params">h</span>=<span class="hljs-params">v</span>.<span class="hljs-params">request</span>(<span class="hljs-params">w</span>)}<span class="hljs-params">catch</span>(<span class="hljs-params">e</span>){<span class="hljs-params">return</span> <span class="hljs-params">g</span>=!0,<span class="hljs-params">setImmediate</span>(<span class="hljs-params">(</span>)=&gt;</span>{e.type=<span class="hljs-string">"FETCH"</span>,e.sourceUrl=t,u.emit(<span class="hljs-string">"error"</span>,e)}),u}<span class="hljs-keyword">return</span> i.timeout&amp;&amp;h.setTimeout(i.timeout,()=&gt;{<span class="hljs-keyword">if</span>(g)<span class="hljs-keyword">return</span>;g=!<span class="hljs-number">0</span>,h.abort();<span class="hljs-keyword">let</span> e=<span class="hljs-built_in">Error</span>(<span class="hljs-string">"Request Timeout"</span>);e.type=<span class="hljs-string">"FETCH"</span>,e.sourceUrl=t,u.emit(<span class="hljs-string">"error"</span>,e)}),h.on(<span class="hljs-string">"error"</span>,e=&gt;{g||<span class="hljs-function">(<span class="hljs-params">g=!<span class="hljs-number">0</span>,e.type=<span class="hljs-string">"FETCH"</span>,e.sourceUrl=t,u.emit(<span class="hljs-string">"error"</span>,e</span>))}),<span class="hljs-params">h</span>.<span class="hljs-params">on</span>(<span class="hljs-params"><span class="hljs-string">"response"</span>,a=&gt;{<span class="hljs-keyword">let</span> s;<span class="hljs-keyword">if</span>(!g</span>){<span class="hljs-params">switch</span>(<span class="hljs-params">a.headers[<span class="hljs-string">"content-encoding"</span>]</span>){<span class="hljs-params">case</span>"<span class="hljs-params">gzip</span>":<span class="hljs-params">case</span>"<span class="hljs-params">deflate</span>":<span class="hljs-params">s</span>=<span class="hljs-params">n</span>.<span class="hljs-params">createUnzip</span><span class="hljs-params">()</span>}<span class="hljs-params">if</span>(<span class="hljs-params">a.headers[<span class="hljs-string">"set-cookie"</span>]&amp;&amp;[].concat(a.headers[<span class="hljs-string">"set-cookie"</span>]||[]</span>).<span class="hljs-params">forEach</span>(<span class="hljs-params">e=&gt;{i.cookies.set(e,t</span>)}),[301,302,303,307,308].<span class="hljs-params">includes</span>(<span class="hljs-params">a.statusCode</span>)&amp;&amp;<span class="hljs-params">a</span>.<span class="hljs-params">headers</span>.<span class="hljs-params">location</span>){<span class="hljs-params">if</span>(<span class="hljs-params">i.redirects++,i.redirects&gt;i.maxRedirects</span>){<span class="hljs-params">g</span>=!0;<span class="hljs-params">let</span> <span class="hljs-params">e</span>=<span class="hljs-params">Error</span>(<span class="hljs-params"><span class="hljs-string">"Maximum redirect count exceeded"</span></span>);<span class="hljs-params">e</span>.<span class="hljs-params">type</span>="<span class="hljs-params">FETCH</span>",<span class="hljs-params">e</span>.<span class="hljs-params">sourceUrl</span>=<span class="hljs-params">t</span>,<span class="hljs-params">u</span>.<span class="hljs-params">emit</span>(<span class="hljs-params"><span class="hljs-string">"error"</span>,e</span>),<span class="hljs-params">h</span>.<span class="hljs-params">abort</span><span class="hljs-params">()</span>;<span class="hljs-params">return</span>}<span class="hljs-params">return</span> <span class="hljs-params">i</span>.<span class="hljs-params">method</span>="<span class="hljs-params">GET</span>",<span class="hljs-params">i</span>.<span class="hljs-params">body</span>=!1,<span class="hljs-params">e</span>(<span class="hljs-params">o.resolve(t,a.headers.location</span>),<span class="hljs-params">i</span>)}<span class="hljs-params">if</span>(<span class="hljs-params">u.statusCode=a.statusCode,u.headers=a.headers,a.statusCode&gt;=<span class="hljs-number">300</span>&amp;&amp;!i.allowErrorResponse</span>){<span class="hljs-params">g</span>=!0;<span class="hljs-params">let</span> <span class="hljs-params">e</span>=<span class="hljs-params">Error</span>(<span class="hljs-params"><span class="hljs-string">"Invalid status code "</span>+a.statusCode</span>);<span class="hljs-params">e</span>.<span class="hljs-params">type</span>="<span class="hljs-params">FETCH</span>",<span class="hljs-params">e</span>.<span class="hljs-params">sourceUrl</span>=<span class="hljs-params">t</span>,<span class="hljs-params">u</span>.<span class="hljs-params">emit</span>(<span class="hljs-params"><span class="hljs-string">"error"</span>,e</span>),<span class="hljs-params">h</span>.<span class="hljs-params">abort</span><span class="hljs-params">()</span>;<span class="hljs-params">return</span>}<span class="hljs-params">a</span>.<span class="hljs-params">on</span>(<span class="hljs-params"><span class="hljs-string">"error"</span>,e=&gt;{g||(g=!<span class="hljs-number">0</span>,e.type=<span class="hljs-string">"FETCH"</span>,e.sourceUrl=t,u.emit(<span class="hljs-string">"error"</span>,e</span>),<span class="hljs-params">h</span>.<span class="hljs-params">abort</span><span class="hljs-params">()</span>)}),<span class="hljs-params">s</span>?(<span class="hljs-params">a.pipe(s</span>).<span class="hljs-params">pipe</span>(<span class="hljs-params">u</span>),<span class="hljs-params">s</span>.<span class="hljs-params">on</span>(<span class="hljs-params"><span class="hljs-string">"error"</span>,e=&gt;{g||(g=!<span class="hljs-number">0</span>,e.type=<span class="hljs-string">"FETCH"</span>,e.sourceUrl=t,u.emit(<span class="hljs-string">"error"</span>,e</span>),<span class="hljs-params">h</span>.<span class="hljs-params">abort</span><span class="hljs-params">()</span>)})):<span class="hljs-params">a</span>.<span class="hljs-params">pipe</span>(<span class="hljs-params">u</span>)}}),<span class="hljs-params">setImmediate</span>(<span class="hljs-params">(</span>)=&gt;</span>{<span class="hljs-keyword">if</span>(m)<span class="hljs-keyword">try</span>{<span class="hljs-keyword">if</span>(<span class="hljs-string">"function"</span>==<span class="hljs-keyword">typeof</span> m.pipe)<span class="hljs-keyword">return</span> m.pipe(h);h.write(m)}<span class="hljs-keyword">catch</span>(e){g=!<span class="hljs-number">0</span>,e.type=<span class="hljs-string">"FETCH"</span>,e.sourceUrl=t,u.emit(<span class="hljs-string">"error"</span>,e);<span class="hljs-keyword">return</span>}h.end()}),u}(e,t)},t.exports.Cookies=p},<span class="hljs-number">79594</span>,(e,t,i)=&gt;{t.exports=e.x(<span class="hljs-string">"dns"</span>,()=&gt;<span class="hljs-built_in">require</span>(<span class="hljs-string">"dns"</span>))},<span class="hljs-number">46786</span>,(e,t,i)=&gt;{t.exports=e.x(<span class="hljs-string">"os"</span>,()=&gt;<span class="hljs-built_in">require</span>(<span class="hljs-string">"os"</span>))},<span class="hljs-number">17049</span>,(e,t,i)=&gt;{<span class="hljs-string">"use strict"</span>;<span class="hljs-keyword">let</span> a,s=e.r(<span class="hljs-number">92509</span>),o=e.r(<span class="hljs-number">24361</span>),n=e.r(<span class="hljs-number">22734</span>),r=e.r(<span class="hljs-number">18967</span>),p=e.r(<span class="hljs-number">79594</span>),c=e.r(<span class="hljs-number">4446</span>),l=e.r(<span class="hljs-number">46786</span>),d=<span class="hljs-number">0</span>;t.exports._lastCacheCleanup=<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>d,t.exports._resetCacheCleanup=<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{d=<span class="hljs-number">0</span>};<span class="hljs-keyword">try</span>{a=l.networkInterfaces()}<span class="hljs-keyword">catch</span>(e){}t.exports.networkInterfaces=a;<span class="hljs-keyword">let</span> m=<span class="hljs-function">(<span class="hljs-params">e,i</span>)=&gt;</span>{<span class="hljs-keyword">let</span> a=t.exports.networkInterfaces;<span class="hljs-keyword">return</span>!a||<span class="hljs-built_in">Object</span>.keys(a).map(<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>a[e]).reduce(<span class="hljs-function">(<span class="hljs-params">e,t</span>)=&gt;</span>e.concat(t),[]).filter(<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>!e.internal||i).filter(<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span>t.family===<span class="hljs-string">"IPv"</span>+e||t.family===e).length&gt;<span class="hljs-number">0</span>},h=<span class="hljs-function">(<span class="hljs-params">e,t,i,a</span>)=&gt;</span>{<span class="hljs-keyword">if</span>(!m(e,(i=i||{}).allowInternalNetworkInterfaces))<span class="hljs-keyword">return</span> a(<span class="hljs-literal">null</span>,[]);<span class="hljs-function">(<span class="hljs-params">p.Resolver?<span class="hljs-keyword">new</span> p.Resolver(i</span>):<span class="hljs-params">p</span>)["<span class="hljs-params">resolve</span>"+<span class="hljs-params">e</span>](<span class="hljs-params">t,(e,t</span>)=&gt;</span>{<span class="hljs-keyword">if</span>(e){<span class="hljs-keyword">switch</span>(e.code){<span class="hljs-keyword">case</span> p.NODATA:<span class="hljs-keyword">case</span> p.NOTFOUND:<span class="hljs-keyword">case</span> p.NOTIMP:<span class="hljs-keyword">case</span> p.SERVFAIL:<span class="hljs-keyword">case</span> p.CONNREFUSED:<span class="hljs-keyword">case</span> p.REFUSED:<span class="hljs-keyword">case</span><span class="hljs-string">"EAI_AGAIN"</span>:<span class="hljs-keyword">return</span> a(<span class="hljs-literal">null</span>,[])}<span class="hljs-keyword">return</span> a(e)}<span class="hljs-keyword">return</span> a(<span class="hljs-literal">null</span>,<span class="hljs-built_in">Array</span>.isArray(t)?t:[].concat(t||[]))})},u=t.exports.dnsCache=<span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>,x=<span class="hljs-function">(<span class="hljs-params">e,t</span>)=&gt;</span>e?<span class="hljs-built_in">Object</span>.assign({<span class="hljs-attr">servername</span>:e.servername,<span class="hljs-attr">host</span>:e.addresses&amp;&amp;e.addresses.length?<span class="hljs-number">1</span>===e.addresses.length?e.addresses[<span class="hljs-number">0</span>]:e.addresses[<span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random()*e.addresses.length)]:<span class="hljs-literal">null</span>},t||{}):<span class="hljs-built_in">Object</span>.assign({},t||{});<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f</span>(<span class="hljs-params">e,t</span>)</span>{<span class="hljs-keyword">let</span> i=!<span class="hljs-number">1</span>,a=[],s=<span class="hljs-number">0</span>;e.on(<span class="hljs-string">"error"</span>,e=&gt;{i||<span class="hljs-function">(<span class="hljs-params">i=!<span class="hljs-number">0</span>,t(e</span>))}),<span class="hljs-params">e</span>.<span class="hljs-params">on</span>(<span class="hljs-params"><span class="hljs-string">"readable"</span>,(</span>)=&gt;</span>{<span class="hljs-keyword">let</span> t;<span class="hljs-keyword">for</span>(;<span class="hljs-literal">null</span>!==<span class="hljs-function">(<span class="hljs-params">t=e.read(</span>));)<span class="hljs-params">a</span>.<span class="hljs-params">push</span>(<span class="hljs-params">t</span>),<span class="hljs-params">s</span>+=<span class="hljs-params">t</span>.<span class="hljs-params">length</span>}),<span class="hljs-params">e</span>.<span class="hljs-params">on</span>(<span class="hljs-params"><span class="hljs-string">"end"</span>,(</span>)=&gt;</span>{<span class="hljs-keyword">let</span> e;<span class="hljs-keyword">if</span>(!i){i=!<span class="hljs-number">0</span>;<span class="hljs-keyword">try</span>{e=Buffer.concat(a,s)}<span class="hljs-keyword">catch</span>(e){<span class="hljs-keyword">return</span> t(e)}t(<span class="hljs-literal">null</span>,e)}})}t.exports.resolveHostname=<span class="hljs-function">(<span class="hljs-params">e,t</span>)=&gt;</span>{<span class="hljs-keyword">let</span> i;<span class="hljs-keyword">if</span>(!<span class="hljs-function">(<span class="hljs-params">e=e||{}</span>).<span class="hljs-params">host</span>&amp;&amp;<span class="hljs-params">e</span>.<span class="hljs-params">servername</span>&amp;&amp;(<span class="hljs-params">e.host=e.servername</span>),!<span class="hljs-params">e</span>.<span class="hljs-params">host</span>||<span class="hljs-params">c</span>.<span class="hljs-params">isIP</span>(<span class="hljs-params">e.host</span>))<span class="hljs-params">return</span> <span class="hljs-params">t</span>(<span class="hljs-params"><span class="hljs-literal">null</span>,x({addresses:[e.host],servername:e.servername||!<span class="hljs-number">1</span>},{cached:!<span class="hljs-number">1</span>}</span>));<span class="hljs-params">if</span>(<span class="hljs-params">u.has(e.host</span>)){<span class="hljs-params">i</span>=<span class="hljs-params">u</span>.<span class="hljs-params">get</span>(<span class="hljs-params">e.host</span>);<span class="hljs-params">let</span> <span class="hljs-params">a</span>=<span class="hljs-params">Date</span>.<span class="hljs-params">now</span><span class="hljs-params">()</span>;<span class="hljs-params">if</span>(<span class="hljs-params">a-d&gt;<span class="hljs-number">3e4</span></span>){<span class="hljs-params">for</span>(<span class="hljs-params"><span class="hljs-keyword">let</span>[e,t]<span class="hljs-keyword">of</span>(d=a,u.entries(</span>)))<span class="hljs-params">t</span>.<span class="hljs-params">expires</span>&amp;&amp;<span class="hljs-params">t</span>.<span class="hljs-params">expires</span>&lt;<span class="hljs-params">a</span>&amp;&amp;<span class="hljs-params">u</span>.<span class="hljs-params">delete</span>(<span class="hljs-params">e</span>);<span class="hljs-params">if</span>(<span class="hljs-params">u.size&gt;<span class="hljs-number">1e3</span></span>){<span class="hljs-params">let</span> <span class="hljs-params">e</span>=<span class="hljs-params">Math</span>.<span class="hljs-params">floor</span>(<span class="hljs-params"><span class="hljs-number">100</span></span>);<span class="hljs-params">Array</span>.<span class="hljs-params">from</span>(<span class="hljs-params">u.keys(</span>)).<span class="hljs-params">slice</span>(<span class="hljs-params"><span class="hljs-number">0</span>,e</span>).<span class="hljs-params">forEach</span>(<span class="hljs-params">e=&gt;u.<span class="hljs-keyword">delete</span>(e</span>))}}<span class="hljs-params">if</span>(<span class="hljs-params">!i.expires||i.expires&gt;=a</span>)<span class="hljs-params">return</span> <span class="hljs-params">t</span>(<span class="hljs-params"><span class="hljs-literal">null</span>,x(i.value,{cached:!<span class="hljs-number">0</span>}</span>))}<span class="hljs-params">h</span>(<span class="hljs-params"><span class="hljs-number">4</span>,e.host,e,(a,s</span>)=&gt;</span>{<span class="hljs-keyword">if</span>(a)<span class="hljs-keyword">return</span> i?<span class="hljs-function">(<span class="hljs-params">u.set(e.host,{value:i.value,expires:<span class="hljs-built_in">Date</span>.now(</span>)+(<span class="hljs-params">e.dnsTtl||<span class="hljs-number">3e5</span></span>)}),<span class="hljs-params">t</span>(<span class="hljs-params"><span class="hljs-literal">null</span>,x(i.value,{cached:!<span class="hljs-number">0</span>,error:a}</span>))):<span class="hljs-params">t</span>(<span class="hljs-params">a</span>);<span class="hljs-params">if</span>(<span class="hljs-params">s&amp;&amp;s.length</span>){<span class="hljs-params">let</span> <span class="hljs-params">i</span>={<span class="hljs-params">addresses</span>:<span class="hljs-params">s</span>,<span class="hljs-params">servername</span>:<span class="hljs-params">e</span>.<span class="hljs-params">servername</span>||<span class="hljs-params">e</span>.<span class="hljs-params">host</span>};<span class="hljs-params">return</span> <span class="hljs-params">u</span>.<span class="hljs-params">set</span>(<span class="hljs-params">e.host,{value:i,expires:<span class="hljs-built_in">Date</span>.now(</span>)+(<span class="hljs-params">e.dnsTtl||<span class="hljs-number">3e5</span></span>)}),<span class="hljs-params">t</span>(<span class="hljs-params"><span class="hljs-literal">null</span>,x(i,{cached:!<span class="hljs-number">1</span>}</span>))}<span class="hljs-params">h</span>(<span class="hljs-params"><span class="hljs-number">6</span>,e.host,e,(a,s</span>)=&gt;</span>{<span class="hljs-keyword">if</span>(a)<span class="hljs-keyword">return</span> i?<span class="hljs-function">(<span class="hljs-params">u.set(e.host,{value:i.value,expires:<span class="hljs-built_in">Date</span>.now(</span>)+(<span class="hljs-params">e.dnsTtl||<span class="hljs-number">3e5</span></span>)}),<span class="hljs-params">t</span>(<span class="hljs-params"><span class="hljs-literal">null</span>,x(i.value,{cached:!<span class="hljs-number">0</span>,error:a}</span>))):<span class="hljs-params">t</span>(<span class="hljs-params">a</span>);<span class="hljs-params">if</span>(<span class="hljs-params">s&amp;&amp;s.length</span>){<span class="hljs-params">let</span> <span class="hljs-params">i</span>={<span class="hljs-params">addresses</span>:<span class="hljs-params">s</span>,<span class="hljs-params">servername</span>:<span class="hljs-params">e</span>.<span class="hljs-params">servername</span>||<span class="hljs-params">e</span>.<span class="hljs-params">host</span>};<span class="hljs-params">return</span> <span class="hljs-params">u</span>.<span class="hljs-params">set</span>(<span class="hljs-params">e.host,{value:i,expires:<span class="hljs-built_in">Date</span>.now(</span>)+(<span class="hljs-params">e.dnsTtl||<span class="hljs-number">3e5</span></span>)}),<span class="hljs-params">t</span>(<span class="hljs-params"><span class="hljs-literal">null</span>,x(i,{cached:!<span class="hljs-number">1</span>}</span>))}<span class="hljs-params">try</span>{<span class="hljs-params">p</span>.<span class="hljs-params">lookup</span>(<span class="hljs-params">e.host,{all:!<span class="hljs-number">0</span>},(a,s</span>)=&gt;</span>{<span class="hljs-keyword">if</span>(a)<span class="hljs-keyword">return</span> i?<span class="hljs-function">(<span class="hljs-params">u.set(e.host,{value:i.value,expires:<span class="hljs-built_in">Date</span>.now(</span>)+(<span class="hljs-params">e.dnsTtl||<span class="hljs-number">3e5</span></span>)}),<span class="hljs-params">t</span>(<span class="hljs-params"><span class="hljs-literal">null</span>,x(i.value,{cached:!<span class="hljs-number">0</span>,error:a}</span>))):<span class="hljs-params">t</span>(<span class="hljs-params">a</span>);<span class="hljs-params">let</span> <span class="hljs-params">o</span>=!!<span class="hljs-params">s</span>&amp;&amp;<span class="hljs-params">s</span>.<span class="hljs-params">filter</span>(<span class="hljs-params">e=&gt;m(e.family</span>)).<span class="hljs-params">map</span>(<span class="hljs-params">e=&gt;e.address</span>).<span class="hljs-params">shift</span><span class="hljs-params">()</span>;<span class="hljs-params">if</span>(<span class="hljs-params">s&amp;&amp;s.length&amp;&amp;!o&amp;&amp;<span class="hljs-built_in">console</span>.warn(<span class="hljs-string">`Failed to resolve IPv<span class="hljs-subst">${s[<span class="hljs-number">0</span>].family}</span> addresses with current network`</span></span>),!<span class="hljs-params">o</span>&amp;&amp;<span class="hljs-params">i</span>)<span class="hljs-params">return</span> <span class="hljs-params">t</span>(<span class="hljs-params"><span class="hljs-literal">null</span>,x(i.value,{cached:!<span class="hljs-number">0</span>}</span>));<span class="hljs-params">let</span> <span class="hljs-params">n</span>={<span class="hljs-params">addresses</span>:<span class="hljs-params">o</span>?[<span class="hljs-params">o</span>]:[<span class="hljs-params">e</span>.<span class="hljs-params">host</span>],<span class="hljs-params">servername</span>:<span class="hljs-params">e</span>.<span class="hljs-params">servername</span>||<span class="hljs-params">e</span>.<span class="hljs-params">host</span>};<span class="hljs-params">return</span> <span class="hljs-params">u</span>.<span class="hljs-params">set</span>(<span class="hljs-params">e.host,{value:n,expires:<span class="hljs-built_in">Date</span>.now(</span>)+(<span class="hljs-params">e.dnsTtl||<span class="hljs-number">3e5</span></span>)}),<span class="hljs-params">t</span>(<span class="hljs-params"><span class="hljs-literal">null</span>,x(n,{cached:!<span class="hljs-number">1</span>}</span>))})}<span class="hljs-params">catch</span>(<span class="hljs-params">s</span>){<span class="hljs-params">if</span>(<span class="hljs-params">i</span>)<span class="hljs-params">return</span> <span class="hljs-params">u</span>.<span class="hljs-params">set</span>(<span class="hljs-params">e.host,{value:i.value,expires:<span class="hljs-built_in">Date</span>.now(</span>)+(<span class="hljs-params">e.dnsTtl||<span class="hljs-number">3e5</span></span>)}),<span class="hljs-params">t</span>(<span class="hljs-params"><span class="hljs-literal">null</span>,x(i.value,{cached:!<span class="hljs-number">0</span>,error:a}</span>));<span class="hljs-params">return</span> <span class="hljs-params">t</span>(<span class="hljs-params">a</span>)}})})},<span class="hljs-params">t</span>.<span class="hljs-params">exports</span>.<span class="hljs-params">parseConnectionUrl</span>=<span class="hljs-params">e</span>=&gt;</span>{e=e||<span class="hljs-string">""</span>;<span class="hljs-keyword">let</span> t={};<span class="hljs-keyword">return</span>[s.parse(e,!<span class="hljs-number">0</span>)].forEach(<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>{<span class="hljs-keyword">let</span> i;<span class="hljs-keyword">switch</span>(e.protocol){<span class="hljs-keyword">case</span><span class="hljs-string">"smtp:"</span>:t.secure=!<span class="hljs-number">1</span>;<span class="hljs-keyword">break</span>;<span class="hljs-keyword">case</span><span class="hljs-string">"smtps:"</span>:t.secure=!<span class="hljs-number">0</span>;<span class="hljs-keyword">break</span>;<span class="hljs-keyword">case</span><span class="hljs-string">"direct:"</span>:t.direct=!<span class="hljs-number">0</span>}!<span class="hljs-built_in">isNaN</span>(e.port)&amp;&amp;<span class="hljs-built_in">Number</span>(e.port)&amp;&amp;<span class="hljs-function">(<span class="hljs-params">t.port=<span class="hljs-built_in">Number</span>(e.port</span>)),<span class="hljs-params">e</span>.<span class="hljs-params">hostname</span>&amp;&amp;(<span class="hljs-params">t.host=e.hostname</span>),<span class="hljs-params">e</span>.<span class="hljs-params">auth</span>&amp;&amp;(<span class="hljs-params">i=e.auth.split(<span class="hljs-string">":"</span></span>),<span class="hljs-params">t</span>.<span class="hljs-params">auth</span>||(<span class="hljs-params">t.auth={}</span>),<span class="hljs-params">t</span>.<span class="hljs-params">auth</span>.<span class="hljs-params">user</span>=<span class="hljs-params">i</span>.<span class="hljs-params">shift</span><span class="hljs-params">()</span>,<span class="hljs-params">t</span>.<span class="hljs-params">auth</span>.<span class="hljs-params">pass</span>=<span class="hljs-params">i</span>.<span class="hljs-params">join</span>(<span class="hljs-params"><span class="hljs-string">":"</span></span>)),<span class="hljs-params">Object</span>.<span class="hljs-params">keys</span>(<span class="hljs-params">e.query||{}</span>).<span class="hljs-params">forEach</span>(<span class="hljs-params">i=&gt;{<span class="hljs-keyword">let</span> a=t,s=i,o=e.query[i];<span class="hljs-keyword">switch</span>(!<span class="hljs-built_in">isNaN</span>(o</span>)&amp;&amp;(<span class="hljs-params">o=<span class="hljs-built_in">Number</span>(o</span>)),<span class="hljs-params">o</span>){<span class="hljs-params">case</span>"<span class="hljs-params">true</span>":<span class="hljs-params">o</span>=!0;<span class="hljs-params">break</span>;<span class="hljs-params">case</span>"<span class="hljs-params">false</span>":<span class="hljs-params">o</span>=!1}<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-number">0</span>===i.indexOf(<span class="hljs-string">"tls."</span></span>))<span class="hljs-params">s</span>=<span class="hljs-params">i</span>.<span class="hljs-params">substr</span>(<span class="hljs-params"><span class="hljs-number">4</span></span>),<span class="hljs-params">t</span>.<span class="hljs-params">tls</span>||(<span class="hljs-params">t.tls={}</span>),<span class="hljs-params">a</span>=<span class="hljs-params">t</span>.<span class="hljs-params">tls</span>;<span class="hljs-params">else</span> <span class="hljs-params">if</span>(<span class="hljs-params">i.indexOf(<span class="hljs-string">"."</span></span>)&gt;=0)<span class="hljs-params">return</span>;<span class="hljs-params">s</span> <span class="hljs-params">in</span> <span class="hljs-params">a</span>||(<span class="hljs-params">a[s]=o</span>)})}),<span class="hljs-params">t</span>},<span class="hljs-params">t</span>.<span class="hljs-params">exports</span>.<span class="hljs-params">_logFunc</span>=(<span class="hljs-params">e,t,i,a,s,...o</span>)=&gt;</span>{<span class="hljs-keyword">let</span> n={};<span class="hljs-built_in">Object</span>.keys(i||{}).forEach(<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>{<span class="hljs-string">"level"</span>!==e&amp;&amp;<span class="hljs-function">(<span class="hljs-params">n[e]=i[e]</span>)}),<span class="hljs-params">Object</span>.<span class="hljs-params">keys</span>(<span class="hljs-params">a||{}</span>).<span class="hljs-params">forEach</span>(<span class="hljs-params">e=&gt;{<span class="hljs-string">"level"</span>!==e&amp;&amp;(n[e]=a[e]</span>)}),<span class="hljs-params">e</span>[<span class="hljs-params">t</span>](<span class="hljs-params">n,s,...o</span>)},<span class="hljs-params">t</span>.<span class="hljs-params">exports</span>.<span class="hljs-params">getLogger</span>=(<span class="hljs-params">e,i</span>)=&gt;</span>{<span class="hljs-keyword">var</span> a;<span class="hljs-keyword">let</span> s,n,r,p,c={},l=[<span class="hljs-string">"trace"</span>,<span class="hljs-string">"debug"</span>,<span class="hljs-string">"info"</span>,<span class="hljs-string">"warn"</span>,<span class="hljs-string">"error"</span>,<span class="hljs-string">"fatal"</span>];<span class="hljs-keyword">if</span>(!<span class="hljs-function">(<span class="hljs-params">e=e||{}</span>).<span class="hljs-params">logger</span>)<span class="hljs-params">return</span> <span class="hljs-params">l</span>.<span class="hljs-params">forEach</span>(<span class="hljs-params">e=&gt;{c[e]=(</span>)=&gt;</span>!<span class="hljs-number">1</span>}),c;<span class="hljs-keyword">let</span> d=e.logger;<span class="hljs-keyword">return</span>!<span class="hljs-number">0</span>===e.logger&amp;&amp;<span class="hljs-function">(<span class="hljs-params">a=l,s=<span class="hljs-number">0</span>,n=<span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>,a.forEach(e=&gt;{e.length&gt;s&amp;&amp;(s=e.length</span>)}),<span class="hljs-params">a</span>.<span class="hljs-params">forEach</span>(<span class="hljs-params">e=&gt;{<span class="hljs-keyword">let</span> t=e.toUpperCase(</span>);<span class="hljs-params">t</span>.<span class="hljs-params">length</span>&lt;<span class="hljs-params">s</span>&amp;&amp;(<span class="hljs-params">t+=<span class="hljs-string">" "</span>.repeat(s-t.length</span>)),<span class="hljs-params">n</span>.<span class="hljs-params">set</span>(<span class="hljs-params">e,t</span>)}),<span class="hljs-params">r</span>=(<span class="hljs-params">e,t,i,...a</span>)=&gt;</span>{<span class="hljs-keyword">let</span> s=<span class="hljs-string">""</span>;t&amp;&amp;<span class="hljs-function">(<span class="hljs-params"><span class="hljs-string">"server"</span>===t.tnx?s=<span class="hljs-string">"S: "</span>:<span class="hljs-string">"client"</span>===t.tnx&amp;&amp;(s=<span class="hljs-string">"C: "</span></span>),<span class="hljs-params">t</span>.<span class="hljs-params">sid</span>&amp;&amp;(<span class="hljs-params">s=<span class="hljs-string">"["</span>+t.sid+<span class="hljs-string">"] "</span>+s</span>),<span class="hljs-params">t</span>.<span class="hljs-params">cid</span>&amp;&amp;(<span class="hljs-params">s=<span class="hljs-string">"[#"</span>+t.cid+<span class="hljs-string">"] "</span>+s</span>)),(<span class="hljs-params">i=o.format(i,...a</span>)).<span class="hljs-params">split</span>(<span class="hljs-params"><span class="hljs-regexp">/\r?\n/</span></span>).<span class="hljs-params">forEach</span>(<span class="hljs-params">t=&gt;{<span class="hljs-built_in">console</span>.log(<span class="hljs-string">"[%s] %s %s"</span>,<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(</span>).<span class="hljs-params">toISOString</span><span class="hljs-params">()</span>.<span class="hljs-params">substr</span>(<span class="hljs-params"><span class="hljs-number">0</span>,<span class="hljs-number">19</span></span>).<span class="hljs-params">replace</span>(<span class="hljs-params"><span class="hljs-regexp">/T/</span>,<span class="hljs-string">" "</span></span>),<span class="hljs-params">n</span>.<span class="hljs-params">get</span>(<span class="hljs-params">e</span>),<span class="hljs-params">s</span>+<span class="hljs-params">t</span>)})},<span class="hljs-params">p</span>={},<span class="hljs-params">a</span>.<span class="hljs-params">forEach</span>(<span class="hljs-params">e=&gt;{p[e]=r.bind(<span class="hljs-literal">null</span>,e</span>)}),<span class="hljs-params">d</span>=<span class="hljs-params">p</span>),<span class="hljs-params">l</span>.<span class="hljs-params">forEach</span>(<span class="hljs-params">e=&gt;{c[e]=(a,s,...o</span>)=&gt;</span>{t.exports._logFunc(d,e,i,a,s,...o)}}),c},t.exports.callbackPromise=<span class="hljs-function">(<span class="hljs-params">e,t</span>)=&gt;</span><span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">let</span> i=<span class="hljs-built_in">Array</span>.from(<span class="hljs-built_in">arguments</span>),a=i.shift();a?t(a):e(...i)},t.exports.parseDataURI=<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>{<span class="hljs-keyword">let</span> t,i;<span class="hljs-keyword">if</span>(<span class="hljs-string">"string"</span>!=<span class="hljs-keyword">typeof</span> e||!e.startsWith(<span class="hljs-string">"data:"</span>))<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<span class="hljs-keyword">let</span> a=e.indexOf(<span class="hljs-string">","</span>);<span class="hljs-keyword">if</span>(<span class="hljs-number">-1</span>===a)<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<span class="hljs-keyword">let</span> s=e.substring(a+<span class="hljs-number">1</span>),o=e.substring(<span class="hljs-number">5</span>,a).split(<span class="hljs-string">";"</span>);<span class="hljs-keyword">if</span>(o.length&gt;<span class="hljs-number">0</span>){<span class="hljs-keyword">let</span> e=o[o.length<span class="hljs-number">-1</span>].toLowerCase().trim();[<span class="hljs-string">"base64"</span>,<span class="hljs-string">"utf8"</span>,<span class="hljs-string">"utf-8"</span>].includes(e)&amp;&amp;<span class="hljs-number">-1</span>===e.indexOf(<span class="hljs-string">"="</span>)&amp;&amp;<span class="hljs-function">(<span class="hljs-params">t=e,o.pop(</span>))}<span class="hljs-params">let</span> <span class="hljs-params">n</span>=<span class="hljs-params">o</span>.<span class="hljs-params">length</span>&gt;0?<span class="hljs-params">o</span>.<span class="hljs-params">shift</span><span class="hljs-params">()</span>:"<span class="hljs-params">application</span>/<span class="hljs-params">octet</span>-<span class="hljs-params">stream</span>",<span class="hljs-params">r</span>={};<span class="hljs-params">for</span>(<span class="hljs-params"><span class="hljs-keyword">let</span> e=<span class="hljs-number">0</span>;e&lt;o.length;e++</span>){<span class="hljs-params">let</span> <span class="hljs-params">t</span>=<span class="hljs-params">o</span>[<span class="hljs-params">e</span>],<span class="hljs-params">i</span>=<span class="hljs-params">t</span>.<span class="hljs-params">indexOf</span>(<span class="hljs-params"><span class="hljs-string">"="</span></span>);<span class="hljs-params">if</span>(<span class="hljs-params">i&gt;<span class="hljs-number">0</span></span>){<span class="hljs-params">let</span> <span class="hljs-params">e</span>=<span class="hljs-params">t</span>.<span class="hljs-params">substring</span>(<span class="hljs-params"><span class="hljs-number">0</span>,i</span>).<span class="hljs-params">trim</span><span class="hljs-params">()</span>,<span class="hljs-params">a</span>=<span class="hljs-params">t</span>.<span class="hljs-params">substring</span>(<span class="hljs-params">i+<span class="hljs-number">1</span></span>).<span class="hljs-params">trim</span><span class="hljs-params">()</span>;<span class="hljs-params">e</span>&amp;&amp;(<span class="hljs-params">r[e]=a</span>)}}<span class="hljs-params">try</span>{<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-string">"base64"</span>===t</span>)<span class="hljs-params">i</span>=<span class="hljs-params">Buffer</span>.<span class="hljs-params">from</span>(<span class="hljs-params">s,<span class="hljs-string">"base64"</span></span>);<span class="hljs-params">else</span> <span class="hljs-params">try</span>{<span class="hljs-params">i</span>=<span class="hljs-params">Buffer</span>.<span class="hljs-params">from</span>(<span class="hljs-params"><span class="hljs-built_in">decodeURIComponent</span>(s</span>))}<span class="hljs-params">catch</span>(<span class="hljs-params">e</span>){<span class="hljs-params">i</span>=<span class="hljs-params">Buffer</span>.<span class="hljs-params">from</span>(<span class="hljs-params">s</span>)}}<span class="hljs-params">catch</span>(<span class="hljs-params">e</span>){<span class="hljs-params">i</span>=<span class="hljs-params">Buffer</span>.<span class="hljs-params">alloc</span>(<span class="hljs-params"><span class="hljs-number">0</span></span>)}<span class="hljs-params">return</span>{<span class="hljs-params">data</span>:<span class="hljs-params">i</span>,<span class="hljs-params">encoding</span>:<span class="hljs-params">t</span>||<span class="hljs-params">null</span>,<span class="hljs-params">contentType</span>:<span class="hljs-params">n</span>||"<span class="hljs-params">application</span>/<span class="hljs-params">octet</span>-<span class="hljs-params">stream</span>",<span class="hljs-params">params</span>:<span class="hljs-params">r</span>}},<span class="hljs-params">t</span>.<span class="hljs-params">exports</span>.<span class="hljs-params">resolveContent</span>=(<span class="hljs-params">e,i,a</span>)=&gt;</span>{<span class="hljs-keyword">let</span> s;a||<span class="hljs-function">(<span class="hljs-params">s=<span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>((e,i</span>)=&gt;</span>{a=t.exports.callbackPromise(e,i)}));<span class="hljs-keyword">let</span> o=e&amp;&amp;e[i]&amp;&amp;e[i].content||e[i],p=<span class="hljs-function">(<span class="hljs-params"><span class="hljs-string">"object"</span>==<span class="hljs-keyword">typeof</span> e[i]&amp;&amp;e[i].encoding||<span class="hljs-string">"utf8"</span></span>).<span class="hljs-params">toString</span><span class="hljs-params">()</span>.<span class="hljs-params">toLowerCase</span><span class="hljs-params">()</span>.<span class="hljs-params">replace</span>(<span class="hljs-params"><span class="hljs-regexp">/[-_\s]/g</span>,<span class="hljs-string">""</span></span>);<span class="hljs-params">if</span>(<span class="hljs-params">!o</span>)<span class="hljs-params">return</span> <span class="hljs-params">a</span>(<span class="hljs-params"><span class="hljs-literal">null</span>,o</span>);<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-string">"object"</span>==<span class="hljs-keyword">typeof</span> o</span>){<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-string">"function"</span>==<span class="hljs-keyword">typeof</span> o.pipe</span>)<span class="hljs-params">return</span> <span class="hljs-params">f</span>(<span class="hljs-params">o,(t,s</span>)=&gt;</span>{<span class="hljs-keyword">if</span>(t)<span class="hljs-keyword">return</span> a(t);e[i].content?e[i].content=s:e[i]=s,a(<span class="hljs-literal">null</span>,s)});<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-regexp">/^https?:\/\//i</span>.test(o.path||o.href))<span class="hljs-keyword">return</span> f(r(o.path||o.href),a);<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-regexp">/^data:/i</span>.test(o.path||o.href)){<span class="hljs-keyword">let</span> e=t.exports.parseDataURI(o.path||o.href);<span class="hljs-keyword">return</span> e&amp;&amp;e.data?a(<span class="hljs-literal">null</span>,e.data):a(<span class="hljs-literal">null</span>,Buffer.from(<span class="hljs-number">0</span>))}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(o.path)<span class="hljs-keyword">return</span> f(n.createReadStream(o.path),a)}<span class="hljs-keyword">return</span><span class="hljs-string">"string"</span>!=<span class="hljs-keyword">typeof</span> e[i].content||[<span class="hljs-string">"utf8"</span>,<span class="hljs-string">"usascii"</span>,<span class="hljs-string">"ascii"</span>].includes(p)||<span class="hljs-function">(<span class="hljs-params">o=Buffer.<span class="hljs-keyword">from</span>(e[i].content,p</span>)),<span class="hljs-params">setImmediate</span>(<span class="hljs-params">(</span>)=&gt;</span>a(<span class="hljs-literal">null</span>,o)),s},t.exports.assign=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">let</span> e=<span class="hljs-built_in">Array</span>.from(<span class="hljs-built_in">arguments</span>),t=e.shift()||{};<span class="hljs-keyword">return</span> e.forEach(<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>{<span class="hljs-built_in">Object</span>.keys(e||{}).forEach(<span class="hljs-function"><span class="hljs-params">i</span>=&gt;</span>{[<span class="hljs-string">"tls"</span>,<span class="hljs-string">"auth"</span>].includes(i)&amp;&amp;e[i]&amp;&amp;<span class="hljs-string">"object"</span>==<span class="hljs-keyword">typeof</span> e[i]?<span class="hljs-function">(<span class="hljs-params">t[i]||(t[i]={}</span>),<span class="hljs-params">Object</span>.<span class="hljs-params">keys</span>(<span class="hljs-params">e[i]</span>).<span class="hljs-params">forEach</span>(<span class="hljs-params">a=&gt;{t[i][a]=e[i][a]}</span>)):<span class="hljs-params">t</span>[<span class="hljs-params">i</span>]=<span class="hljs-params">e</span>[<span class="hljs-params">i</span>]})}),<span class="hljs-params">t</span>},<span class="hljs-params">t</span>.<span class="hljs-params">exports</span>.<span class="hljs-params">encodeXText</span>=<span class="hljs-params">e</span>=&gt;</span>{<span class="hljs-keyword">if</span>(!<span class="hljs-regexp">/[^\x21-\x2A\x2C-\x3C\x3E-\x7E]/</span>.test(e))<span class="hljs-keyword">return</span> e;<span class="hljs-keyword">let</span> t=Buffer.from(e),i=<span class="hljs-string">""</span>;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> e=<span class="hljs-number">0</span>,a=t.length;e&lt;a;e++){<span class="hljs-keyword">let</span> a=t[e];a&lt;<span class="hljs-number">33</span>||a&gt;<span class="hljs-number">126</span>||<span class="hljs-number">43</span>===a||<span class="hljs-number">61</span>===a?i+=<span class="hljs-string">"+"</span>+<span class="hljs-function">(<span class="hljs-params">a&lt;<span class="hljs-number">16</span>?<span class="hljs-string">"0"</span>:<span class="hljs-string">""</span></span>)+<span class="hljs-params">a</span>.<span class="hljs-params">toString</span>(<span class="hljs-params"><span class="hljs-number">16</span></span>).<span class="hljs-params">toUpperCase</span><span class="hljs-params">()</span>:<span class="hljs-params">i</span>+=<span class="hljs-params">String</span>.<span class="hljs-params">fromCharCode</span>(<span class="hljs-params">a</span>)}<span class="hljs-params">return</span> <span class="hljs-params">i</span>}},97364,(<span class="hljs-params">e,t,i</span>)=&gt;</span>{<span class="hljs-string">"use strict"</span>;<span class="hljs-keyword">let</span> a=e.r(<span class="hljs-number">14747</span>),s=<span class="hljs-string">"application/octet-stream"</span>,o=<span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>([[<span class="hljs-string">"application/acad"</span>,<span class="hljs-string">"dwg"</span>],[<span class="hljs-string">"application/applixware"</span>,<span class="hljs-string">"aw"</span>],[<span class="hljs-string">"application/arj"</span>,<span class="hljs-string">"arj"</span>],[<span class="hljs-string">"application/atom+xml"</span>,<span class="hljs-string">"xml"</span>],[<span class="hljs-string">"application/atomcat+xml"</span>,<span class="hljs-string">"atomcat"</span>],[<span class="hljs-string">"application/atomsvc+xml"</span>,<span class="hljs-string">"atomsvc"</span>],[<span class="hljs-string">"application/base64"</span>,[<span class="hljs-string">"mm"</span>,<span class="hljs-string">"mme"</span>]],[<span class="hljs-string">"application/binhex"</span>,<span class="hljs-string">"hqx"</span>],[<span class="hljs-string">"application/binhex4"</span>,<span class="hljs-string">"hqx"</span>],[<span class="hljs-string">"application/book"</span>,[<span class="hljs-string">"book"</span>,<span class="hljs-string">"boo"</span>]],[<span class="hljs-string">"application/ccxml+xml,"</span>,<span class="hljs-string">"ccxml"</span>],[<span class="hljs-string">"application/cdf"</span>,<span class="hljs-string">"cdf"</span>],[<span class="hljs-string">"application/cdmi-capability"</span>,<span class="hljs-string">"cdmia"</span>],[<span class="hljs-string">"application/cdmi-container"</span>,<span class="hljs-string">"cdmic"</span>],[<span class="hljs-string">"application/cdmi-domain"</span>,<span class="hljs-string">"cdmid"</span>],[<span class="hljs-string">"application/cdmi-object"</span>,<span class="hljs-string">"cdmio"</span>],[<span class="hljs-string">"application/cdmi-queue"</span>,<span class="hljs-string">"cdmiq"</span>],[<span class="hljs-string">"application/clariscad"</span>,<span class="hljs-string">"ccad"</span>],[<span class="hljs-string">"application/commonground"</span>,<span class="hljs-string">"dp"</span>],[<span class="hljs-string">"application/cu-seeme"</span>,<span class="hljs-string">"cu"</span>],[<span class="hljs-string">"application/davmount+xml"</span>,<span class="hljs-string">"davmount"</span>],[<span class="hljs-string">"application/drafting"</span>,<span class="hljs-string">"drw"</span>],[<span class="hljs-string">"application/dsptype"</span>,<span class="hljs-string">"tsp"</span>],[<span class="hljs-string">"application/dssc+der"</span>,<span class="hljs-string">"dssc"</span>],[<span class="hljs-string">"application/dssc+xml"</span>,<span class="hljs-string">"xdssc"</span>],[<span class="hljs-string">"application/dxf"</span>,<span class="hljs-string">"dxf"</span>],[<span class="hljs-string">"application/ecmascript"</span>,[<span class="hljs-string">"js"</span>,<span class="hljs-string">"es"</span>]],[<span class="hljs-string">"application/emma+xml"</span>,<span class="hljs-string">"emma"</span>],[<span class="hljs-string">"application/envoy"</span>,<span class="hljs-string">"evy"</span>],[<span class="hljs-string">"application/epub+zip"</span>,<span class="hljs-string">"epub"</span>],[<span class="hljs-string">"application/excel"</span>,[<span class="hljs-string">"xls"</span>,<span class="hljs-string">"xl"</span>,<span class="hljs-string">"xla"</span>,<span class="hljs-string">"xlb"</span>,<span class="hljs-string">"xlc"</span>,<span class="hljs-string">"xld"</span>,<span class="hljs-string">"xlk"</span>,<span class="hljs-string">"xll"</span>,<span class="hljs-string">"xlm"</span>,<span class="hljs-string">"xlt"</span>,<span class="hljs-string">"xlv"</span>,<span class="hljs-string">"xlw"</span>]],[<span class="hljs-string">"application/exi"</span>,<span class="hljs-string">"exi"</span>],[<span class="hljs-string">"application/font-tdpfr"</span>,<span class="hljs-string">"pfr"</span>],[<span class="hljs-string">"application/fractals"</span>,<span class="hljs-string">"fif"</span>],[<span class="hljs-string">"application/freeloader"</span>,<span class="hljs-string">"frl"</span>],[<span class="hljs-string">"application/futuresplash"</span>,<span class="hljs-string">"spl"</span>],[<span class="hljs-string">"application/geo+json"</span>,<span class="hljs-string">"geojson"</span>],[<span class="hljs-string">"application/gnutar"</span>,<span class="hljs-string">"tgz"</span>],[<span class="hljs-string">"application/groupwise"</span>,<span class="hljs-string">"vew"</span>],[<span class="hljs-string">"application/hlp"</span>,<span class="hljs-string">"hlp"</span>],[<span class="hljs-string">"application/hta"</span>,<span class="hljs-string">"hta"</span>],[<span class="hljs-string">"application/hyperstudio"</span>,<span class="hljs-string">"stk"</span>],[<span class="hljs-string">"application/i-deas"</span>,<span class="hljs-string">"unv"</span>],[<span class="hljs-string">"application/iges"</span>,[<span class="hljs-string">"iges"</span>,<span class="hljs-string">"igs"</span>]],[<span class="hljs-string">"application/inf"</span>,<span class="hljs-string">"inf"</span>],[<span class="hljs-string">"application/internet-property-stream"</span>,<span class="hljs-string">"acx"</span>],[<span class="hljs-string">"application/ipfix"</span>,<span class="hljs-string">"ipfix"</span>],[<span class="hljs-string">"application/java"</span>,<span class="hljs-string">"class"</span>],[<span class="hljs-string">"application/java-archive"</span>,<span class="hljs-string">"jar"</span>],[<span class="hljs-string">"application/java-byte-code"</span>,<span class="hljs-string">"class"</span>],[<span class="hljs-string">"application/java-serialized-object"</span>,<span class="hljs-string">"ser"</span>],[<span class="hljs-string">"application/java-vm"</span>,<span class="hljs-string">"class"</span>],[<span class="hljs-string">"application/javascript"</span>,<span class="hljs-string">"js"</span>],[<span class="hljs-string">"application/json"</span>,<span class="hljs-string">"json"</span>],[<span class="hljs-string">"application/lha"</span>,<span class="hljs-string">"lha"</span>],[<span class="hljs-string">"application/lzx"</span>,<span class="hljs-string">"lzx"</span>],[<span class="hljs-string">"application/mac-binary"</span>,<span class="hljs-string">"bin"</span>],[<span class="hljs-string">"application/mac-binhex"</span>,<span class="hljs-string">"hqx"</span>],[<span class="hljs-string">"application/mac-binhex40"</span>,<span class="hljs-string">"hqx"</span>],[<span class="hljs-string">"application/mac-compactpro"</span>,<span class="hljs-string">"cpt"</span>],[<span class="hljs-string">"application/macbinary"</span>,<span class="hljs-string">"bin"</span>],[<span class="hljs-string">"application/mads+xml"</span>,<span class="hljs-string">"mads"</span>],[<span class="hljs-string">"application/marc"</span>,<span class="hljs-string">"mrc"</span>],[<span class="hljs-string">"application/marcxml+xml"</span>,<span class="hljs-string">"mrcx"</span>],[<span class="hljs-string">"application/mathematica"</span>,<span class="hljs-string">"ma"</span>],[<span class="hljs-string">"application/mathml+xml"</span>,<span class="hljs-string">"mathml"</span>],[<span class="hljs-string">"application/mbedlet"</span>,<span class="hljs-string">"mbd"</span>],[<span class="hljs-string">"application/mbox"</span>,<span class="hljs-string">"mbox"</span>],[<span class="hljs-string">"application/mcad"</span>,<span class="hljs-string">"mcd"</span>],[<span class="hljs-string">"application/mediaservercontrol+xml"</span>,<span class="hljs-string">"mscml"</span>],[<span class="hljs-string">"application/metalink4+xml"</span>,<span class="hljs-string">"meta4"</span>],[<span class="hljs-string">"application/mets+xml"</span>,<span class="hljs-string">"mets"</span>],[<span class="hljs-string">"application/mime"</span>,<span class="hljs-string">"aps"</span>],[<span class="hljs-string">"application/mods+xml"</span>,<span class="hljs-string">"mods"</span>],[<span class="hljs-string">"application/mp21"</span>,<span class="hljs-string">"m21"</span>],[<span class="hljs-string">"application/mp4"</span>,<span class="hljs-string">"mp4"</span>],[<span class="hljs-string">"application/mspowerpoint"</span>,[<span class="hljs-string">"ppt"</span>,<span class="hljs-string">"pot"</span>,<span class="hljs-string">"pps"</span>,<span class="hljs-string">"ppz"</span>]],[<span class="hljs-string">"application/msword"</span>,[<span class="hljs-string">"doc"</span>,<span class="hljs-string">"dot"</span>,<span class="hljs-string">"w6w"</span>,<span class="hljs-string">"wiz"</span>,<span class="hljs-string">"word"</span>]],[<span class="hljs-string">"application/mswrite"</span>,<span class="hljs-string">"wri"</span>],[<span class="hljs-string">"application/mxf"</span>,<span class="hljs-string">"mxf"</span>],[<span class="hljs-string">"application/netmc"</span>,<span class="hljs-string">"mcp"</span>],[<span class="hljs-string">"application/octet-stream"</span>,[<span class="hljs-string">"*"</span>]],[<span class="hljs-string">"application/oda"</span>,<span class="hljs-string">"oda"</span>],[<span class="hljs-string">"application/oebps-package+xml"</span>,<span class="hljs-string">"opf"</span>],[<span class="hljs-string">"application/ogg"</span>,<span class="hljs-string">"ogx"</span>],[<span class="hljs-string">"application/olescript"</span>,<span class="hljs-string">"axs"</span>],[<span class="hljs-string">"application/onenote"</span>,<span class="hljs-string">"onetoc"</span>],[<span class="hljs-string">"application/patch-ops-error+xml"</span>,<span class="hljs-string">"xer"</span>],[<span class="hljs-string">"application/pdf"</span>,<span class="hljs-string">"pdf"</span>],[<span class="hljs-string">"application/pgp-encrypted"</span>,<span class="hljs-string">"asc"</span>],[<span class="hljs-string">"application/pgp-signature"</span>,<span class="hljs-string">"pgp"</span>],[<span class="hljs-string">"application/pics-rules"</span>,<span class="hljs-string">"prf"</span>],[<span class="hljs-string">"application/pkcs-12"</span>,<span class="hljs-string">"p12"</span>],[<span class="hljs-string">"application/pkcs-crl"</span>,<span class="hljs-string">"crl"</span>],[<span class="hljs-string">"application/pkcs10"</span>,<span class="hljs-string">"p10"</span>],[<span class="hljs-string">"application/pkcs7-mime"</span>,[<span class="hljs-string">"p7c"</span>,<span class="hljs-string">"p7m"</span>]],[<span class="hljs-string">"application/pkcs7-signature"</span>,<span class="hljs-string">"p7s"</span>],[<span class="hljs-string">"application/pkcs8"</span>,<span class="hljs-string">"p8"</span>],[<span class="hljs-string">"application/pkix-attr-cert"</span>,<span class="hljs-string">"ac"</span>],[<span class="hljs-string">"application/pkix-cert"</span>,[<span class="hljs-string">"cer"</span>,<span class="hljs-string">"crt"</span>]],[<span class="hljs-string">"application/pkix-crl"</span>,<span class="hljs-string">"crl"</span>],[<span class="hljs-string">"application/pkix-pkipath"</span>,<span class="hljs-string">"pkipath"</span>],[<span class="hljs-string">"application/pkixcmp"</span>,<span class="hljs-string">"pki"</span>],[<span class="hljs-string">"application/plain"</span>,<span class="hljs-string">"text"</span>],[<span class="hljs-string">"application/pls+xml"</span>,<span class="hljs-string">"pls"</span>],[<span class="hljs-string">"application/postscript"</span>,[<span class="hljs-string">"ps"</span>,<span class="hljs-string">"ai"</span>,<span class="hljs-string">"eps"</span>]],[<span class="hljs-string">"application/powerpoint"</span>,<span class="hljs-string">"ppt"</span>],[<span class="hljs-string">"application/pro_eng"</span>,[<span class="hljs-string">"part"</span>,<span class="hljs-string">"prt"</span>]],[<span class="hljs-string">"application/prs.cww"</span>,<span class="hljs-string">"cww"</span>],[<span class="hljs-string">"application/pskc+xml"</span>,<span class="hljs-string">"pskcxml"</span>],[<span class="hljs-string">"application/rdf+xml"</span>,<span class="hljs-string">"rdf"</span>],[<span class="hljs-string">"application/reginfo+xml"</span>,<span class="hljs-string">"rif"</span>],[<span class="hljs-string">"application/relax-ng-compact-syntax"</span>,<span class="hljs-string">"rnc"</span>],[<span class="hljs-string">"application/resource-lists+xml"</span>,<span class="hljs-string">"rl"</span>],[<span class="hljs-string">"application/resource-lists-diff+xml"</span>,<span class="hljs-string">"rld"</span>],[<span class="hljs-string">"application/ringing-tones"</span>,<span class="hljs-string">"rng"</span>],[<span class="hljs-string">"application/rls-services+xml"</span>,<span class="hljs-string">"rs"</span>],[<span class="hljs-string">"application/rsd+xml"</span>,<span class="hljs-string">"rsd"</span>],[<span class="hljs-string">"application/rss+xml"</span>,<span class="hljs-string">"xml"</span>],[<span class="hljs-string">"application/rtf"</span>,[<span class="hljs-string">"rtf"</span>,<span class="hljs-string">"rtx"</span>]],[<span class="hljs-string">"application/sbml+xml"</span>,<span class="hljs-string">"sbml"</span>],[<span class="hljs-string">"application/scvp-cv-request"</span>,<span class="hljs-string">"scq"</span>],[<span class="hljs-string">"application/scvp-cv-response"</span>,<span class="hljs-string">"scs"</span>],[<span class="hljs-string">"application/scvp-vp-request"</span>,<span class="hljs-string">"spq"</span>],[<span class="hljs-string">"application/scvp-vp-response"</span>,<span class="hljs-string">"spp"</span>],[<span class="hljs-string">"application/sdp"</span>,<span class="hljs-string">"sdp"</span>],[<span class="hljs-string">"application/sea"</span>,<span class="hljs-string">"sea"</span>],[<span class="hljs-string">"application/set"</span>,<span class="hljs-string">"set"</span>],[<span class="hljs-string">"application/set-payment-initiation"</span>,<span class="hljs-string">"setpay"</span>],[<span class="hljs-string">"application/set-registration-initiation"</span>,<span class="hljs-string">"setreg"</span>],[<span class="hljs-string">"application/shf+xml"</span>,<span class="hljs-string">"shf"</span>],[<span class="hljs-string">"application/sla"</span>,<span class="hljs-string">"stl"</span>],[<span class="hljs-string">"application/smil"</span>,[<span class="hljs-string">"smi"</span>,<span class="hljs-string">"smil"</span>]],[<span class="hljs-string">"application/smil+xml"</span>,<span class="hljs-string">"smi"</span>],[<span class="hljs-string">"application/solids"</span>,<span class="hljs-string">"sol"</span>],[<span class="hljs-string">"application/sounder"</span>,<span class="hljs-string">"sdr"</span>],[<span class="hljs-string">"application/sparql-query"</span>,<span class="hljs-string">"rq"</span>],[<span class="hljs-string">"application/sparql-results+xml"</span>,<span class="hljs-string">"srx"</span>],[<span class="hljs-string">"application/srgs"</span>,<span class="hljs-string">"gram"</span>],[<span class="hljs-string">"application/srgs+xml"</span>,<span class="hljs-string">"grxml"</span>],[<span class="hljs-string">"application/sru+xml"</span>,<span class="hljs-string">"sru"</span>],[<span class="hljs-string">"application/ssml+xml"</span>,<span class="hljs-string">"ssml"</span>],[<span class="hljs-string">"application/step"</span>,[<span class="hljs-string">"step"</span>,<span class="hljs-string">"stp"</span>]],[<span class="hljs-string">"application/streamingmedia"</span>,<span class="hljs-string">"ssm"</span>],[<span class="hljs-string">"application/tei+xml"</span>,<span class="hljs-string">"tei"</span>],[<span class="hljs-string">"application/thraud+xml"</span>,<span class="hljs-string">"tfi"</span>],[<span class="hljs-string">"application/timestamped-data"</span>,<span class="hljs-string">"tsd"</span>],[<span class="hljs-string">"application/toolbook"</span>,<span class="hljs-string">"tbk"</span>],[<span class="hljs-string">"application/vda"</span>,<span class="hljs-string">"vda"</span>],[<span class="hljs-string">"application/vnd.3gpp.pic-bw-large"</span>,<span class="hljs-string">"plb"</span>],[<span class="hljs-string">"application/vnd.3gpp.pic-bw-small"</span>,<span class="hljs-string">"psb"</span>],[<span class="hljs-string">"application/vnd.3gpp.pic-bw-var"</span>,<span class="hljs-string">"pvb"</span>],[<span class="hljs-string">"application/vnd.3gpp2.tcap"</span>,<span class="hljs-string">"tcap"</span>],[<span class="hljs-string">"application/vnd.3m.post-it-notes"</span>,<span class="hljs-string">"pwn"</span>],[<span class="hljs-string">"application/vnd.accpac.simply.aso"</span>,<span class="hljs-string">"aso"</span>],[<span class="hljs-string">"application/vnd.accpac.simply.imp"</span>,<span class="hljs-string">"imp"</span>],[<span class="hljs-string">"application/vnd.acucobol"</span>,<span class="hljs-string">"acu"</span>],[<span class="hljs-string">"application/vnd.acucorp"</span>,<span class="hljs-string">"atc"</span>],[<span class="hljs-string">"application/vnd.adobe.air-application-installer-package+zip"</span>,<span class="hljs-string">"air"</span>],[<span class="hljs-string">"application/vnd.adobe.fxp"</span>,<span class="hljs-string">"fxp"</span>],[<span class="hljs-string">"application/vnd.adobe.xdp+xml"</span>,<span class="hljs-string">"xdp"</span>],[<span class="hljs-string">"application/vnd.adobe.xfdf"</span>,<span class="hljs-string">"xfdf"</span>],[<span class="hljs-string">"application/vnd.ahead.space"</span>,<span class="hljs-string">"ahead"</span>],[<span class="hljs-string">"application/vnd.airzip.filesecure.azf"</span>,<span class="hljs-string">"azf"</span>],[<span class="hljs-string">"application/vnd.airzip.filesecure.azs"</span>,<span class="hljs-string">"azs"</span>],[<span class="hljs-string">"application/vnd.amazon.ebook"</span>,<span class="hljs-string">"azw"</span>],[<span class="hljs-string">"application/vnd.americandynamics.acc"</span>,<span class="hljs-string">"acc"</span>],[<span class="hljs-string">"application/vnd.amiga.ami"</span>,<span class="hljs-string">"ami"</span>],[<span class="hljs-string">"application/vnd.android.package-archive"</span>,<span class="hljs-string">"apk"</span>],[<span class="hljs-string">"application/vnd.anser-web-certificate-issue-initiation"</span>,<span class="hljs-string">"cii"</span>],[<span class="hljs-string">"application/vnd.anser-web-funds-transfer-initiation"</span>,<span class="hljs-string">"fti"</span>],[<span class="hljs-string">"application/vnd.antix.game-component"</span>,<span class="hljs-string">"atx"</span>],[<span class="hljs-string">"application/vnd.apple.installer+xml"</span>,<span class="hljs-string">"mpkg"</span>],[<span class="hljs-string">"application/vnd.apple.mpegurl"</span>,<span class="hljs-string">"m3u8"</span>],[<span class="hljs-string">"application/vnd.aristanetworks.swi"</span>,<span class="hljs-string">"swi"</span>],[<span class="hljs-string">"application/vnd.audiograph"</span>,<span class="hljs-string">"aep"</span>],[<span class="hljs-string">"application/vnd.blueice.multipass"</span>,<span class="hljs-string">"mpm"</span>],[<span class="hljs-string">"application/vnd.bmi"</span>,<span class="hljs-string">"bmi"</span>],[<span class="hljs-string">"application/vnd.businessobjects"</span>,<span class="hljs-string">"rep"</span>],[<span class="hljs-string">"application/vnd.chemdraw+xml"</span>,<span class="hljs-string">"cdxml"</span>],[<span class="hljs-string">"application/vnd.chipnuts.karaoke-mmd"</span>,<span class="hljs-string">"mmd"</span>],[<span class="hljs-string">"application/vnd.cinderella"</span>,<span class="hljs-string">"cdy"</span>],[<span class="hljs-string">"application/vnd.claymore"</span>,<span class="hljs-string">"cla"</span>],[<span class="hljs-string">"application/vnd.cloanto.rp9"</span>,<span class="hljs-string">"rp9"</span>],[<span class="hljs-string">"application/vnd.clonk.c4group"</span>,<span class="hljs-string">"c4g"</span>],[<span class="hljs-string">"application/vnd.cluetrust.cartomobile-config"</span>,<span class="hljs-string">"c11amc"</span>],[<span class="hljs-string">"application/vnd.cluetrust.cartomobile-config-pkg"</span>,<span class="hljs-string">"c11amz"</span>],[<span class="hljs-string">"application/vnd.commonspace"</span>,<span class="hljs-string">"csp"</span>],[<span class="hljs-string">"application/vnd.contact.cmsg"</span>,<span class="hljs-string">"cdbcmsg"</span>],[<span class="hljs-string">"application/vnd.cosmocaller"</span>,<span class="hljs-string">"cmc"</span>],[<span class="hljs-string">"application/vnd.crick.clicker"</span>,<span class="hljs-string">"clkx"</span>],[<span class="hljs-string">"application/vnd.crick.clicker.keyboard"</span>,<span class="hljs-string">"clkk"</span>],[<span class="hljs-string">"application/vnd.crick.clicker.palette"</span>,<span class="hljs-string">"clkp"</span>],[<span class="hljs-string">"application/vnd.crick.clicker.template"</span>,<span class="hljs-string">"clkt"</span>],[<span class="hljs-string">"application/vnd.crick.clicker.wordbank"</span>,<span class="hljs-string">"clkw"</span>],[<span class="hljs-string">"application/vnd.criticaltools.wbs+xml"</span>,<span class="hljs-string">"wbs"</span>],[<span class="hljs-string">"application/vnd.ctc-posml"</span>,<span class="hljs-string">"pml"</span>],[<span class="hljs-string">"application/vnd.cups-ppd"</span>,<span class="hljs-string">"ppd"</span>],[<span class="hljs-string">"application/vnd.curl.car"</span>,<span class="hljs-string">"car"</span>],[<span class="hljs-string">"application/vnd.curl.pcurl"</span>,<span class="hljs-string">"pcurl"</span>],[<span class="hljs-string">"application/vnd.data-vision.rdz"</span>,<span class="hljs-string">"rdz"</span>],[<span class="hljs-string">"application/vnd.denovo.fcselayout-link"</span>,<span class="hljs-string">"fe_launch"</span>],[<span class="hljs-string">"application/vnd.dna"</span>,<span class="hljs-string">"dna"</span>],[<span class="hljs-string">"application/vnd.dolby.mlp"</span>,<span class="hljs-string">"mlp"</span>],[<span class="hljs-string">"application/vnd.dpgraph"</span>,<span class="hljs-string">"dpg"</span>],[<span class="hljs-string">"application/vnd.dreamfactory"</span>,<span class="hljs-string">"dfac"</span>],[<span class="hljs-string">"application/vnd.dvb.ait"</span>,<span class="hljs-string">"ait"</span>],[<span class="hljs-string">"application/vnd.dvb.service"</span>,<span class="hljs-string">"svc"</span>],[<span class="hljs-string">"application/vnd.dynageo"</span>,<span class="hljs-string">"geo"</span>],[<span class="hljs-string">"application/vnd.ecowin.chart"</span>,<span class="hljs-string">"mag"</span>],[<span class="hljs-string">"application/vnd.enliven"</span>,<span class="hljs-string">"nml"</span>],[<span class="hljs-string">"application/vnd.epson.esf"</span>,<span class="hljs-string">"esf"</span>],[<span class="hljs-string">"application/vnd.epson.msf"</span>,<span class="hljs-string">"msf"</span>],[<span class="hljs-string">"application/vnd.epson.quickanime"</span>,<span class="hljs-string">"qam"</span>],[<span class="hljs-string">"application/vnd.epson.salt"</span>,<span class="hljs-string">"slt"</span>],[<span class="hljs-string">"application/vnd.epson.ssf"</span>,<span class="hljs-string">"ssf"</span>],[<span class="hljs-string">"application/vnd.eszigno3+xml"</span>,<span class="hljs-string">"es3"</span>],[<span class="hljs-string">"application/vnd.ezpix-album"</span>,<span class="hljs-string">"ez2"</span>],[<span class="hljs-string">"application/vnd.ezpix-package"</span>,<span class="hljs-string">"ez3"</span>],[<span class="hljs-string">"application/vnd.fdf"</span>,<span class="hljs-string">"fdf"</span>],[<span class="hljs-string">"application/vnd.fdsn.seed"</span>,<span class="hljs-string">"seed"</span>],[<span class="hljs-string">"application/vnd.flographit"</span>,<span class="hljs-string">"gph"</span>],[<span class="hljs-string">"application/vnd.fluxtime.clip"</span>,<span class="hljs-string">"ftc"</span>],[<span class="hljs-string">"application/vnd.framemaker"</span>,<span class="hljs-string">"fm"</span>],[<span class="hljs-string">"application/vnd.frogans.fnc"</span>,<span class="hljs-string">"fnc"</span>],[<span class="hljs-string">"application/vnd.frogans.ltf"</span>,<span class="hljs-string">"ltf"</span>],[<span class="hljs-string">"application/vnd.fsc.weblaunch"</span>,<span class="hljs-string">"fsc"</span>],[<span class="hljs-string">"application/vnd.fujitsu.oasys"</span>,<span class="hljs-string">"oas"</span>],[<span class="hljs-string">"application/vnd.fujitsu.oasys2"</span>,<span class="hljs-string">"oa2"</span>],[<span class="hljs-string">"application/vnd.fujitsu.oasys3"</span>,<span class="hljs-string">"oa3"</span>],[<span class="hljs-string">"application/vnd.fujitsu.oasysgp"</span>,<span class="hljs-string">"fg5"</span>],[<span class="hljs-string">"application/vnd.fujitsu.oasysprs"</span>,<span class="hljs-string">"bh2"</span>],[<span class="hljs-string">"application/vnd.fujixerox.ddd"</span>,<span class="hljs-string">"ddd"</span>],[<span class="hljs-string">"application/vnd.fujixerox.docuworks"</span>,<span class="hljs-string">"xdw"</span>],[<span class="hljs-string">"application/vnd.fujixerox.docuworks.binder"</span>,<span class="hljs-string">"xbd"</span>],[<span class="hljs-string">"application/vnd.fuzzysheet"</span>,<span class="hljs-string">"fzs"</span>],[<span class="hljs-string">"application/vnd.genomatix.tuxedo"</span>,<span class="hljs-string">"txd"</span>],[<span class="hljs-string">"application/vnd.geogebra.file"</span>,<span class="hljs-string">"ggb"</span>],[<span class="hljs-string">"application/vnd.geogebra.tool"</span>,<span class="hljs-string">"ggt"</span>],[<span class="hljs-string">"application/vnd.geometry-explorer"</span>,<span class="hljs-string">"gex"</span>],[<span class="hljs-string">"application/vnd.geonext"</span>,<span class="hljs-string">"gxt"</span>],[<span class="hljs-string">"application/vnd.geoplan"</span>,<span class="hljs-string">"g2w"</span>],[<span class="hljs-string">"application/vnd.geospace"</span>,<span class="hljs-string">"g3w"</span>],[<span class="hljs-string">"application/vnd.gmx"</span>,<span class="hljs-string">"gmx"</span>],[<span class="hljs-string">"application/vnd.google-earth.kml+xml"</span>,<span class="hljs-string">"kml"</span>],[<span class="hljs-string">"application/vnd.google-earth.kmz"</span>,<span class="hljs-string">"kmz"</span>],[<span class="hljs-string">"application/vnd.grafeq"</span>,<span class="hljs-string">"gqf"</span>],[<span class="hljs-string">"application/vnd.groove-account"</span>,<span class="hljs-string">"gac"</span>],[<span class="hljs-string">"application/vnd.groove-help"</span>,<span class="hljs-string">"ghf"</span>],[<span class="hljs-string">"application/vnd.groove-identity-message"</span>,<span class="hljs-string">"gim"</span>],[<span class="hljs-string">"application/vnd.groove-injector"</span>,<span class="hljs-string">"grv"</span>],[<span class="hljs-string">"application/vnd.groove-tool-message"</span>,<span class="hljs-string">"gtm"</span>],[<span class="hljs-string">"application/vnd.groove-tool-template"</span>,<span class="hljs-string">"tpl"</span>],[<span class="hljs-string">"application/vnd.groove-vcard"</span>,<span class="hljs-string">"vcg"</span>],[<span class="hljs-string">"application/vnd.hal+xml"</span>,<span class="hljs-string">"hal"</span>],[<span class="hljs-string">"application/vnd.handheld-entertainment+xml"</span>,<span class="hljs-string">"zmm"</span>],[<span class="hljs-string">"application/vnd.hbci"</span>,<span class="hljs-string">"hbci"</span>],[<span class="hljs-string">"application/vnd.hhe.lesson-player"</span>,<span class="hljs-string">"les"</span>],[<span class="hljs-string">"application/vnd.hp-hpgl"</span>,[<span class="hljs-string">"hgl"</span>,<span class="hljs-string">"hpg"</span>,<span class="hljs-string">"hpgl"</span>]],[<span class="hljs-string">"application/vnd.hp-hpid"</span>,<span class="hljs-string">"hpid"</span>],[<span class="hljs-string">"application/vnd.hp-hps"</span>,<span class="hljs-string">"hps"</span>],[<span class="hljs-string">"application/vnd.hp-jlyt"</span>,<span class="hljs-string">"jlt"</span>],[<span class="hljs-string">"application/vnd.hp-pcl"</span>,<span class="hljs-string">"pcl"</span>],[<span class="hljs-string">"application/vnd.hp-pclxl"</span>,<span class="hljs-string">"pclxl"</span>],[<span class="hljs-string">"application/vnd.hydrostatix.sof-data"</span>,<span class="hljs-string">"sfd-hdstx"</span>],[<span class="hljs-string">"application/vnd.hzn-3d-crossword"</span>,<span class="hljs-string">"x3d"</span>],[<span class="hljs-string">"application/vnd.ibm.minipay"</span>,<span class="hljs-string">"mpy"</span>],[<span class="hljs-string">"application/vnd.ibm.modcap"</span>,<span class="hljs-string">"afp"</span>],[<span class="hljs-string">"application/vnd.ibm.rights-management"</span>,<span class="hljs-string">"irm"</span>],[<span class="hljs-string">"application/vnd.ibm.secure-container"</span>,<span class="hljs-string">"sc"</span>],[<span class="hljs-string">"application/vnd.iccprofile"</span>,<span class="hljs-string">"icc"</span>],[<span class="hljs-string">"application/vnd.igloader"</span>,<span class="hljs-string">"igl"</span>],[<span class="hljs-string">"application/vnd.immervision-ivp"</span>,<span class="hljs-string">"ivp"</span>],[<span class="hljs-string">"application/vnd.immervision-ivu"</span>,<span class="hljs-string">"ivu"</span>],[<span class="hljs-string">"application/vnd.insors.igm"</span>,<span class="hljs-string">"igm"</span>],[<span class="hljs-string">"application/vnd.intercon.formnet"</span>,<span class="hljs-string">"xpw"</span>],[<span class="hljs-string">"application/vnd.intergeo"</span>,<span class="hljs-string">"i2g"</span>],[<span class="hljs-string">"application/vnd.intu.qbo"</span>,<span class="hljs-string">"qbo"</span>],[<span class="hljs-string">"application/vnd.intu.qfx"</span>,<span class="hljs-string">"qfx"</span>],[<span class="hljs-string">"application/vnd.ipunplugged.rcprofile"</span>,<span class="hljs-string">"rcprofile"</span>],[<span class="hljs-string">"application/vnd.irepository.package+xml"</span>,<span class="hljs-string">"irp"</span>],[<span class="hljs-string">"application/vnd.is-xpr"</span>,<span class="hljs-string">"xpr"</span>],[<span class="hljs-string">"application/vnd.isac.fcs"</span>,<span class="hljs-string">"fcs"</span>],[<span class="hljs-string">"application/vnd.jam"</span>,<span class="hljs-string">"jam"</span>],[<span class="hljs-string">"application/vnd.jcp.javame.midlet-rms"</span>,<span class="hljs-string">"rms"</span>],[<span class="hljs-string">"application/vnd.jisp"</span>,<span class="hljs-string">"jisp"</span>],[<span class="hljs-string">"application/vnd.joost.joda-archive"</span>,<span class="hljs-string">"joda"</span>],[<span class="hljs-string">"application/vnd.kahootz"</span>,<span class="hljs-string">"ktz"</span>],[<span class="hljs-string">"application/vnd.kde.karbon"</span>,<span class="hljs-string">"karbon"</span>],[<span class="hljs-string">"application/vnd.kde.kchart"</span>,<span class="hljs-string">"chrt"</span>],[<span class="hljs-string">"application/vnd.kde.kformula"</span>,<span class="hljs-string">"kfo"</span>],[<span class="hljs-string">"application/vnd.kde.kivio"</span>,<span class="hljs-string">"flw"</span>],[<span class="hljs-string">"application/vnd.kde.kontour"</span>,<span class="hljs-string">"kon"</span>],[<span class="hljs-string">"application/vnd.kde.kpresenter"</span>,<span class="hljs-string">"kpr"</span>],[<span class="hljs-string">"application/vnd.kde.kspread"</span>,<span class="hljs-string">"ksp"</span>],[<span class="hljs-string">"application/vnd.kde.kword"</span>,<span class="hljs-string">"kwd"</span>],[<span class="hljs-string">"application/vnd.kenameaapp"</span>,<span class="hljs-string">"htke"</span>],[<span class="hljs-string">"application/vnd.kidspiration"</span>,<span class="hljs-string">"kia"</span>],[<span class="hljs-string">"application/vnd.kinar"</span>,<span class="hljs-string">"kne"</span>],[<span class="hljs-string">"application/vnd.koan"</span>,<span class="hljs-string">"skp"</span>],[<span class="hljs-string">"application/vnd.kodak-descriptor"</span>,<span class="hljs-string">"sse"</span>],[<span class="hljs-string">"application/vnd.las.las+xml"</span>,<span class="hljs-string">"lasxml"</span>],[<span class="hljs-string">"application/vnd.llamagraphics.life-balance.desktop"</span>,<span class="hljs-string">"lbd"</span>],[<span class="hljs-string">"application/vnd.llamagraphics.life-balance.exchange+xml"</span>,<span class="hljs-string">"lbe"</span>],[<span class="hljs-string">"application/vnd.lotus-1-2-3"</span>,<span class="hljs-string">"123"</span>],[<span class="hljs-string">"application/vnd.lotus-approach"</span>,<span class="hljs-string">"apr"</span>],[<span class="hljs-string">"application/vnd.lotus-freelance"</span>,<span class="hljs-string">"pre"</span>],[<span class="hljs-string">"application/vnd.lotus-notes"</span>,<span class="hljs-string">"nsf"</span>],[<span class="hljs-string">"application/vnd.lotus-organizer"</span>,<span class="hljs-string">"org"</span>],[<span class="hljs-string">"application/vnd.lotus-screencam"</span>,<span class="hljs-string">"scm"</span>],[<span class="hljs-string">"application/vnd.lotus-wordpro"</span>,<span class="hljs-string">"lwp"</span>],[<span class="hljs-string">"application/vnd.macports.portpkg"</span>,<span class="hljs-string">"portpkg"</span>],[<span class="hljs-string">"application/vnd.mcd"</span>,<span class="hljs-string">"mcd"</span>],[<span class="hljs-string">"application/vnd.medcalcdata"</span>,<span class="hljs-string">"mc1"</span>],[<span class="hljs-string">"application/vnd.mediastation.cdkey"</span>,<span class="hljs-string">"cdkey"</span>],[<span class="hljs-string">"application/vnd.mfer"</span>,<span class="hljs-string">"mwf"</span>],[<span class="hljs-string">"application/vnd.mfmp"</span>,<span class="hljs-string">"mfm"</span>],[<span class="hljs-string">"application/vnd.micrografx.flo"</span>,<span class="hljs-string">"flo"</span>],[<span class="hljs-string">"application/vnd.micrografx.igx"</span>,<span class="hljs-string">"igx"</span>],[<span class="hljs-string">"application/vnd.mif"</span>,<span class="hljs-string">"mif"</span>],[<span class="hljs-string">"application/vnd.mobius.daf"</span>,<span class="hljs-string">"daf"</span>],[<span class="hljs-string">"application/vnd.mobius.dis"</span>,<span class="hljs-string">"dis"</span>],[<span class="hljs-string">"application/vnd.mobius.mbk"</span>,<span class="hljs-string">"mbk"</span>],[<span class="hljs-string">"application/vnd.mobius.mqy"</span>,<span class="hljs-string">"mqy"</span>],[<span class="hljs-string">"application/vnd.mobius.msl"</span>,<span class="hljs-string">"msl"</span>],[<span class="hljs-string">"application/vnd.mobius.plc"</span>,<span class="hljs-string">"plc"</span>],[<span class="hljs-string">"application/vnd.mobius.txf"</span>,<span class="hljs-string">"txf"</span>],[<span class="hljs-string">"application/vnd.mophun.application"</span>,<span class="hljs-string">"mpn"</span>],[<span class="hljs-string">"application/vnd.mophun.certificate"</span>,<span class="hljs-string">"mpc"</span>],[<span class="hljs-string">"application/vnd.mozilla.xul+xml"</span>,<span class="hljs-string">"xul"</span>],[<span class="hljs-string">"application/vnd.ms-artgalry"</span>,<span class="hljs-string">"cil"</span>],[<span class="hljs-string">"application/vnd.ms-cab-compressed"</span>,<span class="hljs-string">"cab"</span>],[<span class="hljs-string">"application/vnd.ms-excel"</span>,[<span class="hljs-string">"xls"</span>,<span class="hljs-string">"xla"</span>,<span class="hljs-string">"xlc"</span>,<span class="hljs-string">"xlm"</span>,<span class="hljs-string">"xlt"</span>,<span class="hljs-string">"xlw"</span>,<span class="hljs-string">"xlb"</span>,<span class="hljs-string">"xll"</span>]],[<span class="hljs-string">"application/vnd.ms-excel.addin.macroenabled.12"</span>,<span class="hljs-string">"xlam"</span>],[<span class="hljs-string">"application/vnd.ms-excel.sheet.binary.macroenabled.12"</span>,<span class="hljs-string">"xlsb"</span>],[<span class="hljs-string">"application/vnd.ms-excel.sheet.macroenabled.12"</span>,<span class="hljs-string">"xlsm"</span>],[<span class="hljs-string">"application/vnd.ms-excel.template.macroenabled.12"</span>,<span class="hljs-string">"xltm"</span>],[<span class="hljs-string">"application/vnd.ms-fontobject"</span>,<span class="hljs-string">"eot"</span>],[<span class="hljs-string">"application/vnd.ms-htmlhelp"</span>,<span class="hljs-string">"chm"</span>],[<span class="hljs-string">"application/vnd.ms-ims"</span>,<span class="hljs-string">"ims"</span>],[<span class="hljs-string">"application/vnd.ms-lrm"</span>,<span class="hljs-string">"lrm"</span>],[<span class="hljs-string">"application/vnd.ms-officetheme"</span>,<span class="hljs-string">"thmx"</span>],[<span class="hljs-string">"application/vnd.ms-outlook"</span>,<span class="hljs-string">"msg"</span>],[<span class="hljs-string">"application/vnd.ms-pki.certstore"</span>,<span class="hljs-string">"sst"</span>],[<span class="hljs-string">"application/vnd.ms-pki.pko"</span>,<span class="hljs-string">"pko"</span>],[<span class="hljs-string">"application/vnd.ms-pki.seccat"</span>,<span class="hljs-string">"cat"</span>],[<span class="hljs-string">"application/vnd.ms-pki.stl"</span>,<span class="hljs-string">"stl"</span>],[<span class="hljs-string">"application/vnd.ms-pkicertstore"</span>,<span class="hljs-string">"sst"</span>],[<span class="hljs-string">"application/vnd.ms-pkiseccat"</span>,<span class="hljs-string">"cat"</span>],[<span class="hljs-string">"application/vnd.ms-pkistl"</span>,<span class="hljs-string">"stl"</span>],[<span class="hljs-string">"application/vnd.ms-powerpoint"</span>,[<span class="hljs-string">"ppt"</span>,<span class="hljs-string">"pot"</span>,<span class="hljs-string">"pps"</span>,<span class="hljs-string">"ppa"</span>,<span class="hljs-string">"pwz"</span>]],[<span class="hljs-string">"application/vnd.ms-powerpoint.addin.macroenabled.12"</span>,<span class="hljs-string">"ppam"</span>],[<span class="hljs-string">"application/vnd.ms-powerpoint.presentation.macroenabled.12"</span>,<span class="hljs-string">"pptm"</span>],[<span class="hljs-string">"application/vnd.ms-powerpoint.slide.macroenabled.12"</span>,<span class="hljs-string">"sldm"</span>],[<span class="hljs-string">"application/vnd.ms-powerpoint.slideshow.macroenabled.12"</span>,<span class="hljs-string">"ppsm"</span>],[<span class="hljs-string">"application/vnd.ms-powerpoint.template.macroenabled.12"</span>,<span class="hljs-string">"potm"</span>],[<span class="hljs-string">"application/vnd.ms-project"</span>,<span class="hljs-string">"mpp"</span>],[<span class="hljs-string">"application/vnd.ms-word.document.macroenabled.12"</span>,<span class="hljs-string">"docm"</span>],[<span class="hljs-string">"application/vnd.ms-word.template.macroenabled.12"</span>,<span class="hljs-string">"dotm"</span>],[<span class="hljs-string">"application/vnd.ms-works"</span>,[<span class="hljs-string">"wks"</span>,<span class="hljs-string">"wcm"</span>,<span class="hljs-string">"wdb"</span>,<span class="hljs-string">"wps"</span>]],[<span class="hljs-string">"application/vnd.ms-wpl"</span>,<span class="hljs-string">"wpl"</span>],[<span class="hljs-string">"application/vnd.ms-xpsdocument"</span>,<span class="hljs-string">"xps"</span>],[<span class="hljs-string">"application/vnd.mseq"</span>,<span class="hljs-string">"mseq"</span>],[<span class="hljs-string">"application/vnd.musician"</span>,<span class="hljs-string">"mus"</span>],[<span class="hljs-string">"application/vnd.muvee.style"</span>,<span class="hljs-string">"msty"</span>],[<span class="hljs-string">"application/vnd.neurolanguage.nlu"</span>,<span class="hljs-string">"nlu"</span>],[<span class="hljs-string">"application/vnd.noblenet-directory"</span>,<span class="hljs-string">"nnd"</span>],[<span class="hljs-string">"application/vnd.noblenet-sealer"</span>,<span class="hljs-string">"nns"</span>],[<span class="hljs-string">"application/vnd.noblenet-web"</span>,<span class="hljs-string">"nnw"</span>],[<span class="hljs-string">"application/vnd.nokia.configuration-message"</span>,<span class="hljs-string">"ncm"</span>],[<span class="hljs-string">"application/vnd.nokia.n-gage.data"</span>,<span class="hljs-string">"ngdat"</span>],[<span class="hljs-string">"application/vnd.nokia.n-gage.symbian.install"</span>,<span class="hljs-string">"n-gage"</span>],[<span class="hljs-string">"application/vnd.nokia.radio-preset"</span>,<span class="hljs-string">"rpst"</span>],[<span class="hljs-string">"application/vnd.nokia.radio-presets"</span>,<span class="hljs-string">"rpss"</span>],[<span class="hljs-string">"application/vnd.nokia.ringing-tone"</span>,<span class="hljs-string">"rng"</span>],[<span class="hljs-string">"application/vnd.novadigm.edm"</span>,<span class="hljs-string">"edm"</span>],[<span class="hljs-string">"application/vnd.novadigm.edx"</span>,<span class="hljs-string">"edx"</span>],[<span class="hljs-string">"application/vnd.novadigm.ext"</span>,<span class="hljs-string">"ext"</span>],[<span class="hljs-string">"application/vnd.oasis.opendocument.chart"</span>,<span class="hljs-string">"odc"</span>],[<span class="hljs-string">"application/vnd.oasis.opendocument.chart-template"</span>,<span class="hljs-string">"otc"</span>],[<span class="hljs-string">"application/vnd.oasis.opendocument.database"</span>,<span class="hljs-string">"odb"</span>],[<span class="hljs-string">"application/vnd.oasis.opendocument.formula"</span>,<span class="hljs-string">"odf"</span>],[<span class="hljs-string">"application/vnd.oasis.opendocument.formula-template"</span>,<span class="hljs-string">"odft"</span>],[<span class="hljs-string">"application/vnd.oasis.opendocument.graphics"</span>,<span class="hljs-string">"odg"</span>],[<span class="hljs-string">"application/vnd.oasis.opendocument.graphics-template"</span>,<span class="hljs-string">"otg"</span>],[<span class="hljs-string">"application/vnd.oasis.opendocument.image"</span>,<span class="hljs-string">"odi"</span>],[<span class="hljs-string">"application/vnd.oasis.opendocument.image-template"</span>,<span class="hljs-string">"oti"</span>],[<span class="hljs-string">"application/vnd.oasis.opendocument.presentation"</span>,<span class="hljs-string">"odp"</span>],[<span class="hljs-string">"application/vnd.oasis.opendocument.presentation-template"</span>,<span class="hljs-string">"otp"</span>],[<span class="hljs-string">"application/vnd.oasis.opendocument.spreadsheet"</span>,<span class="hljs-string">"ods"</span>],[<span class="hljs-string">"application/vnd.oasis.opendocument.spreadsheet-template"</span>,<span class="hljs-string">"ots"</span>],[<span class="hljs-string">"application/vnd.oasis.opendocument.text"</span>,<span class="hljs-string">"odt"</span>],[<span class="hljs-string">"application/vnd.oasis.opendocument.text-master"</span>,<span class="hljs-string">"odm"</span>],[<span class="hljs-string">"application/vnd.oasis.opendocument.text-template"</span>,<span class="hljs-string">"ott"</span>],[<span class="hljs-string">"application/vnd.oasis.opendocument.text-web"</span>,<span class="hljs-string">"oth"</span>],[<span class="hljs-string">"application/vnd.olpc-sugar"</span>,<span class="hljs-string">"xo"</span>],[<span class="hljs-string">"application/vnd.oma.dd2+xml"</span>,<span class="hljs-string">"dd2"</span>],[<span class="hljs-string">"application/vnd.openofficeorg.extension"</span>,<span class="hljs-string">"oxt"</span>],[<span class="hljs-string">"application/vnd.openxmlformats-officedocument.presentationml.presentation"</span>,<span class="hljs-string">"pptx"</span>],[<span class="hljs-string">"application/vnd.openxmlformats-officedocument.presentationml.slide"</span>,<span class="hljs-string">"sldx"</span>],[<span class="hljs-string">"application/vnd.openxmlformats-officedocument.presentationml.slideshow"</span>,<span class="hljs-string">"ppsx"</span>],[<span class="hljs-string">"application/vnd.openxmlformats-officedocument.presentationml.template"</span>,<span class="hljs-string">"potx"</span>],[<span class="hljs-string">"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"</span>,<span class="hljs-string">"xlsx"</span>],[<span class="hljs-string">"application/vnd.openxmlformats-officedocument.spreadsheetml.template"</span>,<span class="hljs-string">"xltx"</span>],[<span class="hljs-string">"application/vnd.openxmlformats-officedocument.wordprocessingml.document"</span>,<span class="hljs-string">"docx"</span>],[<span class="hljs-string">"application/vnd.openxmlformats-officedocument.wordprocessingml.template"</span>,<span class="hljs-string">"dotx"</span>],[<span class="hljs-string">"application/vnd.osgeo.mapguide.package"</span>,<span class="hljs-string">"mgp"</span>],[<span class="hljs-string">"application/vnd.osgi.dp"</span>,<span class="hljs-string">"dp"</span>],[<span class="hljs-string">"application/vnd.palm"</span>,<span class="hljs-string">"pdb"</span>],[<span class="hljs-string">"application/vnd.pawaafile"</span>,<span class="hljs-string">"paw"</span>],[<span class="hljs-string">"application/vnd.pg.format"</span>,<span class="hljs-string">"str"</span>],[<span class="hljs-string">"application/vnd.pg.osasli"</span>,<span class="hljs-string">"ei6"</span>],[<span class="hljs-string">"application/vnd.picsel"</span>,<span class="hljs-string">"efif"</span>],[<span class="hljs-string">"application/vnd.pmi.widget"</span>,<span class="hljs-string">"wg"</span>],[<span class="hljs-string">"application/vnd.pocketlearn"</span>,<span class="hljs-string">"plf"</span>],[<span class="hljs-string">"application/vnd.powerbuilder6"</span>,<span class="hljs-string">"pbd"</span>],[<span class="hljs-string">"application/vnd.previewsystems.box"</span>,<span class="hljs-string">"box"</span>],[<span class="hljs-string">"application/vnd.proteus.magazine"</span>,<span class="hljs-string">"mgz"</span>],[<span class="hljs-string">"application/vnd.publishare-delta-tree"</span>,<span class="hljs-string">"qps"</span>],[<span class="hljs-string">"application/vnd.pvi.ptid1"</span>,<span class="hljs-string">"ptid"</span>],[<span class="hljs-string">"application/vnd.quark.quarkxpress"</span>,<span class="hljs-string">"qxd"</span>],[<span class="hljs-string">"application/vnd.realvnc.bed"</span>,<span class="hljs-string">"bed"</span>],[<span class="hljs-string">"application/vnd.recordare.musicxml"</span>,<span class="hljs-string">"mxl"</span>],[<span class="hljs-string">"application/vnd.recordare.musicxml+xml"</span>,<span class="hljs-string">"musicxml"</span>],[<span class="hljs-string">"application/vnd.rig.cryptonote"</span>,<span class="hljs-string">"cryptonote"</span>],[<span class="hljs-string">"application/vnd.rim.cod"</span>,<span class="hljs-string">"cod"</span>],[<span class="hljs-string">"application/vnd.rn-realmedia"</span>,<span class="hljs-string">"rm"</span>],[<span class="hljs-string">"application/vnd.rn-realplayer"</span>,<span class="hljs-string">"rnx"</span>],[<span class="hljs-string">"application/vnd.route66.link66+xml"</span>,<span class="hljs-string">"link66"</span>],[<span class="hljs-string">"application/vnd.sailingtracker.track"</span>,<span class="hljs-string">"st"</span>],[<span class="hljs-string">"application/vnd.seemail"</span>,<span class="hljs-string">"see"</span>],[<span class="hljs-string">"application/vnd.sema"</span>,<span class="hljs-string">"sema"</span>],[<span class="hljs-string">"application/vnd.semd"</span>,<span class="hljs-string">"semd"</span>],[<span class="hljs-string">"application/vnd.semf"</span>,<span class="hljs-string">"semf"</span>],[<span class="hljs-string">"application/vnd.shana.informed.formdata"</span>,<span class="hljs-string">"ifm"</span>],[<span class="hljs-string">"application/vnd.shana.informed.formtemplate"</span>,<span class="hljs-string">"itp"</span>],[<span class="hljs-string">"application/vnd.shana.informed.interchange"</span>,<span class="hljs-string">"iif"</span>],[<span class="hljs-string">"application/vnd.shana.informed.package"</span>,<span class="hljs-string">"ipk"</span>],[<span class="hljs-string">"application/vnd.simtech-mindmapper"</span>,<span class="hljs-string">"twd"</span>],[<span class="hljs-string">"application/vnd.smaf"</span>,<span class="hljs-string">"mmf"</span>],[<span class="hljs-string">"application/vnd.smart.teacher"</span>,<span class="hljs-string">"teacher"</span>],[<span class="hljs-string">"application/vnd.solent.sdkm+xml"</span>,<span class="hljs-string">"sdkm"</span>],[<span class="hljs-string">"application/vnd.spotfire.dxp"</span>,<span class="hljs-string">"dxp"</span>],[<span class="hljs-string">"application/vnd.spotfire.sfs"</span>,<span class="hljs-string">"sfs"</span>],[<span class="hljs-string">"application/vnd.stardivision.calc"</span>,<span class="hljs-string">"sdc"</span>],[<span class="hljs-string">"application/vnd.stardivision.draw"</span>,<span class="hljs-string">"sda"</span>],[<span class="hljs-string">"application/vnd.stardivision.impress"</span>,<span class="hljs-string">"sdd"</span>],[<span class="hljs-string">"application/vnd.stardivision.math"</span>,<span class="hljs-string">"smf"</span>],[<span class="hljs-string">"application/vnd.stardivision.writer"</span>,<span class="hljs-string">"sdw"</span>],[<span class="hljs-string">"application/vnd.stardivision.writer-global"</span>,<span class="hljs-string">"sgl"</span>],[<span class="hljs-string">"application/vnd.stepmania.stepchart"</span>,<span class="hljs-string">"sm"</span>],[<span class="hljs-string">"application/vnd.sun.xml.calc"</span>,<span class="hljs-string">"sxc"</span>],[<span class="hljs-string">"application/vnd.sun.xml.calc.template"</span>,<span class="hljs-string">"stc"</span>],[<span class="hljs-string">"application/vnd.sun.xml.draw"</span>,<span class="hljs-string">"sxd"</span>],[<span class="hljs-string">"application/vnd.sun.xml.draw.template"</span>,<span class="hljs-string">"std"</span>],[<span class="hljs-string">"application/vnd.sun.xml.impress"</span>,<span class="hljs-string">"sxi"</span>],[<span class="hljs-string">"application/vnd.sun.xml.impress.template"</span>,<span class="hljs-string">"sti"</span>],[<span class="hljs-string">"application/vnd.sun.xml.math"</span>,<span class="hljs-string">"sxm"</span>],[<span class="hljs-string">"application/vnd.sun.xml.writer"</span>,<span class="hljs-string">"sxw"</span>],[<span class="hljs-string">"application/vnd.sun.xml.writer.global"</span>,<span class="hljs-string">"sxg"</span>],[<span class="hljs-string">"application/vnd.sun.xml.writer.template"</span>,<span class="hljs-string">"stw"</span>],[<span class="hljs-string">"application/vnd.sus-calendar"</span>,<span class="hljs-string">"sus"</span>],[<span class="hljs-string">"application/vnd.svd"</span>,<span class="hljs-string">"svd"</span>],[<span class="hljs-string">"application/vnd.symbian.install"</span>,<span class="hljs-string">"sis"</span>],[<span class="hljs-string">"application/vnd.syncml+xml"</span>,<span class="hljs-string">"xsm"</span>],[<span class="hljs-string">"application/vnd.syncml.dm+wbxml"</span>,<span class="hljs-string">"bdm"</span>],[<span class="hljs-string">"application/vnd.syncml.dm+xml"</span>,<span class="hljs-string">"xdm"</span>],[<span class="hljs-string">"application/vnd.tao.intent-module-archive"</span>,<span class="hljs-string">"tao"</span>],[<span class="hljs-string">"application/vnd.tmobile-livetv"</span>,<span class="hljs-string">"tmo"</span>],[<span class="hljs-string">"application/vnd.trid.tpt"</span>,<span class="hljs-string">"tpt"</span>],[<span class="hljs-string">"application/vnd.triscape.mxs"</span>,<span class="hljs-string">"mxs"</span>],[<span class="hljs-string">"application/vnd.trueapp"</span>,<span class="hljs-string">"tra"</span>],[<span class="hljs-string">"application/vnd.ufdl"</span>,<span class="hljs-string">"ufd"</span>],[<span class="hljs-string">"application/vnd.uiq.theme"</span>,<span class="hljs-string">"utz"</span>],[<span class="hljs-string">"application/vnd.umajin"</span>,<span class="hljs-string">"umj"</span>],[<span class="hljs-string">"application/vnd.unity"</span>,<span class="hljs-string">"unityweb"</span>],[<span class="hljs-string">"application/vnd.uoml+xml"</span>,<span class="hljs-string">"uoml"</span>],[<span class="hljs-string">"application/vnd.vcx"</span>,<span class="hljs-string">"vcx"</span>],[<span class="hljs-string">"application/vnd.visio"</span>,<span class="hljs-string">"vsd"</span>],[<span class="hljs-string">"application/vnd.visionary"</span>,<span class="hljs-string">"vis"</span>],[<span class="hljs-string">"application/vnd.vsf"</span>,<span class="hljs-string">"vsf"</span>],[<span class="hljs-string">"application/vnd.wap.wbxml"</span>,<span class="hljs-string">"wbxml"</span>],[<span class="hljs-string">"application/vnd.wap.wmlc"</span>,<span class="hljs-string">"wmlc"</span>],[<span class="hljs-string">"application/vnd.wap.wmlscriptc"</span>,<span class="hljs-string">"wmlsc"</span>],[<span class="hljs-string">"application/vnd.webturbo"</span>,<span class="hljs-string">"wtb"</span>],[<span class="hljs-string">"application/vnd.wolfram.player"</span>,<span class="hljs-string">"nbp"</span>],[<span class="hljs-string">"application/vnd.wordperfect"</span>,<span class="hljs-string">"wpd"</span>],[<span class="hljs-string">"application/vnd.wqd"</span>,<span class="hljs-string">"wqd"</span>],[<span class="hljs-string">"application/vnd.wt.stf"</span>,<span class="hljs-string">"stf"</span>],[<span class="hljs-string">"application/vnd.xara"</span>,[<span class="hljs-string">"web"</span>,<span class="hljs-string">"xar"</span>]],[<span class="hljs-string">"application/vnd.xfdl"</span>,<span class="hljs-string">"xfdl"</span>],[<span class="hljs-string">"application/vnd.yamaha.hv-dic"</span>,<span class="hljs-string">"hvd"</span>],[<span class="hljs-string">"application/vnd.yamaha.hv-script"</span>,<span class="hljs-string">"hvs"</span>],[<span class="hljs-string">"application/vnd.yamaha.hv-voice"</span>,<span class="hljs-string">"hvp"</span>],[<span class="hljs-string">"application/vnd.yamaha.openscoreformat"</span>,<span class="hljs-string">"osf"</span>],[<span class="hljs-string">"application/vnd.yamaha.openscoreformat.osfpvg+xml"</span>,<span class="hljs-string">"osfpvg"</span>],[<span class="hljs-string">"application/vnd.yamaha.smaf-audio"</span>,<span class="hljs-string">"saf"</span>],[<span class="hljs-string">"application/vnd.yamaha.smaf-phrase"</span>,<span class="hljs-string">"spf"</span>],[<span class="hljs-string">"application/vnd.yellowriver-custom-menu"</span>,<span class="hljs-string">"cmp"</span>],[<span class="hljs-string">"application/vnd.zul"</span>,<span class="hljs-string">"zir"</span>],[<span class="hljs-string">"application/vnd.zzazz.deck+xml"</span>,<span class="hljs-string">"zaz"</span>],[<span class="hljs-string">"application/vocaltec-media-desc"</span>,<span class="hljs-string">"vmd"</span>],[<span class="hljs-string">"application/vocaltec-media-file"</span>,<span class="hljs-string">"vmf"</span>],[<span class="hljs-string">"application/voicexml+xml"</span>,<span class="hljs-string">"vxml"</span>],[<span class="hljs-string">"application/widget"</span>,<span class="hljs-string">"wgt"</span>],[<span class="hljs-string">"application/winhlp"</span>,<span class="hljs-string">"hlp"</span>],[<span class="hljs-string">"application/wordperfect"</span>,[<span class="hljs-string">"wp"</span>,<span class="hljs-string">"wp5"</span>,<span class="hljs-string">"wp6"</span>,<span class="hljs-string">"wpd"</span>]],[<span class="hljs-string">"application/wordperfect6.0"</span>,[<span class="hljs-string">"w60"</span>,<span class="hljs-string">"wp5"</span>]],[<span class="hljs-string">"application/wordperfect6.1"</span>,<span class="hljs-string">"w61"</span>],[<span class="hljs-string">"application/wsdl+xml"</span>,<span class="hljs-string">"wsdl"</span>],[<span class="hljs-string">"application/wspolicy+xml"</span>,<span class="hljs-string">"wspolicy"</span>],[<span class="hljs-string">"application/x-123"</span>,<span class="hljs-string">"wk1"</span>],[<span class="hljs-string">"application/x-7z-compressed"</span>,<span class="hljs-string">"7z"</span>],[<span class="hljs-string">"application/x-abiword"</span>,<span class="hljs-string">"abw"</span>],[<span class="hljs-string">"application/x-ace-compressed"</span>,<span class="hljs-string">"ace"</span>],[<span class="hljs-string">"application/x-aim"</span>,<span class="hljs-string">"aim"</span>],[<span class="hljs-string">"application/x-authorware-bin"</span>,<span class="hljs-string">"aab"</span>],[<span class="hljs-string">"application/x-authorware-map"</span>,<span class="hljs-string">"aam"</span>],[<span class="hljs-string">"application/x-authorware-seg"</span>,<span class="hljs-string">"aas"</span>],[<span class="hljs-string">"application/x-bcpio"</span>,<span class="hljs-string">"bcpio"</span>],[<span class="hljs-string">"application/x-binary"</span>,<span class="hljs-string">"bin"</span>],[<span class="hljs-string">"application/x-binhex40"</span>,<span class="hljs-string">"hqx"</span>],[<span class="hljs-string">"application/x-bittorrent"</span>,<span class="hljs-string">"torrent"</span>],[<span class="hljs-string">"application/x-bsh"</span>,[<span class="hljs-string">"bsh"</span>,<span class="hljs-string">"sh"</span>,<span class="hljs-string">"shar"</span>]],[<span class="hljs-string">"application/x-bytecode.elisp"</span>,<span class="hljs-string">"elc"</span>],[<span class="hljs-string">"application/x-bytecode.python"</span>,<span class="hljs-string">"pyc"</span>],[<span class="hljs-string">"application/x-bzip"</span>,<span class="hljs-string">"bz"</span>],[<span class="hljs-string">"application/x-bzip2"</span>,[<span class="hljs-string">"boz"</span>,<span class="hljs-string">"bz2"</span>]],[<span class="hljs-string">"application/x-cdf"</span>,<span class="hljs-string">"cdf"</span>],[<span class="hljs-string">"application/x-cdlink"</span>,<span class="hljs-string">"vcd"</span>],[<span class="hljs-string">"application/x-chat"</span>,[<span class="hljs-string">"cha"</span>,<span class="hljs-string">"chat"</span>]],[<span class="hljs-string">"application/x-chess-pgn"</span>,<span class="hljs-string">"pgn"</span>],[<span class="hljs-string">"application/x-cmu-raster"</span>,<span class="hljs-string">"ras"</span>],[<span class="hljs-string">"application/x-cocoa"</span>,<span class="hljs-string">"cco"</span>],[<span class="hljs-string">"application/x-compactpro"</span>,<span class="hljs-string">"cpt"</span>],[<span class="hljs-string">"application/x-compress"</span>,<span class="hljs-string">"z"</span>],[<span class="hljs-string">"application/x-compressed"</span>,[<span class="hljs-string">"tgz"</span>,<span class="hljs-string">"gz"</span>,<span class="hljs-string">"z"</span>,<span class="hljs-string">"zip"</span>]],[<span class="hljs-string">"application/x-conference"</span>,<span class="hljs-string">"nsc"</span>],[<span class="hljs-string">"application/x-cpio"</span>,<span class="hljs-string">"cpio"</span>],[<span class="hljs-string">"application/x-cpt"</span>,<span class="hljs-string">"cpt"</span>],[<span class="hljs-string">"application/x-csh"</span>,<span class="hljs-string">"csh"</span>],[<span class="hljs-string">"application/x-debian-package"</span>,<span class="hljs-string">"deb"</span>],[<span class="hljs-string">"application/x-deepv"</span>,<span class="hljs-string">"deepv"</span>],[<span class="hljs-string">"application/x-director"</span>,[<span class="hljs-string">"dir"</span>,<span class="hljs-string">"dcr"</span>,<span class="hljs-string">"dxr"</span>]],[<span class="hljs-string">"application/x-doom"</span>,<span class="hljs-string">"wad"</span>],[<span class="hljs-string">"application/x-dtbncx+xml"</span>,<span class="hljs-string">"ncx"</span>],[<span class="hljs-string">"application/x-dtbook+xml"</span>,<span class="hljs-string">"dtb"</span>],[<span class="hljs-string">"application/x-dtbresource+xml"</span>,<span class="hljs-string">"res"</span>],[<span class="hljs-string">"application/x-dvi"</span>,<span class="hljs-string">"dvi"</span>],[<span class="hljs-string">"application/x-elc"</span>,<span class="hljs-string">"elc"</span>],[<span class="hljs-string">"application/x-envoy"</span>,[<span class="hljs-string">"env"</span>,<span class="hljs-string">"evy"</span>]],[<span class="hljs-string">"application/x-esrehber"</span>,<span class="hljs-string">"es"</span>],[<span class="hljs-string">"application/x-excel"</span>,[<span class="hljs-string">"xls"</span>,<span class="hljs-string">"xla"</span>,<span class="hljs-string">"xlb"</span>,<span class="hljs-string">"xlc"</span>,<span class="hljs-string">"xld"</span>,<span class="hljs-string">"xlk"</span>,<span class="hljs-string">"xll"</span>,<span class="hljs-string">"xlm"</span>,<span class="hljs-string">"xlt"</span>,<span class="hljs-string">"xlv"</span>,<span class="hljs-string">"xlw"</span>]],[<span class="hljs-string">"application/x-font-bdf"</span>,<span class="hljs-string">"bdf"</span>],[<span class="hljs-string">"application/x-font-ghostscript"</span>,<span class="hljs-string">"gsf"</span>],[<span class="hljs-string">"application/x-font-linux-psf"</span>,<span class="hljs-string">"psf"</span>],[<span class="hljs-string">"application/x-font-otf"</span>,<span class="hljs-string">"otf"</span>],[<span class="hljs-string">"application/x-font-pcf"</span>,<span class="hljs-string">"pcf"</span>],[<span class="hljs-string">"application/x-font-snf"</span>,<span class="hljs-string">"snf"</span>],[<span class="hljs-string">"application/x-font-ttf"</span>,<span class="hljs-string">"ttf"</span>],[<span class="hljs-string">"application/x-font-type1"</span>,<span class="hljs-string">"pfa"</span>],[<span class="hljs-string">"application/x-font-woff"</span>,<span class="hljs-string">"woff"</span>],[<span class="hljs-string">"application/x-frame"</span>,<span class="hljs-string">"mif"</span>],[<span class="hljs-string">"application/x-freelance"</span>,<span class="hljs-string">"pre"</span>],[<span class="hljs-string">"application/x-futuresplash"</span>,<span class="hljs-string">"spl"</span>],[<span class="hljs-string">"application/x-gnumeric"</span>,<span class="hljs-string">"gnumeric"</span>],[<span class="hljs-string">"application/x-gsp"</span>,<span class="hljs-string">"gsp"</span>],[<span class="hljs-string">"application/x-gss"</span>,<span class="hljs-string">"gss"</span>],[<span class="hljs-string">"application/x-gtar"</span>,<span class="hljs-string">"gtar"</span>],[<span class="hljs-string">"application/x-gzip"</span>,[<span class="hljs-string">"gz"</span>,<span class="hljs-string">"gzip"</span>]],[<span class="hljs-string">"application/x-hdf"</span>,<span class="hljs-string">"hdf"</span>],[<span class="hljs-string">"application/x-helpfile"</span>,[<span class="hljs-string">"help"</span>,<span class="hljs-string">"hlp"</span>]],[<span class="hljs-string">"application/x-httpd-imap"</span>,<span class="hljs-string">"imap"</span>],[<span class="hljs-string">"application/x-ima"</span>,<span class="hljs-string">"ima"</span>],[<span class="hljs-string">"application/x-internet-signup"</span>,[<span class="hljs-string">"ins"</span>,<span class="hljs-string">"isp"</span>]],[<span class="hljs-string">"application/x-internett-signup"</span>,<span class="hljs-string">"ins"</span>],[<span class="hljs-string">"application/x-inventor"</span>,<span class="hljs-string">"iv"</span>],[<span class="hljs-string">"application/x-ip2"</span>,<span class="hljs-string">"ip"</span>],[<span class="hljs-string">"application/x-iphone"</span>,<span class="hljs-string">"iii"</span>],[<span class="hljs-string">"application/x-java-class"</span>,<span class="hljs-string">"class"</span>],[<span class="hljs-string">"application/x-java-commerce"</span>,<span class="hljs-string">"jcm"</span>],[<span class="hljs-string">"application/x-java-jnlp-file"</span>,<span class="hljs-string">"jnlp"</span>],[<span class="hljs-string">"application/x-javascript"</span>,<span class="hljs-string">"js"</span>],[<span class="hljs-string">"application/x-koan"</span>,[<span class="hljs-string">"skd"</span>,<span class="hljs-string">"skm"</span>,<span class="hljs-string">"skp"</span>,<span class="hljs-string">"skt"</span>]],[<span class="hljs-string">"application/x-ksh"</span>,<span class="hljs-string">"ksh"</span>],[<span class="hljs-string">"application/x-latex"</span>,[<span class="hljs-string">"latex"</span>,<span class="hljs-string">"ltx"</span>]],[<span class="hljs-string">"application/x-lha"</span>,<span class="hljs-string">"lha"</span>],[<span class="hljs-string">"application/x-lisp"</span>,<span class="hljs-string">"lsp"</span>],[<span class="hljs-string">"application/x-livescreen"</span>,<span class="hljs-string">"ivy"</span>],[<span class="hljs-string">"application/x-lotus"</span>,<span class="hljs-string">"wq1"</span>],[<span class="hljs-string">"application/x-lotusscreencam"</span>,<span class="hljs-string">"scm"</span>],[<span class="hljs-string">"application/x-lzh"</span>,<span class="hljs-string">"lzh"</span>],[<span class="hljs-string">"application/x-lzx"</span>,<span class="hljs-string">"lzx"</span>],[<span class="hljs-string">"application/x-mac-binhex40"</span>,<span class="hljs-string">"hqx"</span>],[<span class="hljs-string">"application/x-macbinary"</span>,<span class="hljs-string">"bin"</span>],[<span class="hljs-string">"application/x-magic-cap-package-1.0"</span>,<span class="hljs-string">"mc$"</span>],[<span class="hljs-string">"application/x-mathcad"</span>,<span class="hljs-string">"mcd"</span>],[<span class="hljs-string">"application/x-meme"</span>,<span class="hljs-string">"mm"</span>],[<span class="hljs-string">"application/x-midi"</span>,[<span class="hljs-string">"mid"</span>,<span class="hljs-string">"midi"</span>]],[<span class="hljs-string">"application/x-mif"</span>,<span class="hljs-string">"mif"</span>],[<span class="hljs-string">"application/x-mix-transfer"</span>,<span class="hljs-string">"nix"</span>],[<span class="hljs-string">"application/x-mobipocket-ebook"</span>,<span class="hljs-string">"prc"</span>],[<span class="hljs-string">"application/x-mplayer2"</span>,<span class="hljs-string">"asx"</span>],[<span class="hljs-string">"application/x-ms-application"</span>,<span class="hljs-string">"application"</span>],[<span class="hljs-string">"application/x-ms-wmd"</span>,<span class="hljs-string">"wmd"</span>],[<span class="hljs-string">"application/x-ms-wmz"</span>,<span class="hljs-string">"wmz"</span>],[<span class="hljs-string">"application/x-ms-xbap"</span>,<span class="hljs-string">"xbap"</span>],[<span class="hljs-string">"application/x-msaccess"</span>,<span class="hljs-string">"mdb"</span>],[<span class="hljs-string">"application/x-msbinder"</span>,<span class="hljs-string">"obd"</span>],[<span class="hljs-string">"application/x-mscardfile"</span>,<span class="hljs-string">"crd"</span>],[<span class="hljs-string">"application/x-msclip"</span>,<span class="hljs-string">"clp"</span>],[<span class="hljs-string">"application/x-msdownload"</span>,[<span class="hljs-string">"exe"</span>,<span class="hljs-string">"dll"</span>]],[<span class="hljs-string">"application/x-msexcel"</span>,[<span class="hljs-string">"xls"</span>,<span class="hljs-string">"xla"</span>,<span class="hljs-string">"xlw"</span>]],[<span class="hljs-string">"application/x-msmediaview"</span>,[<span class="hljs-string">"mvb"</span>,<span class="hljs-string">"m13"</span>,<span class="hljs-string">"m14"</span>]],[<span class="hljs-string">"application/x-msmetafile"</span>,<span class="hljs-string">"wmf"</span>],[<span class="hljs-string">"application/x-msmoney"</span>,<span class="hljs-string">"mny"</span>],[<span class="hljs-string">"application/x-mspowerpoint"</span>,<span class="hljs-string">"ppt"</span>],[<span class="hljs-string">"application/x-mspublisher"</span>,<span class="hljs-string">"pub"</span>],[<span class="hljs-string">"application/x-msschedule"</span>,<span class="hljs-string">"scd"</span>],[<span class="hljs-string">"application/x-msterminal"</span>,<span class="hljs-string">"trm"</span>],[<span class="hljs-string">"application/x-mswrite"</span>,<span class="hljs-string">"wri"</span>],[<span class="hljs-string">"application/x-navi-animation"</span>,<span class="hljs-string">"ani"</span>],[<span class="hljs-string">"application/x-navidoc"</span>,<span class="hljs-string">"nvd"</span>],[<span class="hljs-string">"application/x-navimap"</span>,<span class="hljs-string">"map"</span>],[<span class="hljs-string">"application/x-navistyle"</span>,<span class="hljs-string">"stl"</span>],[<span class="hljs-string">"application/x-netcdf"</span>,[<span class="hljs-string">"cdf"</span>,<span class="hljs-string">"nc"</span>]],[<span class="hljs-string">"application/x-newton-compatible-pkg"</span>,<span class="hljs-string">"pkg"</span>],[<span class="hljs-string">"application/x-nokia-9000-communicator-add-on-software"</span>,<span class="hljs-string">"aos"</span>],[<span class="hljs-string">"application/x-omc"</span>,<span class="hljs-string">"omc"</span>],[<span class="hljs-string">"application/x-omcdatamaker"</span>,<span class="hljs-string">"omcd"</span>],[<span class="hljs-string">"application/x-omcregerator"</span>,<span class="hljs-string">"omcr"</span>],[<span class="hljs-string">"application/x-pagemaker"</span>,[<span class="hljs-string">"pm4"</span>,<span class="hljs-string">"pm5"</span>]],[<span class="hljs-string">"application/x-pcl"</span>,<span class="hljs-string">"pcl"</span>],[<span class="hljs-string">"application/x-perfmon"</span>,[<span class="hljs-string">"pma"</span>,<span class="hljs-string">"pmc"</span>,<span class="hljs-string">"pml"</span>,<span class="hljs-string">"pmr"</span>,<span class="hljs-string">"pmw"</span>]],[<span class="hljs-string">"application/x-pixclscript"</span>,<span class="hljs-string">"plx"</span>],[<span class="hljs-string">"application/x-pkcs10"</span>,<span class="hljs-string">"p10"</span>],[<span class="hljs-string">"application/x-pkcs12"</span>,[<span class="hljs-string">"p12"</span>,<span class="hljs-string">"pfx"</span>]],[<span class="hljs-string">"application/x-pkcs7-certificates"</span>,[<span class="hljs-string">"p7b"</span>,<span class="hljs-string">"spc"</span>]],[<span class="hljs-string">"application/x-pkcs7-certreqresp"</span>,<span class="hljs-string">"p7r"</span>],[<span class="hljs-string">"application/x-pkcs7-mime"</span>,[<span class="hljs-string">"p7m"</span>,<span class="hljs-string">"p7c"</span>]],[<span class="hljs-string">"application/x-pkcs7-signature"</span>,[<span class="hljs-string">"p7s"</span>,<span class="hljs-string">"p7a"</span>]],[<span class="hljs-string">"application/x-pointplus"</span>,<span class="hljs-string">"css"</span>],[<span class="hljs-string">"application/x-portable-anymap"</span>,<span class="hljs-string">"pnm"</span>],[<span class="hljs-string">"application/x-project"</span>,[<span class="hljs-string">"mpc"</span>,<span class="hljs-string">"mpt"</span>,<span class="hljs-string">"mpv"</span>,<span class="hljs-string">"mpx"</span>]],[<span class="hljs-string">"application/x-qpro"</span>,<span class="hljs-string">"wb1"</span>],[<span class="hljs-string">"application/x-rar-compressed"</span>,<span class="hljs-string">"rar"</span>],[<span class="hljs-string">"application/x-rtf"</span>,<span class="hljs-string">"rtf"</span>],[<span class="hljs-string">"application/x-sdp"</span>,<span class="hljs-string">"sdp"</span>],[<span class="hljs-string">"application/x-sea"</span>,<span class="hljs-string">"sea"</span>],[<span class="hljs-string">"application/x-seelogo"</span>,<span class="hljs-string">"sl"</span>],[<span class="hljs-string">"application/x-sh"</span>,<span class="hljs-string">"sh"</span>],[<span class="hljs-string">"application/x-shar"</span>,[<span class="hljs-string">"shar"</span>,<span class="hljs-string">"sh"</span>]],[<span class="hljs-string">"application/x-shockwave-flash"</span>,<span class="hljs-string">"swf"</span>],[<span class="hljs-string">"application/x-silverlight-app"</span>,<span class="hljs-string">"xap"</span>],[<span class="hljs-string">"application/x-sit"</span>,<span class="hljs-string">"sit"</span>],[<span class="hljs-string">"application/x-sprite"</span>,[<span class="hljs-string">"spr"</span>,<span class="hljs-string">"sprite"</span>]],[<span class="hljs-string">"application/x-stuffit"</span>,<span class="hljs-string">"sit"</span>],[<span class="hljs-string">"application/x-stuffitx"</span>,<span class="hljs-string">"sitx"</span>],[<span class="hljs-string">"application/x-sv4cpio"</span>,<span class="hljs-string">"sv4cpio"</span>],[<span class="hljs-string">"application/x-sv4crc"</span>,<span class="hljs-string">"sv4crc"</span>],[<span class="hljs-string">"application/x-tar"</span>,<span class="hljs-string">"tar"</span>],[<span class="hljs-string">"application/x-tbook"</span>,[<span class="hljs-string">"sbk"</span>,<span class="hljs-string">"tbk"</span>]],[<span class="hljs-string">"application/x-tcl"</span>,<span class="hljs-string">"tcl"</span>],[<span class="hljs-string">"application/x-tex"</span>,<span class="hljs-string">"tex"</span>],[<span class="hljs-string">"application/x-tex-tfm"</span>,<span class="hljs-string">"tfm"</span>],[<span class="hljs-string">"application/x-texinfo"</span>,[<span class="hljs-string">"texi"</span>,<span class="hljs-string">"texinfo"</span>]],[<span class="hljs-string">"application/x-troff"</span>,[<span class="hljs-string">"roff"</span>,<span class="hljs-string">"t"</span>,<span class="hljs-string">"tr"</span>]],[<span class="hljs-string">"application/x-troff-man"</span>,<span class="hljs-string">"man"</span>],[<span class="hljs-string">"application/x-troff-me"</span>,<span class="hljs-string">"me"</span>],[<span class="hljs-string">"application/x-troff-ms"</span>,<span class="hljs-string">"ms"</span>],[<span class="hljs-string">"application/x-troff-msvideo"</span>,<span class="hljs-string">"avi"</span>],[<span class="hljs-string">"application/x-ustar"</span>,<span class="hljs-string">"ustar"</span>],[<span class="hljs-string">"application/x-visio"</span>,[<span class="hljs-string">"vsd"</span>,<span class="hljs-string">"vst"</span>,<span class="hljs-string">"vsw"</span>]],[<span class="hljs-string">"application/x-vnd.audioexplosion.mzz"</span>,<span class="hljs-string">"mzz"</span>],[<span class="hljs-string">"application/x-vnd.ls-xpix"</span>,<span class="hljs-string">"xpix"</span>],[<span class="hljs-string">"application/x-vrml"</span>,<span class="hljs-string">"vrml"</span>],[<span class="hljs-string">"application/x-wais-source"</span>,[<span class="hljs-string">"src"</span>,<span class="hljs-string">"wsrc"</span>]],[<span class="hljs-string">"application/x-winhelp"</span>,<span class="hljs-string">"hlp"</span>],[<span class="hljs-string">"application/x-wintalk"</span>,<span class="hljs-string">"wtk"</span>],[<span class="hljs-string">"application/x-world"</span>,[<span class="hljs-string">"wrl"</span>,<span class="hljs-string">"svr"</span>]],[<span class="hljs-string">"application/x-wpwin"</span>,<span class="hljs-string">"wpd"</span>],[<span class="hljs-string">"application/x-wri"</span>,<span class="hljs-string">"wri"</span>],[<span class="hljs-string">"application/x-x509-ca-cert"</span>,[<span class="hljs-string">"cer"</span>,<span class="hljs-string">"crt"</span>,<span class="hljs-string">"der"</span>]],[<span class="hljs-string">"application/x-x509-user-cert"</span>,<span class="hljs-string">"crt"</span>],[<span class="hljs-string">"application/x-xfig"</span>,<span class="hljs-string">"fig"</span>],[<span class="hljs-string">"application/x-xpinstall"</span>,<span class="hljs-string">"xpi"</span>],[<span class="hljs-string">"application/x-zip-compressed"</span>,<span class="hljs-string">"zip"</span>],[<span class="hljs-string">"application/xcap-diff+xml"</span>,<span class="hljs-string">"xdf"</span>],[<span class="hljs-string">"application/xenc+xml"</span>,<span class="hljs-string">"xenc"</span>],[<span class="hljs-string">"application/xhtml+xml"</span>,<span class="hljs-string">"xhtml"</span>],[<span class="hljs-string">"application/xml"</span>,<span class="hljs-string">"xml"</span>],[<span class="hljs-string">"application/xml-dtd"</span>,<span class="hljs-string">"dtd"</span>],[<span class="hljs-string">"application/xop+xml"</span>,<span class="hljs-string">"xop"</span>],[<span class="hljs-string">"application/xslt+xml"</span>,<span class="hljs-string">"xslt"</span>],[<span class="hljs-string">"application/xspf+xml"</span>,<span class="hljs-string">"xspf"</span>],[<span class="hljs-string">"application/xv+xml"</span>,<span class="hljs-string">"mxml"</span>],[<span class="hljs-string">"application/yang"</span>,<span class="hljs-string">"yang"</span>],[<span class="hljs-string">"application/yin+xml"</span>,<span class="hljs-string">"yin"</span>],[<span class="hljs-string">"application/ynd.ms-pkipko"</span>,<span class="hljs-string">"pko"</span>],[<span class="hljs-string">"application/zip"</span>,<span class="hljs-string">"zip"</span>],[<span class="hljs-string">"audio/adpcm"</span>,<span class="hljs-string">"adp"</span>],[<span class="hljs-string">"audio/aiff"</span>,[<span class="hljs-string">"aiff"</span>,<span class="hljs-string">"aif"</span>,<span class="hljs-string">"aifc"</span>]],[<span class="hljs-string">"audio/basic"</span>,[<span class="hljs-string">"snd"</span>,<span class="hljs-string">"au"</span>]],[<span class="hljs-string">"audio/it"</span>,<span class="hljs-string">"it"</span>],[<span class="hljs-string">"audio/make"</span>,[<span class="hljs-string">"funk"</span>,<span class="hljs-string">"my"</span>,<span class="hljs-string">"pfunk"</span>]],[<span class="hljs-string">"audio/make.my.funk"</span>,<span class="hljs-string">"pfunk"</span>],[<span class="hljs-string">"audio/mid"</span>,[<span class="hljs-string">"mid"</span>,<span class="hljs-string">"rmi"</span>]],[<span class="hljs-string">"audio/midi"</span>,[<span class="hljs-string">"midi"</span>,<span class="hljs-string">"kar"</span>,<span class="hljs-string">"mid"</span>]],[<span class="hljs-string">"audio/mod"</span>,<span class="hljs-string">"mod"</span>],[<span class="hljs-string">"audio/mp4"</span>,<span class="hljs-string">"mp4a"</span>],[<span class="hljs-string">"audio/mpeg"</span>,[<span class="hljs-string">"mpga"</span>,<span class="hljs-string">"mp3"</span>,<span class="hljs-string">"m2a"</span>,<span class="hljs-string">"mp2"</span>,<span class="hljs-string">"mpa"</span>,<span class="hljs-string">"mpg"</span>]],[<span class="hljs-string">"audio/mpeg3"</span>,<span class="hljs-string">"mp3"</span>],[<span class="hljs-string">"audio/nspaudio"</span>,[<span class="hljs-string">"la"</span>,<span class="hljs-string">"lma"</span>]],[<span class="hljs-string">"audio/ogg"</span>,<span class="hljs-string">"oga"</span>],[<span class="hljs-string">"audio/s3m"</span>,<span class="hljs-string">"s3m"</span>],[<span class="hljs-string">"audio/tsp-audio"</span>,<span class="hljs-string">"tsi"</span>],[<span class="hljs-string">"audio/tsplayer"</span>,<span class="hljs-string">"tsp"</span>],[<span class="hljs-string">"audio/vnd.dece.audio"</span>,<span class="hljs-string">"uva"</span>],[<span class="hljs-string">"audio/vnd.digital-winds"</span>,<span class="hljs-string">"eol"</span>],[<span class="hljs-string">"audio/vnd.dra"</span>,<span class="hljs-string">"dra"</span>],[<span class="hljs-string">"audio/vnd.dts"</span>,<span class="hljs-string">"dts"</span>],[<span class="hljs-string">"audio/vnd.dts.hd"</span>,<span class="hljs-string">"dtshd"</span>],[<span class="hljs-string">"audio/vnd.lucent.voice"</span>,<span class="hljs-string">"lvp"</span>],[<span class="hljs-string">"audio/vnd.ms-playready.media.pya"</span>,<span class="hljs-string">"pya"</span>],[<span class="hljs-string">"audio/vnd.nuera.ecelp4800"</span>,<span class="hljs-string">"ecelp4800"</span>],[<span class="hljs-string">"audio/vnd.nuera.ecelp7470"</span>,<span class="hljs-string">"ecelp7470"</span>],[<span class="hljs-string">"audio/vnd.nuera.ecelp9600"</span>,<span class="hljs-string">"ecelp9600"</span>],[<span class="hljs-string">"audio/vnd.qcelp"</span>,<span class="hljs-string">"qcp"</span>],[<span class="hljs-string">"audio/vnd.rip"</span>,<span class="hljs-string">"rip"</span>],[<span class="hljs-string">"audio/voc"</span>,<span class="hljs-string">"voc"</span>],[<span class="hljs-string">"audio/voxware"</span>,<span class="hljs-string">"vox"</span>],[<span class="hljs-string">"audio/wav"</span>,<span class="hljs-string">"wav"</span>],[<span class="hljs-string">"audio/webm"</span>,<span class="hljs-string">"weba"</span>],[<span class="hljs-string">"audio/x-aac"</span>,<span class="hljs-string">"aac"</span>],[<span class="hljs-string">"audio/x-adpcm"</span>,<span class="hljs-string">"snd"</span>],[<span class="hljs-string">"audio/x-aiff"</span>,[<span class="hljs-string">"aiff"</span>,<span class="hljs-string">"aif"</span>,<span class="hljs-string">"aifc"</span>]],[<span class="hljs-string">"audio/x-au"</span>,<span class="hljs-string">"au"</span>],[<span class="hljs-string">"audio/x-gsm"</span>,[<span class="hljs-string">"gsd"</span>,<span class="hljs-string">"gsm"</span>]],[<span class="hljs-string">"audio/x-jam"</span>,<span class="hljs-string">"jam"</span>],[<span class="hljs-string">"audio/x-liveaudio"</span>,<span class="hljs-string">"lam"</span>],[<span class="hljs-string">"audio/x-mid"</span>,[<span class="hljs-string">"mid"</span>,<span class="hljs-string">"midi"</span>]],[<span class="hljs-string">"audio/x-midi"</span>,[<span class="hljs-string">"midi"</span>,<span class="hljs-string">"mid"</span>]],[<span class="hljs-string">"audio/x-mod"</span>,<span class="hljs-string">"mod"</span>],[<span class="hljs-string">"audio/x-mpeg"</span>,<span class="hljs-string">"mp2"</span>],[<span class="hljs-string">"audio/x-mpeg-3"</span>,<span class="hljs-string">"mp3"</span>],[<span class="hljs-string">"audio/x-mpegurl"</span>,<span class="hljs-string">"m3u"</span>],[<span class="hljs-string">"audio/x-mpequrl"</span>,<span class="hljs-string">"m3u"</span>],[<span class="hljs-string">"audio/x-ms-wax"</span>,<span class="hljs-string">"wax"</span>],[<span class="hljs-string">"audio/x-ms-wma"</span>,<span class="hljs-string">"wma"</span>],[<span class="hljs-string">"audio/x-nspaudio"</span>,[<span class="hljs-string">"la"</span>,<span class="hljs-string">"lma"</span>]],[<span class="hljs-string">"audio/x-pn-realaudio"</span>,[<span class="hljs-string">"ra"</span>,<span class="hljs-string">"ram"</span>,<span class="hljs-string">"rm"</span>,<span class="hljs-string">"rmm"</span>,<span class="hljs-string">"rmp"</span>]],[<span class="hljs-string">"audio/x-pn-realaudio-plugin"</span>,[<span class="hljs-string">"ra"</span>,<span class="hljs-string">"rmp"</span>,<span class="hljs-string">"rpm"</span>]],[<span class="hljs-string">"audio/x-psid"</span>,<span class="hljs-string">"sid"</span>],[<span class="hljs-string">"audio/x-realaudio"</span>,<span class="hljs-string">"ra"</span>],[<span class="hljs-string">"audio/x-twinvq"</span>,<span class="hljs-string">"vqf"</span>],[<span class="hljs-string">"audio/x-twinvq-plugin"</span>,[<span class="hljs-string">"vqe"</span>,<span class="hljs-string">"vql"</span>]],[<span class="hljs-string">"audio/x-vnd.audioexplosion.mjuicemediafile"</span>,<span class="hljs-string">"mjf"</span>],[<span class="hljs-string">"audio/x-voc"</span>,<span class="hljs-string">"voc"</span>],[<span class="hljs-string">"audio/x-wav"</span>,<span class="hljs-string">"wav"</span>],[<span class="hljs-string">"audio/xm"</span>,<span class="hljs-string">"xm"</span>],[<span class="hljs-string">"chemical/x-cdx"</span>,<span class="hljs-string">"cdx"</span>],[<span class="hljs-string">"chemical/x-cif"</span>,<span class="hljs-string">"cif"</span>],[<span class="hljs-string">"chemical/x-cmdf"</span>,<span class="hljs-string">"cmdf"</span>],[<span class="hljs-string">"chemical/x-cml"</span>,<span class="hljs-string">"cml"</span>],[<span class="hljs-string">"chemical/x-csml"</span>,<span class="hljs-string">"csml"</span>],[<span class="hljs-string">"chemical/x-pdb"</span>,[<span class="hljs-string">"pdb"</span>,<span class="hljs-string">"xyz"</span>]],[<span class="hljs-string">"chemical/x-xyz"</span>,<span class="hljs-string">"xyz"</span>],[<span class="hljs-string">"drawing/x-dwf"</span>,<span class="hljs-string">"dwf"</span>],[<span class="hljs-string">"i-world/i-vrml"</span>,<span class="hljs-string">"ivr"</span>],[<span class="hljs-string">"image/bmp"</span>,[<span class="hljs-string">"bmp"</span>,<span class="hljs-string">"bm"</span>]],[<span class="hljs-string">"image/cgm"</span>,<span class="hljs-string">"cgm"</span>],[<span class="hljs-string">"image/cis-cod"</span>,<span class="hljs-string">"cod"</span>],[<span class="hljs-string">"image/cmu-raster"</span>,[<span class="hljs-string">"ras"</span>,<span class="hljs-string">"rast"</span>]],[<span class="hljs-string">"image/fif"</span>,<span class="hljs-string">"fif"</span>],[<span class="hljs-string">"image/florian"</span>,[<span class="hljs-string">"flo"</span>,<span class="hljs-string">"turbot"</span>]],[<span class="hljs-string">"image/g3fax"</span>,<span class="hljs-string">"g3"</span>],[<span class="hljs-string">"image/gif"</span>,<span class="hljs-string">"gif"</span>],[<span class="hljs-string">"image/ief"</span>,[<span class="hljs-string">"ief"</span>,<span class="hljs-string">"iefs"</span>]],[<span class="hljs-string">"image/jpeg"</span>,[<span class="hljs-string">"jpeg"</span>,<span class="hljs-string">"jpe"</span>,<span class="hljs-string">"jpg"</span>,<span class="hljs-string">"jfif"</span>,<span class="hljs-string">"jfif-tbnl"</span>]],[<span class="hljs-string">"image/jutvision"</span>,<span class="hljs-string">"jut"</span>],[<span class="hljs-string">"image/ktx"</span>,<span class="hljs-string">"ktx"</span>],[<span class="hljs-string">"image/naplps"</span>,[<span class="hljs-string">"nap"</span>,<span class="hljs-string">"naplps"</span>]],[<span class="hljs-string">"image/pict"</span>,[<span class="hljs-string">"pic"</span>,<span class="hljs-string">"pict"</span>]],[<span class="hljs-string">"image/pipeg"</span>,<span class="hljs-string">"jfif"</span>],[<span class="hljs-string">"image/pjpeg"</span>,[<span class="hljs-string">"jfif"</span>,<span class="hljs-string">"jpe"</span>,<span class="hljs-string">"jpeg"</span>,<span class="hljs-string">"jpg"</span>]],[<span class="hljs-string">"image/png"</span>,[<span class="hljs-string">"png"</span>,<span class="hljs-string">"x-png"</span>]],[<span class="hljs-string">"image/prs.btif"</span>,<span class="hljs-string">"btif"</span>],[<span class="hljs-string">"image/svg+xml"</span>,<span class="hljs-string">"svg"</span>],[<span class="hljs-string">"image/tiff"</span>,[<span class="hljs-string">"tif"</span>,<span class="hljs-string">"tiff"</span>]],[<span class="hljs-string">"image/vasa"</span>,<span class="hljs-string">"mcf"</span>],[<span class="hljs-string">"image/vnd.adobe.photoshop"</span>,<span class="hljs-string">"psd"</span>],[<span class="hljs-string">"image/vnd.dece.graphic"</span>,<span class="hljs-string">"uvi"</span>],[<span class="hljs-string">"image/vnd.djvu"</span>,<span class="hljs-string">"djvu"</span>],[<span class="hljs-string">"image/vnd.dvb.subtitle"</span>,<span class="hljs-string">"sub"</span>],[<span class="hljs-string">"image/vnd.dwg"</span>,[<span class="hljs-string">"dwg"</span>,<span class="hljs-string">"dxf"</span>,<span class="hljs-string">"svf"</span>]],[<span class="hljs-string">"image/vnd.dxf"</span>,<span class="hljs-string">"dxf"</span>],[<span class="hljs-string">"image/vnd.fastbidsheet"</span>,<span class="hljs-string">"fbs"</span>],[<span class="hljs-string">"image/vnd.fpx"</span>,<span class="hljs-string">"fpx"</span>],[<span class="hljs-string">"image/vnd.fst"</span>,<span class="hljs-string">"fst"</span>],[<span class="hljs-string">"image/vnd.fujixerox.edmics-mmr"</span>,<span class="hljs-string">"mmr"</span>],[<span class="hljs-string">"image/vnd.fujixerox.edmics-rlc"</span>,<span class="hljs-string">"rlc"</span>],[<span class="hljs-string">"image/vnd.ms-modi"</span>,<span class="hljs-string">"mdi"</span>],[<span class="hljs-string">"image/vnd.net-fpx"</span>,[<span class="hljs-string">"fpx"</span>,<span class="hljs-string">"npx"</span>]],[<span class="hljs-string">"image/vnd.rn-realflash"</span>,<span class="hljs-string">"rf"</span>],[<span class="hljs-string">"image/vnd.rn-realpix"</span>,<span class="hljs-string">"rp"</span>],[<span class="hljs-string">"image/vnd.wap.wbmp"</span>,<span class="hljs-string">"wbmp"</span>],[<span class="hljs-string">"image/vnd.xiff"</span>,<span class="hljs-string">"xif"</span>],[<span class="hljs-string">"image/webp"</span>,<span class="hljs-string">"webp"</span>],[<span class="hljs-string">"image/x-cmu-raster"</span>,<span class="hljs-string">"ras"</span>],[<span class="hljs-string">"image/x-cmx"</span>,<span class="hljs-string">"cmx"</span>],[<span class="hljs-string">"image/x-dwg"</span>,[<span class="hljs-string">"dwg"</span>,<span class="hljs-string">"dxf"</span>,<span class="hljs-string">"svf"</span>]],[<span class="hljs-string">"image/x-freehand"</span>,<span class="hljs-string">"fh"</span>],[<span class="hljs-string">"image/x-icon"</span>,<span class="hljs-string">"ico"</span>],[<span class="hljs-string">"image/x-jg"</span>,<span class="hljs-string">"art"</span>],[<span class="hljs-string">"image/x-jps"</span>,<span class="hljs-string">"jps"</span>],[<span class="hljs-string">"image/x-niff"</span>,[<span class="hljs-string">"niff"</span>,<span class="hljs-string">"nif"</span>]],[<span class="hljs-string">"image/x-pcx"</span>,<span class="hljs-string">"pcx"</span>],[<span class="hljs-string">"image/x-pict"</span>,[<span class="hljs-string">"pct"</span>,<span class="hljs-string">"pic"</span>]],[<span class="hljs-string">"image/x-portable-anymap"</span>,<span class="hljs-string">"pnm"</span>],[<span class="hljs-string">"image/x-portable-bitmap"</span>,<span class="hljs-string">"pbm"</span>],[<span class="hljs-string">"image/x-portable-graymap"</span>,<span class="hljs-string">"pgm"</span>],[<span class="hljs-string">"image/x-portable-greymap"</span>,<span class="hljs-string">"pgm"</span>],[<span class="hljs-string">"image/x-portable-pixmap"</span>,<span class="hljs-string">"ppm"</span>],[<span class="hljs-string">"image/x-quicktime"</span>,[<span class="hljs-string">"qif"</span>,<span class="hljs-string">"qti"</span>,<span class="hljs-string">"qtif"</span>]],[<span class="hljs-string">"image/x-rgb"</span>,<span class="hljs-string">"rgb"</span>],[<span class="hljs-string">"image/x-tiff"</span>,[<span class="hljs-string">"tif"</span>,<span class="hljs-string">"tiff"</span>]],[<span class="hljs-string">"image/x-windows-bmp"</span>,<span class="hljs-string">"bmp"</span>],[<span class="hljs-string">"image/x-xbitmap"</span>,<span class="hljs-string">"xbm"</span>],[<span class="hljs-string">"image/x-xbm"</span>,<span class="hljs-string">"xbm"</span>],[<span class="hljs-string">"image/x-xpixmap"</span>,[<span class="hljs-string">"xpm"</span>,<span class="hljs-string">"pm"</span>]],[<span class="hljs-string">"image/x-xwd"</span>,<span class="hljs-string">"xwd"</span>],[<span class="hljs-string">"image/x-xwindowdump"</span>,<span class="hljs-string">"xwd"</span>],[<span class="hljs-string">"image/xbm"</span>,<span class="hljs-string">"xbm"</span>],[<span class="hljs-string">"image/xpm"</span>,<span class="hljs-string">"xpm"</span>],[<span class="hljs-string">"message/rfc822"</span>,[<span class="hljs-string">"eml"</span>,<span class="hljs-string">"mht"</span>,<span class="hljs-string">"mhtml"</span>,<span class="hljs-string">"nws"</span>,<span class="hljs-string">"mime"</span>]],[<span class="hljs-string">"model/iges"</span>,[<span class="hljs-string">"iges"</span>,<span class="hljs-string">"igs"</span>]],[<span class="hljs-string">"model/mesh"</span>,<span class="hljs-string">"msh"</span>],[<span class="hljs-string">"model/vnd.collada+xml"</span>,<span class="hljs-string">"dae"</span>],[<span class="hljs-string">"model/vnd.dwf"</span>,<span class="hljs-string">"dwf"</span>],[<span class="hljs-string">"model/vnd.gdl"</span>,<span class="hljs-string">"gdl"</span>],[<span class="hljs-string">"model/vnd.gtw"</span>,<span class="hljs-string">"gtw"</span>],[<span class="hljs-string">"model/vnd.mts"</span>,<span class="hljs-string">"mts"</span>],[<span class="hljs-string">"model/vnd.vtu"</span>,<span class="hljs-string">"vtu"</span>],[<span class="hljs-string">"model/vrml"</span>,[<span class="hljs-string">"vrml"</span>,<span class="hljs-string">"wrl"</span>,<span class="hljs-string">"wrz"</span>]],[<span class="hljs-string">"model/x-pov"</span>,<span class="hljs-string">"pov"</span>],[<span class="hljs-string">"multipart/x-gzip"</span>,<span class="hljs-string">"gzip"</span>],[<span class="hljs-string">"multipart/x-ustar"</span>,<span class="hljs-string">"ustar"</span>],[<span class="hljs-string">"multipart/x-zip"</span>,<span class="hljs-string">"zip"</span>],[<span class="hljs-string">"music/crescendo"</span>,[<span class="hljs-string">"mid"</span>,<span class="hljs-string">"midi"</span>]],[<span class="hljs-string">"music/x-karaoke"</span>,<span class="hljs-string">"kar"</span>],[<span class="hljs-string">"paleovu/x-pv"</span>,<span class="hljs-string">"pvu"</span>],[<span class="hljs-string">"text/asp"</span>,<span class="hljs-string">"asp"</span>],[<span class="hljs-string">"text/calendar"</span>,<span class="hljs-string">"ics"</span>],[<span class="hljs-string">"text/css"</span>,<span class="hljs-string">"css"</span>],[<span class="hljs-string">"text/csv"</span>,<span class="hljs-string">"csv"</span>],[<span class="hljs-string">"text/ecmascript"</span>,<span class="hljs-string">"js"</span>],[<span class="hljs-string">"text/h323"</span>,<span class="hljs-string">"323"</span>],[<span class="hljs-string">"text/html"</span>,[<span class="hljs-string">"html"</span>,<span class="hljs-string">"htm"</span>,<span class="hljs-string">"stm"</span>,<span class="hljs-string">"acgi"</span>,<span class="hljs-string">"htmls"</span>,<span class="hljs-string">"htx"</span>,<span class="hljs-string">"shtml"</span>]],[<span class="hljs-string">"text/iuls"</span>,<span class="hljs-string">"uls"</span>],[<span class="hljs-string">"text/javascript"</span>,<span class="hljs-string">"js"</span>],[<span class="hljs-string">"text/mcf"</span>,<span class="hljs-string">"mcf"</span>],[<span class="hljs-string">"text/n3"</span>,<span class="hljs-string">"n3"</span>],[<span class="hljs-string">"text/pascal"</span>,<span class="hljs-string">"pas"</span>],[<span class="hljs-string">"text/plain"</span>,[<span class="hljs-string">"txt"</span>,<span class="hljs-string">"bas"</span>,<span class="hljs-string">"c"</span>,<span class="hljs-string">"h"</span>,<span class="hljs-string">"c++"</span>,<span class="hljs-string">"cc"</span>,<span class="hljs-string">"com"</span>,<span class="hljs-string">"conf"</span>,<span class="hljs-string">"cxx"</span>,<span class="hljs-string">"def"</span>,<span class="hljs-string">"f"</span>,<span class="hljs-string">"f90"</span>,<span class="hljs-string">"for"</span>,<span class="hljs-string">"g"</span>,<span class="hljs-string">"hh"</span>,<span class="hljs-string">"idc"</span>,<span class="hljs-string">"jav"</span>,<span class="hljs-string">"java"</span>,<span class="hljs-string">"list"</span>,<span class="hljs-string">"log"</span>,<span class="hljs-string">"lst"</span>,<span class="hljs-string">"m"</span>,<span class="hljs-string">"mar"</span>,<span class="hljs-string">"pl"</span>,<span class="hljs-string">"sdml"</span>,<span class="hljs-string">"text"</span>]],[<span class="hljs-string">"text/plain-bas"</span>,<span class="hljs-string">"par"</span>],[<span class="hljs-string">"text/prs.lines.tag"</span>,<span class="hljs-string">"dsc"</span>],[<span class="hljs-string">"text/richtext"</span>,[<span class="hljs-string">"rtx"</span>,<span class="hljs-string">"rt"</span>,<span class="hljs-string">"rtf"</span>]],[<span class="hljs-string">"text/scriplet"</span>,<span class="hljs-string">"wsc"</span>],[<span class="hljs-string">"text/scriptlet"</span>,<span class="hljs-string">"sct"</span>],[<span class="hljs-string">"text/sgml"</span>,[<span class="hljs-string">"sgm"</span>,<span class="hljs-string">"sgml"</span>]],[<span class="hljs-string">"text/tab-separated-values"</span>,<span class="hljs-string">"tsv"</span>],[<span class="hljs-string">"text/troff"</span>,<span class="hljs-string">"t"</span>],[<span class="hljs-string">"text/turtle"</span>,<span class="hljs-string">"ttl"</span>],[<span class="hljs-string">"text/uri-list"</span>,[<span class="hljs-string">"uni"</span>,<span class="hljs-string">"unis"</span>,<span class="hljs-string">"uri"</span>,<span class="hljs-string">"uris"</span>]],[<span class="hljs-string">"text/vnd.abc"</span>,<span class="hljs-string">"abc"</span>],[<span class="hljs-string">"text/vnd.curl"</span>,<span class="hljs-string">"curl"</span>],[<span class="hljs-string">"text/vnd.curl.dcurl"</span>,<span class="hljs-string">"dcurl"</span>],[<span class="hljs-string">"text/vnd.curl.mcurl"</span>,<span class="hljs-string">"mcurl"</span>],[<span class="hljs-string">"text/vnd.curl.scurl"</span>,<span class="hljs-string">"scurl"</span>],[<span class="hljs-string">"text/vnd.fly"</span>,<span class="hljs-string">"fly"</span>],[<span class="hljs-string">"text/vnd.fmi.flexstor"</span>,<span class="hljs-string">"flx"</span>],[<span class="hljs-string">"text/vnd.graphviz"</span>,<span class="hljs-string">"gv"</span>],[<span class="hljs-string">"text/vnd.in3d.3dml"</span>,<span class="hljs-string">"3dml"</span>],[<span class="hljs-string">"text/vnd.in3d.spot"</span>,<span class="hljs-string">"spot"</span>],[<span class="hljs-string">"text/vnd.rn-realtext"</span>,<span class="hljs-string">"rt"</span>],[<span class="hljs-string">"text/vnd.sun.j2me.app-descriptor"</span>,<span class="hljs-string">"jad"</span>],[<span class="hljs-string">"text/vnd.wap.wml"</span>,<span class="hljs-string">"wml"</span>],[<span class="hljs-string">"text/vnd.wap.wmlscript"</span>,<span class="hljs-string">"wmls"</span>],[<span class="hljs-string">"text/webviewhtml"</span>,<span class="hljs-string">"htt"</span>],[<span class="hljs-string">"text/x-asm"</span>,[<span class="hljs-string">"asm"</span>,<span class="hljs-string">"s"</span>]],[<span class="hljs-string">"text/x-audiosoft-intra"</span>,<span class="hljs-string">"aip"</span>],[<span class="hljs-string">"text/x-c"</span>,[<span class="hljs-string">"c"</span>,<span class="hljs-string">"cc"</span>,<span class="hljs-string">"cpp"</span>]],[<span class="hljs-string">"text/x-component"</span>,<span class="hljs-string">"htc"</span>],[<span class="hljs-string">"text/x-fortran"</span>,[<span class="hljs-string">"for"</span>,<span class="hljs-string">"f"</span>,<span class="hljs-string">"f77"</span>,<span class="hljs-string">"f90"</span>]],[<span class="hljs-string">"text/x-h"</span>,[<span class="hljs-string">"h"</span>,<span class="hljs-string">"hh"</span>]],[<span class="hljs-string">"text/x-java-source"</span>,[<span class="hljs-string">"java"</span>,<span class="hljs-string">"jav"</span>]],[<span class="hljs-string">"text/x-java-source,java"</span>,<span class="hljs-string">"java"</span>],[<span class="hljs-string">"text/x-la-asf"</span>,<span class="hljs-string">"lsx"</span>],[<span class="hljs-string">"text/x-m"</span>,<span class="hljs-string">"m"</span>],[<span class="hljs-string">"text/x-pascal"</span>,<span class="hljs-string">"p"</span>],[<span class="hljs-string">"text/x-script"</span>,<span class="hljs-string">"hlb"</span>],[<span class="hljs-string">"text/x-script.csh"</span>,<span class="hljs-string">"csh"</span>],[<span class="hljs-string">"text/x-script.elisp"</span>,<span class="hljs-string">"el"</span>],[<span class="hljs-string">"text/x-script.guile"</span>,<span class="hljs-string">"scm"</span>],[<span class="hljs-string">"text/x-script.ksh"</span>,<span class="hljs-string">"ksh"</span>],[<span class="hljs-string">"text/x-script.lisp"</span>,<span class="hljs-string">"lsp"</span>],[<span class="hljs-string">"text/x-script.perl"</span>,<span class="hljs-string">"pl"</span>],[<span class="hljs-string">"text/x-script.perl-module"</span>,<span class="hljs-string">"pm"</span>],[<span class="hljs-string">"text/x-script.phyton"</span>,<span class="hljs-string">"py"</span>],[<span class="hljs-string">"text/x-script.rexx"</span>,<span class="hljs-string">"rexx"</span>],[<span class="hljs-string">"text/x-script.scheme"</span>,<span class="hljs-string">"scm"</span>],[<span class="hljs-string">"text/x-script.sh"</span>,<span class="hljs-string">"sh"</span>],[<span class="hljs-string">"text/x-script.tcl"</span>,<span class="hljs-string">"tcl"</span>],[<span class="hljs-string">"text/x-script.tcsh"</span>,<span class="hljs-string">"tcsh"</span>],[<span class="hljs-string">"text/x-script.zsh"</span>,<span class="hljs-string">"zsh"</span>],[<span class="hljs-string">"text/x-server-parsed-html"</span>,[<span class="hljs-string">"shtml"</span>,<span class="hljs-string">"ssi"</span>]],[<span class="hljs-string">"text/x-setext"</span>,<span class="hljs-string">"etx"</span>],[<span class="hljs-string">"text/x-sgml"</span>,[<span class="hljs-string">"sgm"</span>,<span class="hljs-string">"sgml"</span>]],[<span class="hljs-string">"text/x-speech"</span>,[<span class="hljs-string">"spc"</span>,<span class="hljs-string">"talk"</span>]],[<span class="hljs-string">"text/x-uil"</span>,<span class="hljs-string">"uil"</span>],[<span class="hljs-string">"text/x-uuencode"</span>,[<span class="hljs-string">"uu"</span>,<span class="hljs-string">"uue"</span>]],[<span class="hljs-string">"text/x-vcalendar"</span>,<span class="hljs-string">"vcs"</span>],[<span class="hljs-string">"text/x-vcard"</span>,<span class="hljs-string">"vcf"</span>],[<span class="hljs-string">"text/xml"</span>,<span class="hljs-string">"xml"</span>],[<span class="hljs-string">"video/3gpp"</span>,<span class="hljs-string">"3gp"</span>],[<span class="hljs-string">"video/3gpp2"</span>,<span class="hljs-string">"3g2"</span>],[<span class="hljs-string">"video/animaflex"</span>,<span class="hljs-string">"afl"</span>],[<span class="hljs-string">"video/avi"</span>,<span class="hljs-string">"avi"</span>],[<span class="hljs-string">"video/avs-video"</span>,<span class="hljs-string">"avs"</span>],[<span class="hljs-string">"video/dl"</span>,<span class="hljs-string">"dl"</span>],[<span class="hljs-string">"video/fli"</span>,<span class="hljs-string">"fli"</span>],[<span class="hljs-string">"video/gl"</span>,<span class="hljs-string">"gl"</span>],[<span class="hljs-string">"video/h261"</span>,<span class="hljs-string">"h261"</span>],[<span class="hljs-string">"video/h263"</span>,<span class="hljs-string">"h263"</span>],[<span class="hljs-string">"video/h264"</span>,<span class="hljs-string">"h264"</span>],[<span class="hljs-string">"video/jpeg"</span>,<span class="hljs-string">"jpgv"</span>],[<span class="hljs-string">"video/jpm"</span>,<span class="hljs-string">"jpm"</span>],[<span class="hljs-string">"video/mj2"</span>,<span class="hljs-string">"mj2"</span>],[<span class="hljs-string">"video/mp4"</span>,<span class="hljs-string">"mp4"</span>],[<span class="hljs-string">"video/mpeg"</span>,[<span class="hljs-string">"mpeg"</span>,<span class="hljs-string">"mp2"</span>,<span class="hljs-string">"mpa"</span>,<span class="hljs-string">"mpe"</span>,<span class="hljs-string">"mpg"</span>,<span class="hljs-string">"mpv2"</span>,<span class="hljs-string">"m1v"</span>,<span class="hljs-string">"m2v"</span>,<span class="hljs-string">"mp3"</span>]],[<span class="hljs-string">"video/msvideo"</span>,<span class="hljs-string">"avi"</span>],[<span class="hljs-string">"video/ogg"</span>,<span class="hljs-string">"ogv"</span>],[<span class="hljs-string">"video/quicktime"</span>,[<span class="hljs-string">"mov"</span>,<span class="hljs-string">"qt"</span>,<span class="hljs-string">"moov"</span>]],[<span class="hljs-string">"video/vdo"</span>,<span class="hljs-string">"vdo"</span>],[<span class="hljs-string">"video/vivo"</span>,[<span class="hljs-string">"viv"</span>,<span class="hljs-string">"vivo"</span>]],[<span class="hljs-string">"video/vnd.dece.hd"</span>,<span class="hljs-string">"uvh"</span>],[<span class="hljs-string">"video/vnd.dece.mobile"</span>,<span class="hljs-string">"uvm"</span>],[<span class="hljs-string">"video/vnd.dece.pd"</span>,<span class="hljs-string">"uvp"</span>],[<span class="hljs-string">"video/vnd.dece.sd"</span>,<span class="hljs-string">"uvs"</span>],[<span class="hljs-string">"video/vnd.dece.video"</span>,<span class="hljs-string">"uvv"</span>],[<span class="hljs-string">"video/vnd.fvt"</span>,<span class="hljs-string">"fvt"</span>],[<span class="hljs-string">"video/vnd.mpegurl"</span>,<span class="hljs-string">"mxu"</span>],[<span class="hljs-string">"video/vnd.ms-playready.media.pyv"</span>,<span class="hljs-string">"pyv"</span>],[<span class="hljs-string">"video/vnd.rn-realvideo"</span>,<span class="hljs-string">"rv"</span>],[<span class="hljs-string">"video/vnd.uvvu.mp4"</span>,<span class="hljs-string">"uvu"</span>],[<span class="hljs-string">"video/vnd.vivo"</span>,[<span class="hljs-string">"viv"</span>,<span class="hljs-string">"vivo"</span>]],[<span class="hljs-string">"video/vosaic"</span>,<span class="hljs-string">"vos"</span>],[<span class="hljs-string">"video/webm"</span>,<span class="hljs-string">"webm"</span>],[<span class="hljs-string">"video/x-amt-demorun"</span>,<span class="hljs-string">"xdr"</span>],[<span class="hljs-string">"video/x-amt-showrun"</span>,<span class="hljs-string">"xsr"</span>],[<span class="hljs-string">"video/x-atomic3d-feature"</span>,<span class="hljs-string">"fmf"</span>],[<span class="hljs-string">"video/x-dl"</span>,<span class="hljs-string">"dl"</span>],[<span class="hljs-string">"video/x-dv"</span>,[<span class="hljs-string">"dif"</span>,<span class="hljs-string">"dv"</span>]],[<span class="hljs-string">"video/x-f4v"</span>,<span class="hljs-string">"f4v"</span>],[<span class="hljs-string">"video/x-fli"</span>,<span class="hljs-string">"fli"</span>],[<span class="hljs-string">"video/x-flv"</span>,<span class="hljs-string">"flv"</span>],[<span class="hljs-string">"video/x-gl"</span>,<span class="hljs-string">"gl"</span>],[<span class="hljs-string">"video/x-isvideo"</span>,<span class="hljs-string">"isu"</span>],[<span class="hljs-string">"video/x-la-asf"</span>,[<span class="hljs-string">"lsf"</span>,<span class="hljs-string">"lsx"</span>]],[<span class="hljs-string">"video/x-m4v"</span>,<span class="hljs-string">"m4v"</span>],[<span class="hljs-string">"video/x-motion-jpeg"</span>,<span class="hljs-string">"mjpg"</span>],[<span class="hljs-string">"video/x-mpeg"</span>,[<span class="hljs-string">"mp3"</span>,<span class="hljs-string">"mp2"</span>]],[<span class="hljs-string">"video/x-mpeq2a"</span>,<span class="hljs-string">"mp2"</span>],[<span class="hljs-string">"video/x-ms-asf"</span>,[<span class="hljs-string">"asf"</span>,<span class="hljs-string">"asr"</span>,<span class="hljs-string">"asx"</span>]],[<span class="hljs-string">"video/x-ms-asf-plugin"</span>,<span class="hljs-string">"asx"</span>],[<span class="hljs-string">"video/x-ms-wm"</span>,<span class="hljs-string">"wm"</span>],[<span class="hljs-string">"video/x-ms-wmv"</span>,<span class="hljs-string">"wmv"</span>],[<span class="hljs-string">"video/x-ms-wmx"</span>,<span class="hljs-string">"wmx"</span>],[<span class="hljs-string">"video/x-ms-wvx"</span>,<span class="hljs-string">"wvx"</span>],[<span class="hljs-string">"video/x-msvideo"</span>,<span class="hljs-string">"avi"</span>],[<span class="hljs-string">"video/x-qtc"</span>,<span class="hljs-string">"qtc"</span>],[<span class="hljs-string">"video/x-scm"</span>,<span class="hljs-string">"scm"</span>],[<span class="hljs-string">"video/x-sgi-movie"</span>,[<span class="hljs-string">"movie"</span>,<span class="hljs-string">"mv"</span>]],[<span class="hljs-string">"windows/metafile"</span>,<span class="hljs-string">"wmf"</span>],[<span class="hljs-string">"www/mime"</span>,<span class="hljs-string">"mime"</span>],[<span class="hljs-string">"x-conference/x-cooltalk"</span>,<span class="hljs-string">"ice"</span>],[<span class="hljs-string">"x-music/x-midi"</span>,[<span class="hljs-string">"mid"</span>,<span class="hljs-string">"midi"</span>]],[<span class="hljs-string">"x-world/x-3dmf"</span>,[<span class="hljs-string">"3dm"</span>,<span class="hljs-string">"3dmf"</span>,<span class="hljs-string">"qd3"</span>,<span class="hljs-string">"qd3d"</span>]],[<span class="hljs-string">"x-world/x-svr"</span>,<span class="hljs-string">"svr"</span>],[<span class="hljs-string">"x-world/x-vrml"</span>,[<span class="hljs-string">"flr"</span>,<span class="hljs-string">"vrml"</span>,<span class="hljs-string">"wrl"</span>,<span class="hljs-string">"wrz"</span>,<span class="hljs-string">"xaf"</span>,<span class="hljs-string">"xof"</span>]],[<span class="hljs-string">"x-world/x-vrt"</span>,<span class="hljs-string">"vrt"</span>],[<span class="hljs-string">"xgl/drawing"</span>,<span class="hljs-string">"xgz"</span>],[<span class="hljs-string">"xgl/movie"</span>,<span class="hljs-string">"xmz"</span>]]),n=<span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>([[<span class="hljs-string">"123"</span>,<span class="hljs-string">"application/vnd.lotus-1-2-3"</span>],[<span class="hljs-string">"323"</span>,<span class="hljs-string">"text/h323"</span>],[<span class="hljs-string">"*"</span>,<span class="hljs-string">"application/octet-stream"</span>],[<span class="hljs-string">"3dm"</span>,<span class="hljs-string">"x-world/x-3dmf"</span>],[<span class="hljs-string">"3dmf"</span>,<span class="hljs-string">"x-world/x-3dmf"</span>],[<span class="hljs-string">"3dml"</span>,<span class="hljs-string">"text/vnd.in3d.3dml"</span>],[<span class="hljs-string">"3g2"</span>,<span class="hljs-string">"video/3gpp2"</span>],[<span class="hljs-string">"3gp"</span>,<span class="hljs-string">"video/3gpp"</span>],[<span class="hljs-string">"7z"</span>,<span class="hljs-string">"application/x-7z-compressed"</span>],[<span class="hljs-string">"a"</span>,<span class="hljs-string">"application/octet-stream"</span>],[<span class="hljs-string">"aab"</span>,<span class="hljs-string">"application/x-authorware-bin"</span>],[<span class="hljs-string">"aac"</span>,<span class="hljs-string">"audio/x-aac"</span>],[<span class="hljs-string">"aam"</span>,<span class="hljs-string">"application/x-authorware-map"</span>],[<span class="hljs-string">"aas"</span>,<span class="hljs-string">"application/x-authorware-seg"</span>],[<span class="hljs-string">"abc"</span>,<span class="hljs-string">"text/vnd.abc"</span>],[<span class="hljs-string">"abw"</span>,<span class="hljs-string">"application/x-abiword"</span>],[<span class="hljs-string">"ac"</span>,<span class="hljs-string">"application/pkix-attr-cert"</span>],[<span class="hljs-string">"acc"</span>,<span class="hljs-string">"application/vnd.americandynamics.acc"</span>],[<span class="hljs-string">"ace"</span>,<span class="hljs-string">"application/x-ace-compressed"</span>],[<span class="hljs-string">"acgi"</span>,<span class="hljs-string">"text/html"</span>],[<span class="hljs-string">"acu"</span>,<span class="hljs-string">"application/vnd.acucobol"</span>],[<span class="hljs-string">"acx"</span>,<span class="hljs-string">"application/internet-property-stream"</span>],[<span class="hljs-string">"adp"</span>,<span class="hljs-string">"audio/adpcm"</span>],[<span class="hljs-string">"aep"</span>,<span class="hljs-string">"application/vnd.audiograph"</span>],[<span class="hljs-string">"afl"</span>,<span class="hljs-string">"video/animaflex"</span>],[<span class="hljs-string">"afp"</span>,<span class="hljs-string">"application/vnd.ibm.modcap"</span>],[<span class="hljs-string">"ahead"</span>,<span class="hljs-string">"application/vnd.ahead.space"</span>],[<span class="hljs-string">"ai"</span>,<span class="hljs-string">"application/postscript"</span>],[<span class="hljs-string">"aif"</span>,[<span class="hljs-string">"audio/aiff"</span>,<span class="hljs-string">"audio/x-aiff"</span>]],[<span class="hljs-string">"aifc"</span>,[<span class="hljs-string">"audio/aiff"</span>,<span class="hljs-string">"audio/x-aiff"</span>]],[<span class="hljs-string">"aiff"</span>,[<span class="hljs-string">"audio/aiff"</span>,<span class="hljs-string">"audio/x-aiff"</span>]],[<span class="hljs-string">"aim"</span>,<span class="hljs-string">"application/x-aim"</span>],[<span class="hljs-string">"aip"</span>,<span class="hljs-string">"text/x-audiosoft-intra"</span>],[<span class="hljs-string">"air"</span>,<span class="hljs-string">"application/vnd.adobe.air-application-installer-package+zip"</span>],[<span class="hljs-string">"ait"</span>,<span class="hljs-string">"application/vnd.dvb.ait"</span>],[<span class="hljs-string">"ami"</span>,<span class="hljs-string">"application/vnd.amiga.ami"</span>],[<span class="hljs-string">"ani"</span>,<span class="hljs-string">"application/x-navi-animation"</span>],[<span class="hljs-string">"aos"</span>,<span class="hljs-string">"application/x-nokia-9000-communicator-add-on-software"</span>],[<span class="hljs-string">"apk"</span>,<span class="hljs-string">"application/vnd.android.package-archive"</span>],[<span class="hljs-string">"application"</span>,<span class="hljs-string">"application/x-ms-application"</span>],[<span class="hljs-string">"apr"</span>,<span class="hljs-string">"application/vnd.lotus-approach"</span>],[<span class="hljs-string">"aps"</span>,<span class="hljs-string">"application/mime"</span>],[<span class="hljs-string">"arc"</span>,<span class="hljs-string">"application/octet-stream"</span>],[<span class="hljs-string">"arj"</span>,[<span class="hljs-string">"application/arj"</span>,<span class="hljs-string">"application/octet-stream"</span>]],[<span class="hljs-string">"art"</span>,<span class="hljs-string">"image/x-jg"</span>],[<span class="hljs-string">"asf"</span>,<span class="hljs-string">"video/x-ms-asf"</span>],[<span class="hljs-string">"asm"</span>,<span class="hljs-string">"text/x-asm"</span>],[<span class="hljs-string">"aso"</span>,<span class="hljs-string">"application/vnd.accpac.simply.aso"</span>],[<span class="hljs-string">"asp"</span>,<span class="hljs-string">"text/asp"</span>],[<span class="hljs-string">"asr"</span>,<span class="hljs-string">"video/x-ms-asf"</span>],[<span class="hljs-string">"asx"</span>,[<span class="hljs-string">"video/x-ms-asf"</span>,<span class="hljs-string">"application/x-mplayer2"</span>,<span class="hljs-string">"video/x-ms-asf-plugin"</span>]],[<span class="hljs-string">"atc"</span>,<span class="hljs-string">"application/vnd.acucorp"</span>],[<span class="hljs-string">"atomcat"</span>,<span class="hljs-string">"application/atomcat+xml"</span>],[<span class="hljs-string">"atomsvc"</span>,<span class="hljs-string">"application/atomsvc+xml"</span>],[<span class="hljs-string">"atx"</span>,<span class="hljs-string">"application/vnd.antix.game-component"</span>],[<span class="hljs-string">"au"</span>,[<span class="hljs-string">"audio/basic"</span>,<span class="hljs-string">"audio/x-au"</span>]],[<span class="hljs-string">"avi"</span>,[<span class="hljs-string">"video/avi"</span>,<span class="hljs-string">"video/msvideo"</span>,<span class="hljs-string">"application/x-troff-msvideo"</span>,<span class="hljs-string">"video/x-msvideo"</span>]],[<span class="hljs-string">"avs"</span>,<span class="hljs-string">"video/avs-video"</span>],[<span class="hljs-string">"aw"</span>,<span class="hljs-string">"application/applixware"</span>],[<span class="hljs-string">"axs"</span>,<span class="hljs-string">"application/olescript"</span>],[<span class="hljs-string">"azf"</span>,<span class="hljs-string">"application/vnd.airzip.filesecure.azf"</span>],[<span class="hljs-string">"azs"</span>,<span class="hljs-string">"application/vnd.airzip.filesecure.azs"</span>],[<span class="hljs-string">"azw"</span>,<span class="hljs-string">"application/vnd.amazon.ebook"</span>],[<span class="hljs-string">"bas"</span>,<span class="hljs-string">"text/plain"</span>],[<span class="hljs-string">"bcpio"</span>,<span class="hljs-string">"application/x-bcpio"</span>],[<span class="hljs-string">"bdf"</span>,<span class="hljs-string">"application/x-font-bdf"</span>],[<span class="hljs-string">"bdm"</span>,<span class="hljs-string">"application/vnd.syncml.dm+wbxml"</span>],[<span class="hljs-string">"bed"</span>,<span class="hljs-string">"application/vnd.realvnc.bed"</span>],[<span class="hljs-string">"bh2"</span>,<span class="hljs-string">"application/vnd.fujitsu.oasysprs"</span>],[<span class="hljs-string">"bin"</span>,[<span class="hljs-string">"application/octet-stream"</span>,<span class="hljs-string">"application/mac-binary"</span>,<span class="hljs-string">"application/macbinary"</span>,<span class="hljs-string">"application/x-macbinary"</span>,<span class="hljs-string">"application/x-binary"</span>]],[<span class="hljs-string">"bm"</span>,<span class="hljs-string">"image/bmp"</span>],[<span class="hljs-string">"bmi"</span>,<span class="hljs-string">"application/vnd.bmi"</span>],[<span class="hljs-string">"bmp"</span>,[<span class="hljs-string">"image/bmp"</span>,<span class="hljs-string">"image/x-windows-bmp"</span>]],[<span class="hljs-string">"boo"</span>,<span class="hljs-string">"application/book"</span>],[<span class="hljs-string">"book"</span>,<span class="hljs-string">"application/book"</span>],[<span class="hljs-string">"box"</span>,<span class="hljs-string">"application/vnd.previewsystems.box"</span>],[<span class="hljs-string">"boz"</span>,<span class="hljs-string">"application/x-bzip2"</span>],[<span class="hljs-string">"bsh"</span>,<span class="hljs-string">"application/x-bsh"</span>],[<span class="hljs-string">"btif"</span>,<span class="hljs-string">"image/prs.btif"</span>],[<span class="hljs-string">"bz"</span>,<span class="hljs-string">"application/x-bzip"</span>],[<span class="hljs-string">"bz2"</span>,<span class="hljs-string">"application/x-bzip2"</span>],[<span class="hljs-string">"c"</span>,[<span class="hljs-string">"text/plain"</span>,<span class="hljs-string">"text/x-c"</span>]],[<span class="hljs-string">"c++"</span>,<span class="hljs-string">"text/plain"</span>],[<span class="hljs-string">"c11amc"</span>,<span class="hljs-string">"application/vnd.cluetrust.cartomobile-config"</span>],[<span class="hljs-string">"c11amz"</span>,<span class="hljs-string">"application/vnd.cluetrust.cartomobile-config-pkg"</span>],[<span class="hljs-string">"c4g"</span>,<span class="hljs-string">"application/vnd.clonk.c4group"</span>],[<span class="hljs-string">"cab"</span>,<span class="hljs-string">"application/vnd.ms-cab-compressed"</span>],[<span class="hljs-string">"car"</span>,<span class="hljs-string">"application/vnd.curl.car"</span>],[<span class="hljs-string">"cat"</span>,[<span class="hljs-string">"application/vnd.ms-pkiseccat"</span>,<span class="hljs-string">"application/vnd.ms-pki.seccat"</span>]],[<span class="hljs-string">"cc"</span>,[<span class="hljs-string">"text/plain"</span>,<span class="hljs-string">"text/x-c"</span>]],[<span class="hljs-string">"ccad"</span>,<span class="hljs-string">"application/clariscad"</span>],[<span class="hljs-string">"cco"</span>,<span class="hljs-string">"application/x-cocoa"</span>],[<span class="hljs-string">"ccxml"</span>,<span class="hljs-string">"application/ccxml+xml,"</span>],[<span class="hljs-string">"cdbcmsg"</span>,<span class="hljs-string">"application/vnd.contact.cmsg"</span>],[<span class="hljs-string">"cdf"</span>,[<span class="hljs-string">"application/cdf"</span>,<span class="hljs-string">"application/x-cdf"</span>,<span class="hljs-string">"application/x-netcdf"</span>]],[<span class="hljs-string">"cdkey"</span>,<span class="hljs-string">"application/vnd.mediastation.cdkey"</span>],[<span class="hljs-string">"cdmia"</span>,<span class="hljs-string">"application/cdmi-capability"</span>],[<span class="hljs-string">"cdmic"</span>,<span class="hljs-string">"application/cdmi-container"</span>],[<span class="hljs-string">"cdmid"</span>,<span class="hljs-string">"application/cdmi-domain"</span>],[<span class="hljs-string">"cdmio"</span>,<span class="hljs-string">"application/cdmi-object"</span>],[<span class="hljs-string">"cdmiq"</span>,<span class="hljs-string">"application/cdmi-queue"</span>],[<span class="hljs-string">"cdx"</span>,<span class="hljs-string">"chemical/x-cdx"</span>],[<span class="hljs-string">"cdxml"</span>,<span class="hljs-string">"application/vnd.chemdraw+xml"</span>],[<span class="hljs-string">"cdy"</span>,<span class="hljs-string">"application/vnd.cinderella"</span>],[<span class="hljs-string">"cer"</span>,[<span class="hljs-string">"application/pkix-cert"</span>,<span class="hljs-string">"application/x-x509-ca-cert"</span>]],[<span class="hljs-string">"cgm"</span>,<span class="hljs-string">"image/cgm"</span>],[<span class="hljs-string">"cha"</span>,<span class="hljs-string">"application/x-chat"</span>],[<span class="hljs-string">"chat"</span>,<span class="hljs-string">"application/x-chat"</span>],[<span class="hljs-string">"chm"</span>,<span class="hljs-string">"application/vnd.ms-htmlhelp"</span>],[<span class="hljs-string">"chrt"</span>,<span class="hljs-string">"application/vnd.kde.kchart"</span>],[<span class="hljs-string">"cif"</span>,<span class="hljs-string">"chemical/x-cif"</span>],[<span class="hljs-string">"cii"</span>,<span class="hljs-string">"application/vnd.anser-web-certificate-issue-initiation"</span>],[<span class="hljs-string">"cil"</span>,<span class="hljs-string">"application/vnd.ms-artgalry"</span>],[<span class="hljs-string">"cla"</span>,<span class="hljs-string">"application/vnd.claymore"</span>],[<span class="hljs-string">"class"</span>,[<span class="hljs-string">"application/octet-stream"</span>,<span class="hljs-string">"application/java"</span>,<span class="hljs-string">"application/java-byte-code"</span>,<span class="hljs-string">"application/java-vm"</span>,<span class="hljs-string">"application/x-java-class"</span>]],[<span class="hljs-string">"clkk"</span>,<span class="hljs-string">"application/vnd.crick.clicker.keyboard"</span>],[<span class="hljs-string">"clkp"</span>,<span class="hljs-string">"application/vnd.crick.clicker.palette"</span>],[<span class="hljs-string">"clkt"</span>,<span class="hljs-string">"application/vnd.crick.clicker.template"</span>],[<span class="hljs-string">"clkw"</span>,<span class="hljs-string">"application/vnd.crick.clicker.wordbank"</span>],[<span class="hljs-string">"clkx"</span>,<span class="hljs-string">"application/vnd.crick.clicker"</span>],[<span class="hljs-string">"clp"</span>,<span class="hljs-string">"application/x-msclip"</span>],[<span class="hljs-string">"cmc"</span>,<span class="hljs-string">"application/vnd.cosmocaller"</span>],[<span class="hljs-string">"cmdf"</span>,<span class="hljs-string">"chemical/x-cmdf"</span>],[<span class="hljs-string">"cml"</span>,<span class="hljs-string">"chemical/x-cml"</span>],[<span class="hljs-string">"cmp"</span>,<span class="hljs-string">"application/vnd.yellowriver-custom-menu"</span>],[<span class="hljs-string">"cmx"</span>,<span class="hljs-string">"image/x-cmx"</span>],[<span class="hljs-string">"cod"</span>,[<span class="hljs-string">"image/cis-cod"</span>,<span class="hljs-string">"application/vnd.rim.cod"</span>]],[<span class="hljs-string">"com"</span>,[<span class="hljs-string">"application/octet-stream"</span>,<span class="hljs-string">"text/plain"</span>]],[<span class="hljs-string">"conf"</span>,<span class="hljs-string">"text/plain"</span>],[<span class="hljs-string">"cpio"</span>,<span class="hljs-string">"application/x-cpio"</span>],[<span class="hljs-string">"cpp"</span>,<span class="hljs-string">"text/x-c"</span>],[<span class="hljs-string">"cpt"</span>,[<span class="hljs-string">"application/mac-compactpro"</span>,<span class="hljs-string">"application/x-compactpro"</span>,<span class="hljs-string">"application/x-cpt"</span>]],[<span class="hljs-string">"crd"</span>,<span class="hljs-string">"application/x-mscardfile"</span>],[<span class="hljs-string">"crl"</span>,[<span class="hljs-string">"application/pkix-crl"</span>,<span class="hljs-string">"application/pkcs-crl"</span>]],[<span class="hljs-string">"crt"</span>,[<span class="hljs-string">"application/pkix-cert"</span>,<span class="hljs-string">"application/x-x509-user-cert"</span>,<span class="hljs-string">"application/x-x509-ca-cert"</span>]],[<span class="hljs-string">"cryptonote"</span>,<span class="hljs-string">"application/vnd.rig.cryptonote"</span>],[<span class="hljs-string">"csh"</span>,[<span class="hljs-string">"text/x-script.csh"</span>,<span class="hljs-string">"application/x-csh"</span>]],[<span class="hljs-string">"csml"</span>,<span class="hljs-string">"chemical/x-csml"</span>],[<span class="hljs-string">"csp"</span>,<span class="hljs-string">"application/vnd.commonspace"</span>],[<span class="hljs-string">"css"</span>,[<span class="hljs-string">"text/css"</span>,<span class="hljs-string">"application/x-pointplus"</span>]],[<span class="hljs-string">"csv"</span>,<span class="hljs-string">"text/csv"</span>],[<span class="hljs-string">"cu"</span>,<span class="hljs-string">"application/cu-seeme"</span>],[<span class="hljs-string">"curl"</span>,<span class="hljs-string">"text/vnd.curl"</span>],[<span class="hljs-string">"cww"</span>,<span class="hljs-string">"application/prs.cww"</span>],[<span class="hljs-string">"cxx"</span>,<span class="hljs-string">"text/plain"</span>],[<span class="hljs-string">"dae"</span>,<span class="hljs-string">"model/vnd.collada+xml"</span>],[<span class="hljs-string">"daf"</span>,<span class="hljs-string">"application/vnd.mobius.daf"</span>],[<span class="hljs-string">"davmount"</span>,<span class="hljs-string">"application/davmount+xml"</span>],[<span class="hljs-string">"dcr"</span>,<span class="hljs-string">"application/x-director"</span>],[<span class="hljs-string">"dcurl"</span>,<span class="hljs-string">"text/vnd.curl.dcurl"</span>],[<span class="hljs-string">"dd2"</span>,<span class="hljs-string">"application/vnd.oma.dd2+xml"</span>],[<span class="hljs-string">"ddd"</span>,<span class="hljs-string">"application/vnd.fujixerox.ddd"</span>],[<span class="hljs-string">"deb"</span>,<span class="hljs-string">"application/x-debian-package"</span>],[<span class="hljs-string">"deepv"</span>,<span class="hljs-string">"application/x-deepv"</span>],[<span class="hljs-string">"def"</span>,<span class="hljs-string">"text/plain"</span>],[<span class="hljs-string">"der"</span>,<span class="hljs-string">"application/x-x509-ca-cert"</span>],[<span class="hljs-string">"dfac"</span>,<span class="hljs-string">"application/vnd.dreamfactory"</span>],[<span class="hljs-string">"dif"</span>,<span class="hljs-string">"video/x-dv"</span>],[<span class="hljs-string">"dir"</span>,<span class="hljs-string">"application/x-director"</span>],[<span class="hljs-string">"dis"</span>,<span class="hljs-string">"application/vnd.mobius.dis"</span>],[<span class="hljs-string">"djvu"</span>,<span class="hljs-string">"image/vnd.djvu"</span>],[<span class="hljs-string">"dl"</span>,[<span class="hljs-string">"video/dl"</span>,<span class="hljs-string">"video/x-dl"</span>]],[<span class="hljs-string">"dll"</span>,<span class="hljs-string">"application/x-msdownload"</span>],[<span class="hljs-string">"dms"</span>,<span class="hljs-string">"application/octet-stream"</span>],[<span class="hljs-string">"dna"</span>,<span class="hljs-string">"application/vnd.dna"</span>],[<span class="hljs-string">"doc"</span>,<span class="hljs-string">"application/msword"</span>],[<span class="hljs-string">"docm"</span>,<span class="hljs-string">"application/vnd.ms-word.document.macroenabled.12"</span>],[<span class="hljs-string">"docx"</span>,<span class="hljs-string">"application/vnd.openxmlformats-officedocument.wordprocessingml.document"</span>],[<span class="hljs-string">"dot"</span>,<span class="hljs-string">"application/msword"</span>],[<span class="hljs-string">"dotm"</span>,<span class="hljs-string">"application/vnd.ms-word.template.macroenabled.12"</span>],[<span class="hljs-string">"dotx"</span>,<span class="hljs-string">"application/vnd.openxmlformats-officedocument.wordprocessingml.template"</span>],[<span class="hljs-string">"dp"</span>,[<span class="hljs-string">"application/commonground"</span>,<span class="hljs-string">"application/vnd.osgi.dp"</span>]],[<span class="hljs-string">"dpg"</span>,<span class="hljs-string">"application/vnd.dpgraph"</span>],[<span class="hljs-string">"dra"</span>,<span class="hljs-string">"audio/vnd.dra"</span>],[<span class="hljs-string">"drw"</span>,<span class="hljs-string">"application/drafting"</span>],[<span class="hljs-string">"dsc"</span>,<span class="hljs-string">"text/prs.lines.tag"</span>],[<span class="hljs-string">"dssc"</span>,<span class="hljs-string">"application/dssc+der"</span>],[<span class="hljs-string">"dtb"</span>,<span class="hljs-string">"application/x-dtbook+xml"</span>],[<span class="hljs-string">"dtd"</span>,<span class="hljs-string">"application/xml-dtd"</span>],[<span class="hljs-string">"dts"</span>,<span class="hljs-string">"audio/vnd.dts"</span>],[<span class="hljs-string">"dtshd"</span>,<span class="hljs-string">"audio/vnd.dts.hd"</span>],[<span class="hljs-string">"dump"</span>,<span class="hljs-string">"application/octet-stream"</span>],[<span class="hljs-string">"dv"</span>,<span class="hljs-string">"video/x-dv"</span>],[<span class="hljs-string">"dvi"</span>,<span class="hljs-string">"application/x-dvi"</span>],[<span class="hljs-string">"dwf"</span>,[<span class="hljs-string">"model/vnd.dwf"</span>,<span class="hljs-string">"drawing/x-dwf"</span>]],[<span class="hljs-string">"dwg"</span>,[<span class="hljs-string">"application/acad"</span>,<span class="hljs-string">"image/vnd.dwg"</span>,<span class="hljs-string">"image/x-dwg"</span>]],[<span class="hljs-string">"dxf"</span>,[<span class="hljs-string">"application/dxf"</span>,<span class="hljs-string">"image/vnd.dwg"</span>,<span class="hljs-string">"image/vnd.dxf"</span>,<span class="hljs-string">"image/x-dwg"</span>]],[<span class="hljs-string">"dxp"</span>,<span class="hljs-string">"application/vnd.spotfire.dxp"</span>],[<span class="hljs-string">"dxr"</span>,<span class="hljs-string">"application/x-director"</span>],[<span class="hljs-string">"ecelp4800"</span>,<span class="hljs-string">"audio/vnd.nuera.ecelp4800"</span>],[<span class="hljs-string">"ecelp7470"</span>,<span class="hljs-string">"audio/vnd.nuera.ecelp7470"</span>],[<span class="hljs-string">"ecelp9600"</span>,<span class="hljs-string">"audio/vnd.nuera.ecelp9600"</span>],[<span class="hljs-string">"edm"</span>,<span class="hljs-string">"application/vnd.novadigm.edm"</span>],[<span class="hljs-string">"edx"</span>,<span class="hljs-string">"application/vnd.novadigm.edx"</span>],[<span class="hljs-string">"efif"</span>,<span class="hljs-string">"application/vnd.picsel"</span>],[<span class="hljs-string">"ei6"</span>,<span class="hljs-string">"application/vnd.pg.osasli"</span>],[<span class="hljs-string">"el"</span>,<span class="hljs-string">"text/x-script.elisp"</span>],[<span class="hljs-string">"elc"</span>,[<span class="hljs-string">"application/x-elc"</span>,<span class="hljs-string">"application/x-bytecode.elisp"</span>]],[<span class="hljs-string">"eml"</span>,<span class="hljs-string">"message/rfc822"</span>],[<span class="hljs-string">"emma"</span>,<span class="hljs-string">"application/emma+xml"</span>],[<span class="hljs-string">"env"</span>,<span class="hljs-string">"application/x-envoy"</span>],[<span class="hljs-string">"eol"</span>,<span class="hljs-string">"audio/vnd.digital-winds"</span>],[<span class="hljs-string">"eot"</span>,<span class="hljs-string">"application/vnd.ms-fontobject"</span>],[<span class="hljs-string">"eps"</span>,<span class="hljs-string">"application/postscript"</span>],[<span class="hljs-string">"epub"</span>,<span class="hljs-string">"application/epub+zip"</span>],[<span class="hljs-string">"es"</span>,[<span class="hljs-string">"application/ecmascript"</span>,<span class="hljs-string">"application/x-esrehber"</span>]],[<span class="hljs-string">"es3"</span>,<span class="hljs-string">"application/vnd.eszigno3+xml"</span>],[<span class="hljs-string">"esf"</span>,<span class="hljs-string">"application/vnd.epson.esf"</span>],[<span class="hljs-string">"etx"</span>,<span class="hljs-string">"text/x-setext"</span>],[<span class="hljs-string">"evy"</span>,[<span class="hljs-string">"application/envoy"</span>,<span class="hljs-string">"application/x-envoy"</span>]],[<span class="hljs-string">"exe"</span>,[<span class="hljs-string">"application/octet-stream"</span>,<span class="hljs-string">"application/x-msdownload"</span>]],[<span class="hljs-string">"exi"</span>,<span class="hljs-string">"application/exi"</span>],[<span class="hljs-string">"ext"</span>,<span class="hljs-string">"application/vnd.novadigm.ext"</span>],[<span class="hljs-string">"ez2"</span>,<span class="hljs-string">"application/vnd.ezpix-album"</span>],[<span class="hljs-string">"ez3"</span>,<span class="hljs-string">"application/vnd.ezpix-package"</span>],[<span class="hljs-string">"f"</span>,[<span class="hljs-string">"text/plain"</span>,<span class="hljs-string">"text/x-fortran"</span>]],[<span class="hljs-string">"f4v"</span>,<span class="hljs-string">"video/x-f4v"</span>],[<span class="hljs-string">"f77"</span>,<span class="hljs-string">"text/x-fortran"</span>],[<span class="hljs-string">"f90"</span>,[<span class="hljs-string">"text/plain"</span>,<span class="hljs-string">"text/x-fortran"</span>]],[<span class="hljs-string">"fbs"</span>,<span class="hljs-string">"image/vnd.fastbidsheet"</span>],[<span class="hljs-string">"fcs"</span>,<span class="hljs-string">"application/vnd.isac.fcs"</span>],[<span class="hljs-string">"fdf"</span>,<span class="hljs-string">"application/vnd.fdf"</span>],[<span class="hljs-string">"fe_launch"</span>,<span class="hljs-string">"application/vnd.denovo.fcselayout-link"</span>],[<span class="hljs-string">"fg5"</span>,<span class="hljs-string">"application/vnd.fujitsu.oasysgp"</span>],[<span class="hljs-string">"fh"</span>,<span class="hljs-string">"image/x-freehand"</span>],[<span class="hljs-string">"fif"</span>,[<span class="hljs-string">"application/fractals"</span>,<span class="hljs-string">"image/fif"</span>]],[<span class="hljs-string">"fig"</span>,<span class="hljs-string">"application/x-xfig"</span>],[<span class="hljs-string">"fli"</span>,[<span class="hljs-string">"video/fli"</span>,<span class="hljs-string">"video/x-fli"</span>]],[<span class="hljs-string">"flo"</span>,[<span class="hljs-string">"image/florian"</span>,<span class="hljs-string">"application/vnd.micrografx.flo"</span>]],[<span class="hljs-string">"flr"</span>,<span class="hljs-string">"x-world/x-vrml"</span>],[<span class="hljs-string">"flv"</span>,<span class="hljs-string">"video/x-flv"</span>],[<span class="hljs-string">"flw"</span>,<span class="hljs-string">"application/vnd.kde.kivio"</span>],[<span class="hljs-string">"flx"</span>,<span class="hljs-string">"text/vnd.fmi.flexstor"</span>],[<span class="hljs-string">"fly"</span>,<span class="hljs-string">"text/vnd.fly"</span>],[<span class="hljs-string">"fm"</span>,<span class="hljs-string">"application/vnd.framemaker"</span>],[<span class="hljs-string">"fmf"</span>,<span class="hljs-string">"video/x-atomic3d-feature"</span>],[<span class="hljs-string">"fnc"</span>,<span class="hljs-string">"application/vnd.frogans.fnc"</span>],[<span class="hljs-string">"for"</span>,[<span class="hljs-string">"text/plain"</span>,<span class="hljs-string">"text/x-fortran"</span>]],[<span class="hljs-string">"fpx"</span>,[<span class="hljs-string">"image/vnd.fpx"</span>,<span class="hljs-string">"image/vnd.net-fpx"</span>]],[<span class="hljs-string">"frl"</span>,<span class="hljs-string">"application/freeloader"</span>],[<span class="hljs-string">"fsc"</span>,<span class="hljs-string">"application/vnd.fsc.weblaunch"</span>],[<span class="hljs-string">"fst"</span>,<span class="hljs-string">"image/vnd.fst"</span>],[<span class="hljs-string">"ftc"</span>,<span class="hljs-string">"application/vnd.fluxtime.clip"</span>],[<span class="hljs-string">"fti"</span>,<span class="hljs-string">"application/vnd.anser-web-funds-transfer-initiation"</span>],[<span class="hljs-string">"funk"</span>,<span class="hljs-string">"audio/make"</span>],[<span class="hljs-string">"fvt"</span>,<span class="hljs-string">"video/vnd.fvt"</span>],[<span class="hljs-string">"fxp"</span>,<span class="hljs-string">"application/vnd.adobe.fxp"</span>],[<span class="hljs-string">"fzs"</span>,<span class="hljs-string">"application/vnd.fuzzysheet"</span>],[<span class="hljs-string">"g"</span>,<span class="hljs-string">"text/plain"</span>],[<span class="hljs-string">"g2w"</span>,<span class="hljs-string">"application/vnd.geoplan"</span>],[<span class="hljs-string">"g3"</span>,<span class="hljs-string">"image/g3fax"</span>],[<span class="hljs-string">"g3w"</span>,<span class="hljs-string">"application/vnd.geospace"</span>],[<span class="hljs-string">"gac"</span>,<span class="hljs-string">"application/vnd.groove-account"</span>],[<span class="hljs-string">"gdl"</span>,<span class="hljs-string">"model/vnd.gdl"</span>],[<span class="hljs-string">"geo"</span>,<span class="hljs-string">"application/vnd.dynageo"</span>],[<span class="hljs-string">"geojson"</span>,<span class="hljs-string">"application/geo+json"</span>],[<span class="hljs-string">"gex"</span>,<span class="hljs-string">"application/vnd.geometry-explorer"</span>],[<span class="hljs-string">"ggb"</span>,<span class="hljs-string">"application/vnd.geogebra.file"</span>],[<span class="hljs-string">"ggt"</span>,<span class="hljs-string">"application/vnd.geogebra.tool"</span>],[<span class="hljs-string">"ghf"</span>,<span class="hljs-string">"application/vnd.groove-help"</span>],[<span class="hljs-string">"gif"</span>,<span class="hljs-string">"image/gif"</span>],[<span class="hljs-string">"gim"</span>,<span class="hljs-string">"application/vnd.groove-identity-message"</span>],[<span class="hljs-string">"gl"</span>,[<span class="hljs-string">"video/gl"</span>,<span class="hljs-string">"video/x-gl"</span>]],[<span class="hljs-string">"gmx"</span>,<span class="hljs-string">"application/vnd.gmx"</span>],[<span class="hljs-string">"gnumeric"</span>,<span class="hljs-string">"application/x-gnumeric"</span>],[<span class="hljs-string">"gph"</span>,<span class="hljs-string">"application/vnd.flographit"</span>],[<span class="hljs-string">"gqf"</span>,<span class="hljs-string">"application/vnd.grafeq"</span>],[<span class="hljs-string">"gram"</span>,<span class="hljs-string">"application/srgs"</span>],[<span class="hljs-string">"grv"</span>,<span class="hljs-string">"application/vnd.groove-injector"</span>],[<span class="hljs-string">"grxml"</span>,<span class="hljs-string">"application/srgs+xml"</span>],[<span class="hljs-string">"gsd"</span>,<span class="hljs-string">"audio/x-gsm"</span>],[<span class="hljs-string">"gsf"</span>,<span class="hljs-string">"application/x-font-ghostscript"</span>],[<span class="hljs-string">"gsm"</span>,<span class="hljs-string">"audio/x-gsm"</span>],[<span class="hljs-string">"gsp"</span>,<span class="hljs-string">"application/x-gsp"</span>],[<span class="hljs-string">"gss"</span>,<span class="hljs-string">"application/x-gss"</span>],[<span class="hljs-string">"gtar"</span>,<span class="hljs-string">"application/x-gtar"</span>],[<span class="hljs-string">"gtm"</span>,<span class="hljs-string">"application/vnd.groove-tool-message"</span>],[<span class="hljs-string">"gtw"</span>,<span class="hljs-string">"model/vnd.gtw"</span>],[<span class="hljs-string">"gv"</span>,<span class="hljs-string">"text/vnd.graphviz"</span>],[<span class="hljs-string">"gxt"</span>,<span class="hljs-string">"application/vnd.geonext"</span>],[<span class="hljs-string">"gz"</span>,[<span class="hljs-string">"application/x-gzip"</span>,<span class="hljs-string">"application/x-compressed"</span>]],[<span class="hljs-string">"gzip"</span>,[<span class="hljs-string">"multipart/x-gzip"</span>,<span class="hljs-string">"application/x-gzip"</span>]],[<span class="hljs-string">"h"</span>,[<span class="hljs-string">"text/plain"</span>,<span class="hljs-string">"text/x-h"</span>]],[<span class="hljs-string">"h261"</span>,<span class="hljs-string">"video/h261"</span>],[<span class="hljs-string">"h263"</span>,<span class="hljs-string">"video/h263"</span>],[<span class="hljs-string">"h264"</span>,<span class="hljs-string">"video/h264"</span>],[<span class="hljs-string">"hal"</span>,<span class="hljs-string">"application/vnd.hal+xml"</span>],[<span class="hljs-string">"hbci"</span>,<span class="hljs-string">"application/vnd.hbci"</span>],[<span class="hljs-string">"hdf"</span>,<span class="hljs-string">"application/x-hdf"</span>],[<span class="hljs-string">"help"</span>,<span class="hljs-string">"application/x-helpfile"</span>],[<span class="hljs-string">"hgl"</span>,<span class="hljs-string">"application/vnd.hp-hpgl"</span>],[<span class="hljs-string">"hh"</span>,[<span class="hljs-string">"text/plain"</span>,<span class="hljs-string">"text/x-h"</span>]],[<span class="hljs-string">"hlb"</span>,<span class="hljs-string">"text/x-script"</span>],[<span class="hljs-string">"hlp"</span>,[<span class="hljs-string">"application/winhlp"</span>,<span class="hljs-string">"application/hlp"</span>,<span class="hljs-string">"application/x-helpfile"</span>,<span class="hljs-string">"application/x-winhelp"</span>]],[<span class="hljs-string">"hpg"</span>,<span class="hljs-string">"application/vnd.hp-hpgl"</span>],[<span class="hljs-string">"hpgl"</span>,<span class="hljs-string">"application/vnd.hp-hpgl"</span>],[<span class="hljs-string">"hpid"</span>,<span class="hljs-string">"application/vnd.hp-hpid"</span>],[<span class="hljs-string">"hps"</span>,<span class="hljs-string">"application/vnd.hp-hps"</span>],[<span class="hljs-string">"hqx"</span>,[<span class="hljs-string">"application/mac-binhex40"</span>,<span class="hljs-string">"application/binhex"</span>,<span class="hljs-string">"application/binhex4"</span>,<span class="hljs-string">"application/mac-binhex"</span>,<span class="hljs-string">"application/x-binhex40"</span>,<span class="hljs-string">"application/x-mac-binhex40"</span>]],[<span class="hljs-string">"hta"</span>,<span class="hljs-string">"application/hta"</span>],[<span class="hljs-string">"htc"</span>,<span class="hljs-string">"text/x-component"</span>],[<span class="hljs-string">"htke"</span>,<span class="hljs-string">"application/vnd.kenameaapp"</span>],[<span class="hljs-string">"htm"</span>,<span class="hljs-string">"text/html"</span>],[<span class="hljs-string">"html"</span>,<span class="hljs-string">"text/html"</span>],[<span class="hljs-string">"htmls"</span>,<span class="hljs-string">"text/html"</span>],[<span class="hljs-string">"htt"</span>,<span class="hljs-string">"text/webviewhtml"</span>],[<span class="hljs-string">"htx"</span>,<span class="hljs-string">"text/html"</span>],[<span class="hljs-string">"hvd"</span>,<span class="hljs-string">"application/vnd.yamaha.hv-dic"</span>],[<span class="hljs-string">"hvp"</span>,<span class="hljs-string">"application/vnd.yamaha.hv-voice"</span>],[<span class="hljs-string">"hvs"</span>,<span class="hljs-string">"application/vnd.yamaha.hv-script"</span>],[<span class="hljs-string">"i2g"</span>,<span class="hljs-string">"application/vnd.intergeo"</span>],[<span class="hljs-string">"icc"</span>,<span class="hljs-string">"application/vnd.iccprofile"</span>],[<span class="hljs-string">"ice"</span>,<span class="hljs-string">"x-conference/x-cooltalk"</span>],[<span class="hljs-string">"ico"</span>,<span class="hljs-string">"image/x-icon"</span>],[<span class="hljs-string">"ics"</span>,<span class="hljs-string">"text/calendar"</span>],[<span class="hljs-string">"idc"</span>,<span class="hljs-string">"text/plain"</span>],[<span class="hljs-string">"ief"</span>,<span class="hljs-string">"image/ief"</span>],[<span class="hljs-string">"iefs"</span>,<span class="hljs-string">"image/ief"</span>],[<span class="hljs-string">"ifm"</span>,<span class="hljs-string">"application/vnd.shana.informed.formdata"</span>],[<span class="hljs-string">"iges"</span>,[<span class="hljs-string">"application/iges"</span>,<span class="hljs-string">"model/iges"</span>]],[<span class="hljs-string">"igl"</span>,<span class="hljs-string">"application/vnd.igloader"</span>],[<span class="hljs-string">"igm"</span>,<span class="hljs-string">"application/vnd.insors.igm"</span>],[<span class="hljs-string">"igs"</span>,[<span class="hljs-string">"application/iges"</span>,<span class="hljs-string">"model/iges"</span>]],[<span class="hljs-string">"igx"</span>,<span class="hljs-string">"application/vnd.micrografx.igx"</span>],[<span class="hljs-string">"iif"</span>,<span class="hljs-string">"application/vnd.shana.informed.interchange"</span>],[<span class="hljs-string">"iii"</span>,<span class="hljs-string">"application/x-iphone"</span>],[<span class="hljs-string">"ima"</span>,<span class="hljs-string">"application/x-ima"</span>],[<span class="hljs-string">"imap"</span>,<span class="hljs-string">"application/x-httpd-imap"</span>],[<span class="hljs-string">"imp"</span>,<span class="hljs-string">"application/vnd.accpac.simply.imp"</span>],[<span class="hljs-string">"ims"</span>,<span class="hljs-string">"application/vnd.ms-ims"</span>],[<span class="hljs-string">"inf"</span>,<span class="hljs-string">"application/inf"</span>],[<span class="hljs-string">"ins"</span>,[<span class="hljs-string">"application/x-internet-signup"</span>,<span class="hljs-string">"application/x-internett-signup"</span>]],[<span class="hljs-string">"ip"</span>,<span class="hljs-string">"application/x-ip2"</span>],[<span class="hljs-string">"ipfix"</span>,<span class="hljs-string">"application/ipfix"</span>],[<span class="hljs-string">"ipk"</span>,<span class="hljs-string">"application/vnd.shana.informed.package"</span>],[<span class="hljs-string">"irm"</span>,<span class="hljs-string">"application/vnd.ibm.rights-management"</span>],[<span class="hljs-string">"irp"</span>,<span class="hljs-string">"application/vnd.irepository.package+xml"</span>],[<span class="hljs-string">"isp"</span>,<span class="hljs-string">"application/x-internet-signup"</span>],[<span class="hljs-string">"isu"</span>,<span class="hljs-string">"video/x-isvideo"</span>],[<span class="hljs-string">"it"</span>,<span class="hljs-string">"audio/it"</span>],[<span class="hljs-string">"itp"</span>,<span class="hljs-string">"application/vnd.shana.informed.formtemplate"</span>],[<span class="hljs-string">"iv"</span>,<span class="hljs-string">"application/x-inventor"</span>],[<span class="hljs-string">"ivp"</span>,<span class="hljs-string">"application/vnd.immervision-ivp"</span>],[<span class="hljs-string">"ivr"</span>,<span class="hljs-string">"i-world/i-vrml"</span>],[<span class="hljs-string">"ivu"</span>,<span class="hljs-string">"application/vnd.immervision-ivu"</span>],[<span class="hljs-string">"ivy"</span>,<span class="hljs-string">"application/x-livescreen"</span>],[<span class="hljs-string">"jad"</span>,<span class="hljs-string">"text/vnd.sun.j2me.app-descriptor"</span>],[<span class="hljs-string">"jam"</span>,[<span class="hljs-string">"application/vnd.jam"</span>,<span class="hljs-string">"audio/x-jam"</span>]],[<span class="hljs-string">"jar"</span>,<span class="hljs-string">"application/java-archive"</span>],[<span class="hljs-string">"jav"</span>,[<span class="hljs-string">"text/plain"</span>,<span class="hljs-string">"text/x-java-source"</span>]],[<span class="hljs-string">"java"</span>,[<span class="hljs-string">"text/plain"</span>,<span class="hljs-string">"text/x-java-source,java"</span>,<span class="hljs-string">"text/x-java-source"</span>]],[<span class="hljs-string">"jcm"</span>,<span class="hljs-string">"application/x-java-commerce"</span>],[<span class="hljs-string">"jfif"</span>,[<span class="hljs-string">"image/pipeg"</span>,<span class="hljs-string">"image/jpeg"</span>,<span class="hljs-string">"image/pjpeg"</span>]],[<span class="hljs-string">"jfif-tbnl"</span>,<span class="hljs-string">"image/jpeg"</span>],[<span class="hljs-string">"jisp"</span>,<span class="hljs-string">"application/vnd.jisp"</span>],[<span class="hljs-string">"jlt"</span>,<span class="hljs-string">"application/vnd.hp-jlyt"</span>],[<span class="hljs-string">"jnlp"</span>,<span class="hljs-string">"application/x-java-jnlp-file"</span>],[<span class="hljs-string">"joda"</span>,<span class="hljs-string">"application/vnd.joost.joda-archive"</span>],[<span class="hljs-string">"jpe"</span>,[<span class="hljs-string">"image/jpeg"</span>,<span class="hljs-string">"image/pjpeg"</span>]],[<span class="hljs-string">"jpeg"</span>,[<span class="hljs-string">"image/jpeg"</span>,<span class="hljs-string">"image/pjpeg"</span>]],[<span class="hljs-string">"jpg"</span>,[<span class="hljs-string">"image/jpeg"</span>,<span class="hljs-string">"image/pjpeg"</span>]],[<span class="hljs-string">"jpgv"</span>,<span class="hljs-string">"video/jpeg"</span>],[<span class="hljs-string">"jpm"</span>,<span class="hljs-string">"video/jpm"</span>],[<span class="hljs-string">"jps"</span>,<span class="hljs-string">"image/x-jps"</span>],[<span class="hljs-string">"js"</span>,[<span class="hljs-string">"application/javascript"</span>,<span class="hljs-string">"application/ecmascript"</span>,<span class="hljs-string">"text/javascript"</span>,<span class="hljs-string">"text/ecmascript"</span>,<span class="hljs-string">"application/x-javascript"</span>]],[<span class="hljs-string">"json"</span>,<span class="hljs-string">"application/json"</span>],[<span class="hljs-string">"jut"</span>,<span class="hljs-string">"image/jutvision"</span>],[<span class="hljs-string">"kar"</span>,[<span class="hljs-string">"audio/midi"</span>,<span class="hljs-string">"music/x-karaoke"</span>]],[<span class="hljs-string">"karbon"</span>,<span class="hljs-string">"application/vnd.kde.karbon"</span>],[<span class="hljs-string">"kfo"</span>,<span class="hljs-string">"application/vnd.kde.kformula"</span>],[<span class="hljs-string">"kia"</span>,<span class="hljs-string">"application/vnd.kidspiration"</span>],[<span class="hljs-string">"kml"</span>,<span class="hljs-string">"application/vnd.google-earth.kml+xml"</span>],[<span class="hljs-string">"kmz"</span>,<span class="hljs-string">"application/vnd.google-earth.kmz"</span>],[<span class="hljs-string">"kne"</span>,<span class="hljs-string">"application/vnd.kinar"</span>],[<span class="hljs-string">"kon"</span>,<span class="hljs-string">"application/vnd.kde.kontour"</span>],[<span class="hljs-string">"kpr"</span>,<span class="hljs-string">"application/vnd.kde.kpresenter"</span>],[<span class="hljs-string">"ksh"</span>,[<span class="hljs-string">"application/x-ksh"</span>,<span class="hljs-string">"text/x-script.ksh"</span>]],[<span class="hljs-string">"ksp"</span>,<span class="hljs-string">"application/vnd.kde.kspread"</span>],[<span class="hljs-string">"ktx"</span>,<span class="hljs-string">"image/ktx"</span>],[<span class="hljs-string">"ktz"</span>,<span class="hljs-string">"application/vnd.kahootz"</span>],[<span class="hljs-string">"kwd"</span>,<span class="hljs-string">"application/vnd.kde.kword"</span>],[<span class="hljs-string">"la"</span>,[<span class="hljs-string">"audio/nspaudio"</span>,<span class="hljs-string">"audio/x-nspaudio"</span>]],[<span class="hljs-string">"lam"</span>,<span class="hljs-string">"audio/x-liveaudio"</span>],[<span class="hljs-string">"lasxml"</span>,<span class="hljs-string">"application/vnd.las.las+xml"</span>],[<span class="hljs-string">"latex"</span>,<span class="hljs-string">"application/x-latex"</span>],[<span class="hljs-string">"lbd"</span>,<span class="hljs-string">"application/vnd.llamagraphics.life-balance.desktop"</span>],[<span class="hljs-string">"lbe"</span>,<span class="hljs-string">"application/vnd.llamagraphics.life-balance.exchange+xml"</span>],[<span class="hljs-string">"les"</span>,<span class="hljs-string">"application/vnd.hhe.lesson-player"</span>],[<span class="hljs-string">"lha"</span>,[<span class="hljs-string">"application/octet-stream"</span>,<span class="hljs-string">"application/lha"</span>,<span class="hljs-string">"application/x-lha"</span>]],[<span class="hljs-string">"lhx"</span>,<span class="hljs-string">"application/octet-stream"</span>],[<span class="hljs-string">"link66"</span>,<span class="hljs-string">"application/vnd.route66.link66+xml"</span>],[<span class="hljs-string">"list"</span>,<span class="hljs-string">"text/plain"</span>],[<span class="hljs-string">"lma"</span>,[<span class="hljs-string">"audio/nspaudio"</span>,<span class="hljs-string">"audio/x-nspaudio"</span>]],[<span class="hljs-string">"log"</span>,<span class="hljs-string">"text/plain"</span>],[<span class="hljs-string">"lrm"</span>,<span class="hljs-string">"application/vnd.ms-lrm"</span>],[<span class="hljs-string">"lsf"</span>,<span class="hljs-string">"video/x-la-asf"</span>],[<span class="hljs-string">"lsp"</span>,[<span class="hljs-string">"application/x-lisp"</span>,<span class="hljs-string">"text/x-script.lisp"</span>]],[<span class="hljs-string">"lst"</span>,<span class="hljs-string">"text/plain"</span>],[<span class="hljs-string">"lsx"</span>,[<span class="hljs-string">"video/x-la-asf"</span>,<span class="hljs-string">"text/x-la-asf"</span>]],[<span class="hljs-string">"ltf"</span>,<span class="hljs-string">"application/vnd.frogans.ltf"</span>],[<span class="hljs-string">"ltx"</span>,<span class="hljs-string">"application/x-latex"</span>],[<span class="hljs-string">"lvp"</span>,<span class="hljs-string">"audio/vnd.lucent.voice"</span>],[<span class="hljs-string">"lwp"</span>,<span class="hljs-string">"application/vnd.lotus-wordpro"</span>],[<span class="hljs-string">"lzh"</span>,[<span class="hljs-string">"application/octet-stream"</span>,<span class="hljs-string">"application/x-lzh"</span>]],[<span class="hljs-string">"lzx"</span>,[<span class="hljs-string">"application/lzx"</span>,<span class="hljs-string">"application/octet-stream"</span>,<span class="hljs-string">"application/x-lzx"</span>]],[<span class="hljs-string">"m"</span>,[<span class="hljs-string">"text/plain"</span>,<span class="hljs-string">"text/x-m"</span>]],[<span class="hljs-string">"m13"</span>,<span class="hljs-string">"application/x-msmediaview"</span>],[<span class="hljs-string">"m14"</span>,<span class="hljs-string">"application/x-msmediaview"</span>],[<span class="hljs-string">"m1v"</span>,<span class="hljs-string">"video/mpeg"</span>],[<span class="hljs-string">"m21"</span>,<span class="hljs-string">"application/mp21"</span>],[<span class="hljs-string">"m2a"</span>,<span class="hljs-string">"audio/mpeg"</span>],[<span class="hljs-string">"m2v"</span>,<span class="hljs-string">"video/mpeg"</span>],[<span class="hljs-string">"m3u"</span>,[<span class="hljs-string">"audio/x-mpegurl"</span>,<span class="hljs-string">"audio/x-mpequrl"</span>]],[<span class="hljs-string">"m3u8"</span>,<span class="hljs-string">"application/vnd.apple.mpegurl"</span>],[<span class="hljs-string">"m4v"</span>,<span class="hljs-string">"video/x-m4v"</span>],[<span class="hljs-string">"ma"</span>,<span class="hljs-string">"application/mathematica"</span>],[<span class="hljs-string">"mads"</span>,<span class="hljs-string">"application/mads+xml"</span>],[<span class="hljs-string">"mag"</span>,<span class="hljs-string">"application/vnd.ecowin.chart"</span>],[<span class="hljs-string">"man"</span>,<span class="hljs-string">"application/x-troff-man"</span>],[<span class="hljs-string">"map"</span>,<span class="hljs-string">"application/x-navimap"</span>],[<span class="hljs-string">"mar"</span>,<span class="hljs-string">"text/plain"</span>],[<span class="hljs-string">"mathml"</span>,<span class="hljs-string">"application/mathml+xml"</span>],[<span class="hljs-string">"mbd"</span>,<span class="hljs-string">"application/mbedlet"</span>],[<span class="hljs-string">"mbk"</span>,<span class="hljs-string">"application/vnd.mobius.mbk"</span>],[<span class="hljs-string">"mbox"</span>,<span class="hljs-string">"application/mbox"</span>],[<span class="hljs-string">"mc$"</span>,<span class="hljs-string">"application/x-magic-cap-package-1.0"</span>],[<span class="hljs-string">"mc1"</span>,<span class="hljs-string">"application/vnd.medcalcdata"</span>],[<span class="hljs-string">"mcd"</span>,[<span class="hljs-string">"application/mcad"</span>,<span class="hljs-string">"application/vnd.mcd"</span>,<span class="hljs-string">"application/x-mathcad"</span>]],[<span class="hljs-string">"mcf"</span>,[<span class="hljs-string">"image/vasa"</span>,<span class="hljs-string">"text/mcf"</span>]],[<span class="hljs-string">"mcp"</span>,<span class="hljs-string">"application/netmc"</span>],[<span class="hljs-string">"mcurl"</span>,<span class="hljs-string">"text/vnd.curl.mcurl"</span>],[<span class="hljs-string">"mdb"</span>,<span class="hljs-string">"application/x-msaccess"</span>],[<span class="hljs-string">"mdi"</span>,<span class="hljs-string">"image/vnd.ms-modi"</span>],[<span class="hljs-string">"me"</span>,<span class="hljs-string">"application/x-troff-me"</span>],[<span class="hljs-string">"meta4"</span>,<span class="hljs-string">"application/metalink4+xml"</span>],[<span class="hljs-string">"mets"</span>,<span class="hljs-string">"application/mets+xml"</span>],[<span class="hljs-string">"mfm"</span>,<span class="hljs-string">"application/vnd.mfmp"</span>],[<span class="hljs-string">"mgp"</span>,<span class="hljs-string">"application/vnd.osgeo.mapguide.package"</span>],[<span class="hljs-string">"mgz"</span>,<span class="hljs-string">"application/vnd.proteus.magazine"</span>],[<span class="hljs-string">"mht"</span>,<span class="hljs-string">"message/rfc822"</span>],[<span class="hljs-string">"mhtml"</span>,<span class="hljs-string">"message/rfc822"</span>],[<span class="hljs-string">"mid"</span>,[<span class="hljs-string">"audio/mid"</span>,<span class="hljs-string">"audio/midi"</span>,<span class="hljs-string">"music/crescendo"</span>,<span class="hljs-string">"x-music/x-midi"</span>,<span class="hljs-string">"audio/x-midi"</span>,<span class="hljs-string">"application/x-midi"</span>,<span class="hljs-string">"audio/x-mid"</span>]],[<span class="hljs-string">"midi"</span>,[<span class="hljs-string">"audio/midi"</span>,<span class="hljs-string">"music/crescendo"</span>,<span class="hljs-string">"x-music/x-midi"</span>,<span class="hljs-string">"audio/x-midi"</span>,<span class="hljs-string">"application/x-midi"</span>,<span class="hljs-string">"audio/x-mid"</span>]],[<span class="hljs-string">"mif"</span>,[<span class="hljs-string">"application/vnd.mif"</span>,<span class="hljs-string">"application/x-mif"</span>,<span class="hljs-string">"application/x-frame"</span>]],[<span class="hljs-string">"mime"</span>,[<span class="hljs-string">"message/rfc822"</span>,<span class="hljs-string">"www/mime"</span>]],[<span class="hljs-string">"mj2"</span>,<span class="hljs-string">"video/mj2"</span>],[<span class="hljs-string">"mjf"</span>,<span class="hljs-string">"audio/x-vnd.audioexplosion.mjuicemediafile"</span>],[<span class="hljs-string">"mjpg"</span>,<span class="hljs-string">"video/x-motion-jpeg"</span>],[<span class="hljs-string">"mlp"</span>,<span class="hljs-string">"application/vnd.dolby.mlp"</span>],[<span class="hljs-string">"mm"</span>,[<span class="hljs-string">"application/base64"</span>,<span class="hljs-string">"application/x-meme"</span>]],[<span class="hljs-string">"mmd"</span>,<span class="hljs-string">"application/vnd.chipnuts.karaoke-mmd"</span>],[<span class="hljs-string">"mme"</span>,<span class="hljs-string">"application/base64"</span>],[<span class="hljs-string">"mmf"</span>,<span class="hljs-string">"application/vnd.smaf"</span>],[<span class="hljs-string">"mmr"</span>,<span class="hljs-string">"image/vnd.fujixerox.edmics-mmr"</span>],[<span class="hljs-string">"mny"</span>,<span class="hljs-string">"application/x-msmoney"</span>],[<span class="hljs-string">"mod"</span>,[<span class="hljs-string">"audio/mod"</span>,<span class="hljs-string">"audio/x-mod"</span>]],[<span class="hljs-string">"mods"</span>,<span class="hljs-string">"application/mods+xml"</span>],[<span class="hljs-string">"moov"</span>,<span class="hljs-string">"video/quicktime"</span>],[<span class="hljs-string">"mov"</span>,<span class="hljs-string">"video/quicktime"</span>],[<span class="hljs-string">"movie"</span>,<span class="hljs-string">"video/x-sgi-movie"</span>],[<span class="hljs-string">"mp2"</span>,[<span class="hljs-string">"video/mpeg"</span>,<span class="hljs-string">"audio/mpeg"</span>,<span class="hljs-string">"video/x-mpeg"</span>,<span class="hljs-string">"audio/x-mpeg"</span>,<span class="hljs-string">"video/x-mpeq2a"</span>]],[<span class="hljs-string">"mp3"</span>,[<span class="hljs-string">"audio/mpeg"</span>,<span class="hljs-string">"audio/mpeg3"</span>,<span class="hljs-string">"video/mpeg"</span>,<span class="hljs-string">"audio/x-mpeg-3"</span>,<span class="hljs-string">"video/x-mpeg"</span>]],[<span class="hljs-string">"mp4"</span>,[<span class="hljs-string">"video/mp4"</span>,<span class="hljs-string">"application/mp4"</span>]],[<span class="hljs-string">"mp4a"</span>,<span class="hljs-string">"audio/mp4"</span>],[<span class="hljs-string">"mpa"</span>,[<span class="hljs-string">"video/mpeg"</span>,<span class="hljs-string">"audio/mpeg"</span>]],[<span class="hljs-string">"mpc"</span>,[<span class="hljs-string">"application/vnd.mophun.certificate"</span>,<span class="hljs-string">"application/x-project"</span>]],[<span class="hljs-string">"mpe"</span>,<span class="hljs-string">"video/mpeg"</span>],[<span class="hljs-string">"mpeg"</span>,<span class="hljs-string">"video/mpeg"</span>],[<span class="hljs-string">"mpg"</span>,[<span class="hljs-string">"video/mpeg"</span>,<span class="hljs-string">"audio/mpeg"</span>]],[<span class="hljs-string">"mpga"</span>,<span class="hljs-string">"audio/mpeg"</span>],[<span class="hljs-string">"mpkg"</span>,<span class="hljs-string">"application/vnd.apple.installer+xml"</span>],[<span class="hljs-string">"mpm"</span>,<span class="hljs-string">"application/vnd.blueice.multipass"</span>],[<span class="hljs-string">"mpn"</span>,<span class="hljs-string">"application/vnd.mophun.application"</span>],[<span class="hljs-string">"mpp"</span>,<span class="hljs-string">"application/vnd.ms-project"</span>],[<span class="hljs-string">"mpt"</span>,<span class="hljs-string">"application/x-project"</span>],[<span class="hljs-string">"mpv"</span>,<span class="hljs-string">"application/x-project"</span>],[<span class="hljs-string">"mpv2"</span>,<span class="hljs-string">"video/mpeg"</span>],[<span class="hljs-string">"mpx"</span>,<span class="hljs-string">"application/x-project"</span>],[<span class="hljs-string">"mpy"</span>,<span class="hljs-string">"application/vnd.ibm.minipay"</span>],[<span class="hljs-string">"mqy"</span>,<span class="hljs-string">"application/vnd.mobius.mqy"</span>],[<span class="hljs-string">"mrc"</span>,<span class="hljs-string">"application/marc"</span>],[<span class="hljs-string">"mrcx"</span>,<span class="hljs-string">"application/marcxml+xml"</span>],[<span class="hljs-string">"ms"</span>,<span class="hljs-string">"application/x-troff-ms"</span>],[<span class="hljs-string">"mscml"</span>,<span class="hljs-string">"application/mediaservercontrol+xml"</span>],[<span class="hljs-string">"mseq"</span>,<span class="hljs-string">"application/vnd.mseq"</span>],[<span class="hljs-string">"msf"</span>,<span class="hljs-string">"application/vnd.epson.msf"</span>],[<span class="hljs-string">"msg"</span>,<span class="hljs-string">"application/vnd.ms-outlook"</span>],[<span class="hljs-string">"msh"</span>,<span class="hljs-string">"model/mesh"</span>],[<span class="hljs-string">"msl"</span>,<span class="hljs-string">"application/vnd.mobius.msl"</span>],[<span class="hljs-string">"msty"</span>,<span class="hljs-string">"application/vnd.muvee.style"</span>],[<span class="hljs-string">"mts"</span>,<span class="hljs-string">"model/vnd.mts"</span>],[<span class="hljs-string">"mus"</span>,<span class="hljs-string">"application/vnd.musician"</span>],[<span class="hljs-string">"musicxml"</span>,<span class="hljs-string">"application/vnd.recordare.musicxml+xml"</span>],[<span class="hljs-string">"mv"</span>,<span class="hljs-string">"video/x-sgi-movie"</span>],[<span class="hljs-string">"mvb"</span>,<span class="hljs-string">"application/x-msmediaview"</span>],[<span class="hljs-string">"mwf"</span>,<span class="hljs-string">"application/vnd.mfer"</span>],[<span class="hljs-string">"mxf"</span>,<span class="hljs-string">"application/mxf"</span>],[<span class="hljs-string">"mxl"</span>,<span class="hljs-string">"application/vnd.recordare.musicxml"</span>],[<span class="hljs-string">"mxml"</span>,<span class="hljs-string">"application/xv+xml"</span>],[<span class="hljs-string">"mxs"</span>,<span class="hljs-string">"application/vnd.triscape.mxs"</span>],[<span class="hljs-string">"mxu"</span>,<span class="hljs-string">"video/vnd.mpegurl"</span>],[<span class="hljs-string">"my"</span>,<span class="hljs-string">"audio/make"</span>],[<span class="hljs-string">"mzz"</span>,<span class="hljs-string">"application/x-vnd.audioexplosion.mzz"</span>],[<span class="hljs-string">"n-gage"</span>,<span class="hljs-string">"application/vnd.nokia.n-gage.symbian.install"</span>],[<span class="hljs-string">"n3"</span>,<span class="hljs-string">"text/n3"</span>],[<span class="hljs-string">"nap"</span>,<span class="hljs-string">"image/naplps"</span>],[<span class="hljs-string">"naplps"</span>,<span class="hljs-string">"image/naplps"</span>],[<span class="hljs-string">"nbp"</span>,<span class="hljs-string">"application/vnd.wolfram.player"</span>],[<span class="hljs-string">"nc"</span>,<span class="hljs-string">"application/x-netcdf"</span>],[<span class="hljs-string">"ncm"</span>,<span class="hljs-string">"application/vnd.nokia.configuration-message"</span>],[<span class="hljs-string">"ncx"</span>,<span class="hljs-string">"application/x-dtbncx+xml"</span>],[<span class="hljs-string">"ngdat"</span>,<span class="hljs-string">"application/vnd.nokia.n-gage.data"</span>],[<span class="hljs-string">"nif"</span>,<span class="hljs-string">"image/x-niff"</span>],[<span class="hljs-string">"niff"</span>,<span class="hljs-string">"image/x-niff"</span>],[<span class="hljs-string">"nix"</span>,<span class="hljs-string">"application/x-mix-transfer"</span>],[<span class="hljs-string">"nlu"</span>,<span class="hljs-string">"application/vnd.neurolanguage.nlu"</span>],[<span class="hljs-string">"nml"</span>,<span class="hljs-string">"application/vnd.enliven"</span>],[<span class="hljs-string">"nnd"</span>,<span class="hljs-string">"application/vnd.noblenet-directory"</span>],[<span class="hljs-string">"nns"</span>,<span class="hljs-string">"application/vnd.noblenet-sealer"</span>],[<span class="hljs-string">"nnw"</span>,<span class="hljs-string">"application/vnd.noblenet-web"</span>],[<span class="hljs-string">"npx"</span>,<span class="hljs-string">"image/vnd.net-fpx"</span>],[<span class="hljs-string">"nsc"</span>,<span class="hljs-string">"application/x-conference"</span>],[<span class="hljs-string">"nsf"</span>,<span class="hljs-string">"application/vnd.lotus-notes"</span>],[<span class="hljs-string">"nvd"</span>,<span class="hljs-string">"application/x-navidoc"</span>],[<span class="hljs-string">"nws"</span>,<span class="hljs-string">"message/rfc822"</span>],[<span class="hljs-string">"o"</span>,<span class="hljs-string">"application/octet-stream"</span>],[<span class="hljs-string">"oa2"</span>,<span class="hljs-string">"application/vnd.fujitsu.oasys2"</span>],[<span class="hljs-string">"oa3"</span>,<span class="hljs-string">"application/vnd.fujitsu.oasys3"</span>],[<span class="hljs-string">"oas"</span>,<span class="hljs-string">"application/vnd.fujitsu.oasys"</span>],[<span class="hljs-string">"obd"</span>,<span class="hljs-string">"application/x-msbinder"</span>],[<span class="hljs-string">"oda"</span>,<span class="hljs-string">"application/oda"</span>],[<span class="hljs-string">"odb"</span>,<span class="hljs-string">"application/vnd.oasis.opendocument.database"</span>],[<span class="hljs-string">"odc"</span>,<span class="hljs-string">"application/vnd.oasis.opendocument.chart"</span>],[<span class="hljs-string">"odf"</span>,<span class="hljs-string">"application/vnd.oasis.opendocument.formula"</span>],[<span class="hljs-string">"odft"</span>,<span class="hljs-string">"application/vnd.oasis.opendocument.formula-template"</span>],[<span class="hljs-string">"odg"</span>,<span class="hljs-string">"application/vnd.oasis.opendocument.graphics"</span>],[<span class="hljs-string">"odi"</span>,<span class="hljs-string">"application/vnd.oasis.opendocument.image"</span>],[<span class="hljs-string">"odm"</span>,<span class="hljs-string">"application/vnd.oasis.opendocument.text-master"</span>],[<span class="hljs-string">"odp"</span>,<span class="hljs-string">"application/vnd.oasis.opendocument.presentation"</span>],[<span class="hljs-string">"ods"</span>,<span class="hljs-string">"application/vnd.oasis.opendocument.spreadsheet"</span>],[<span class="hljs-string">"odt"</span>,<span class="hljs-string">"application/vnd.oasis.opendocument.text"</span>],[<span class="hljs-string">"oga"</span>,<span class="hljs-string">"audio/ogg"</span>],[<span class="hljs-string">"ogv"</span>,<span class="hljs-string">"video/ogg"</span>],[<span class="hljs-string">"ogx"</span>,<span class="hljs-string">"application/ogg"</span>],[<span class="hljs-string">"omc"</span>,<span class="hljs-string">"application/x-omc"</span>],[<span class="hljs-string">"omcd"</span>,<span class="hljs-string">"application/x-omcdatamaker"</span>],[<span class="hljs-string">"omcr"</span>,<span class="hljs-string">"application/x-omcregerator"</span>],[<span class="hljs-string">"onetoc"</span>,<span class="hljs-string">"application/onenote"</span>],[<span class="hljs-string">"opf"</span>,<span class="hljs-string">"application/oebps-package+xml"</span>],[<span class="hljs-string">"org"</span>,<span class="hljs-string">"application/vnd.lotus-organizer"</span>],[<span class="hljs-string">"osf"</span>,<span class="hljs-string">"application/vnd.yamaha.openscoreformat"</span>],[<span class="hljs-string">"osfpvg"</span>,<span class="hljs-string">"application/vnd.yamaha.openscoreformat.osfpvg+xml"</span>],[<span class="hljs-string">"otc"</span>,<span class="hljs-string">"application/vnd.oasis.opendocument.chart-template"</span>],[<span class="hljs-string">"otf"</span>,<span class="hljs-string">"application/x-font-otf"</span>],[<span class="hljs-string">"otg"</span>,<span class="hljs-string">"application/vnd.oasis.opendocument.graphics-template"</span>],[<span class="hljs-string">"oth"</span>,<span class="hljs-string">"application/vnd.oasis.opendocument.text-web"</span>],[<span class="hljs-string">"oti"</span>,<span class="hljs-string">"application/vnd.oasis.opendocument.image-template"</span>],[<span class="hljs-string">"otp"</span>,<span class="hljs-string">"application/vnd.oasis.opendocument.presentation-template"</span>],[<span class="hljs-string">"ots"</span>,<span class="hljs-string">"application/vnd.oasis.opendocument.spreadsheet-template"</span>],[<span class="hljs-string">"ott"</span>,<span class="hljs-string">"application/vnd.oasis.opendocument.text-template"</span>],[<span class="hljs-string">"oxt"</span>,<span class="hljs-string">"application/vnd.openofficeorg.extension"</span>],[<span class="hljs-string">"p"</span>,<span class="hljs-string">"text/x-pascal"</span>],[<span class="hljs-string">"p10"</span>,[<span class="hljs-string">"application/pkcs10"</span>,<span class="hljs-string">"application/x-pkcs10"</span>]],[<span class="hljs-string">"p12"</span>,[<span class="hljs-string">"application/pkcs-12"</span>,<span class="hljs-string">"application/x-pkcs12"</span>]],[<span class="hljs-string">"p7a"</span>,<span class="hljs-string">"application/x-pkcs7-signature"</span>],[<span class="hljs-string">"p7b"</span>,<span class="hljs-string">"application/x-pkcs7-certificates"</span>],[<span class="hljs-string">"p7c"</span>,[<span class="hljs-string">"application/pkcs7-mime"</span>,<span class="hljs-string">"application/x-pkcs7-mime"</span>]],[<span class="hljs-string">"p7m"</span>,[<span class="hljs-string">"application/pkcs7-mime"</span>,<span class="hljs-string">"application/x-pkcs7-mime"</span>]],[<span class="hljs-string">"p7r"</span>,<span class="hljs-string">"application/x-pkcs7-certreqresp"</span>],[<span class="hljs-string">"p7s"</span>,[<span class="hljs-string">"application/pkcs7-signature"</span>,<span class="hljs-string">"application/x-pkcs7-signature"</span>]],[<span class="hljs-string">"p8"</span>,<span class="hljs-string">"application/pkcs8"</span>],[<span class="hljs-string">"par"</span>,<span class="hljs-string">"text/plain-bas"</span>],[<span class="hljs-string">"part"</span>,<span class="hljs-string">"application/pro_eng"</span>],[<span class="hljs-string">"pas"</span>,<span class="hljs-string">"text/pascal"</span>],[<span class="hljs-string">"paw"</span>,<span class="hljs-string">"application/vnd.pawaafile"</span>],[<span class="hljs-string">"pbd"</span>,<span class="hljs-string">"application/vnd.powerbuilder6"</span>],[<span class="hljs-string">"pbm"</span>,<span class="hljs-string">"image/x-portable-bitmap"</span>],[<span class="hljs-string">"pcf"</span>,<span class="hljs-string">"application/x-font-pcf"</span>],[<span class="hljs-string">"pcl"</span>,[<span class="hljs-string">"application/vnd.hp-pcl"</span>,<span class="hljs-string">"application/x-pcl"</span>]],[<span class="hljs-string">"pclxl"</span>,<span class="hljs-string">"application/vnd.hp-pclxl"</span>],[<span class="hljs-string">"pct"</span>,<span class="hljs-string">"image/x-pict"</span>],[<span class="hljs-string">"pcurl"</span>,<span class="hljs-string">"application/vnd.curl.pcurl"</span>],[<span class="hljs-string">"pcx"</span>,<span class="hljs-string">"image/x-pcx"</span>],[<span class="hljs-string">"pdb"</span>,[<span class="hljs-string">"application/vnd.palm"</span>,<span class="hljs-string">"chemical/x-pdb"</span>]],[<span class="hljs-string">"pdf"</span>,<span class="hljs-string">"application/pdf"</span>],[<span class="hljs-string">"pfa"</span>,<span class="hljs-string">"application/x-font-type1"</span>],[<span class="hljs-string">"pfr"</span>,<span class="hljs-string">"application/font-tdpfr"</span>],[<span class="hljs-string">"pfunk"</span>,[<span class="hljs-string">"audio/make"</span>,<span class="hljs-string">"audio/make.my.funk"</span>]],[<span class="hljs-string">"pfx"</span>,<span class="hljs-string">"application/x-pkcs12"</span>],[<span class="hljs-string">"pgm"</span>,[<span class="hljs-string">"image/x-portable-graymap"</span>,<span class="hljs-string">"image/x-portable-greymap"</span>]],[<span class="hljs-string">"pgn"</span>,<span class="hljs-string">"application/x-chess-pgn"</span>],[<span class="hljs-string">"pgp"</span>,<span class="hljs-string">"application/pgp-signature"</span>],[<span class="hljs-string">"pic"</span>,[<span class="hljs-string">"image/pict"</span>,<span class="hljs-string">"image/x-pict"</span>]],[<span class="hljs-string">"pict"</span>,<span class="hljs-string">"image/pict"</span>],[<span class="hljs-string">"pkg"</span>,<span class="hljs-string">"application/x-newton-compatible-pkg"</span>],[<span class="hljs-string">"pki"</span>,<span class="hljs-string">"application/pkixcmp"</span>],[<span class="hljs-string">"pkipath"</span>,<span class="hljs-string">"application/pkix-pkipath"</span>],[<span class="hljs-string">"pko"</span>,[<span class="hljs-string">"application/ynd.ms-pkipko"</span>,<span class="hljs-string">"application/vnd.ms-pki.pko"</span>]],[<span class="hljs-string">"pl"</span>,[<span class="hljs-string">"text/plain"</span>,<span class="hljs-string">"text/x-script.perl"</span>]],[<span class="hljs-string">"plb"</span>,<span class="hljs-string">"application/vnd.3gpp.pic-bw-large"</span>],[<span class="hljs-string">"plc"</span>,<span class="hljs-string">"application/vnd.mobius.plc"</span>],[<span class="hljs-string">"plf"</span>,<span class="hljs-string">"application/vnd.pocketlearn"</span>],[<span class="hljs-string">"pls"</span>,<span class="hljs-string">"application/pls+xml"</span>],[<span class="hljs-string">"plx"</span>,<span class="hljs-string">"application/x-pixclscript"</span>],[<span class="hljs-string">"pm"</span>,[<span class="hljs-string">"text/x-script.perl-module"</span>,<span class="hljs-string">"image/x-xpixmap"</span>]],[<span class="hljs-string">"pm4"</span>,<span class="hljs-string">"application/x-pagemaker"</span>],[<span class="hljs-string">"pm5"</span>,<span class="hljs-string">"application/x-pagemaker"</span>],[<span class="hljs-string">"pma"</span>,<span class="hljs-string">"application/x-perfmon"</span>],[<span class="hljs-string">"pmc"</span>,<span class="hljs-string">"application/x-perfmon"</span>],[<span class="hljs-string">"pml"</span>,[<span class="hljs-string">"application/vnd.ctc-posml"</span>,<span class="hljs-string">"application/x-perfmon"</span>]],[<span class="hljs-string">"pmr"</span>,<span class="hljs-string">"application/x-perfmon"</span>],[<span class="hljs-string">"pmw"</span>,<span class="hljs-string">"application/x-perfmon"</span>],[<span class="hljs-string">"png"</span>,<span class="hljs-string">"image/png"</span>],[<span class="hljs-string">"pnm"</span>,[<span class="hljs-string">"application/x-portable-anymap"</span>,<span class="hljs-string">"image/x-portable-anymap"</span>]],[<span class="hljs-string">"portpkg"</span>,<span class="hljs-string">"application/vnd.macports.portpkg"</span>],[<span class="hljs-string">"pot"</span>,[<span class="hljs-string">"application/vnd.ms-powerpoint"</span>,<span class="hljs-string">"application/mspowerpoint"</span>]],[<span class="hljs-string">"potm"</span>,<span class="hljs-string">"application/vnd.ms-powerpoint.template.macroenabled.12"</span>],[<span class="hljs-string">"potx"</span>,<span class="hljs-string">"application/vnd.openxmlformats-officedocument.presentationml.template"</span>],[<span class="hljs-string">"pov"</span>,<span class="hljs-string">"model/x-pov"</span>],[<span class="hljs-string">"ppa"</span>,<span class="hljs-string">"application/vnd.ms-powerpoint"</span>],[<span class="hljs-string">"ppam"</span>,<span class="hljs-string">"application/vnd.ms-powerpoint.addin.macroenabled.12"</span>],[<span class="hljs-string">"ppd"</span>,<span class="hljs-string">"application/vnd.cups-ppd"</span>],[<span class="hljs-string">"ppm"</span>,<span class="hljs-string">"image/x-portable-pixmap"</span>],[<span class="hljs-string">"pps"</span>,[<span class="hljs-string">"application/vnd.ms-powerpoint"</span>,<span class="hljs-string">"application/mspowerpoint"</span>]],[<span class="hljs-string">"ppsm"</span>,<span class="hljs-string">"application/vnd.ms-powerpoint.slideshow.macroenabled.12"</span>],[<span class="hljs-string">"ppsx"</span>,<span class="hljs-string">"application/vnd.openxmlformats-officedocument.presentationml.slideshow"</span>],[<span class="hljs-string">"ppt"</span>,[<span class="hljs-string">"application/vnd.ms-powerpoint"</span>,<span class="hljs-string">"application/mspowerpoint"</span>,<span class="hljs-string">"application/powerpoint"</span>,<span class="hljs-string">"application/x-mspowerpoint"</span>]],[<span class="hljs-string">"pptm"</span>,<span class="hljs-string">"application/vnd.ms-powerpoint.presentation.macroenabled.12"</span>],[<span class="hljs-string">"pptx"</span>,<span class="hljs-string">"application/vnd.openxmlformats-officedocument.presentationml.presentation"</span>],[<span class="hljs-string">"ppz"</span>,<span class="hljs-string">"application/mspowerpoint"</span>],[<span class="hljs-string">"prc"</span>,<span class="hljs-string">"application/x-mobipocket-ebook"</span>],[<span class="hljs-string">"pre"</span>,[<span class="hljs-string">"application/vnd.lotus-freelance"</span>,<span class="hljs-string">"application/x-freelance"</span>]],[<span class="hljs-string">"prf"</span>,<span class="hljs-string">"application/pics-rules"</span>],[<span class="hljs-string">"prt"</span>,<span class="hljs-string">"application/pro_eng"</span>],[<span class="hljs-string">"ps"</span>,<span class="hljs-string">"application/postscript"</span>],[<span class="hljs-string">"psb"</span>,<span class="hljs-string">"application/vnd.3gpp.pic-bw-small"</span>],[<span class="hljs-string">"psd"</span>,[<span class="hljs-string">"application/octet-stream"</span>,<span class="hljs-string">"image/vnd.adobe.photoshop"</span>]],[<span class="hljs-string">"psf"</span>,<span class="hljs-string">"application/x-font-linux-psf"</span>],[<span class="hljs-string">"pskcxml"</span>,<span class="hljs-string">"application/pskc+xml"</span>],[<span class="hljs-string">"ptid"</span>,<span class="hljs-string">"application/vnd.pvi.ptid1"</span>],[<span class="hljs-string">"pub"</span>,<span class="hljs-string">"application/x-mspublisher"</span>],[<span class="hljs-string">"pvb"</span>,<span class="hljs-string">"application/vnd.3gpp.pic-bw-var"</span>],[<span class="hljs-string">"pvu"</span>,<span class="hljs-string">"paleovu/x-pv"</span>],[<span class="hljs-string">"pwn"</span>,<span class="hljs-string">"application/vnd.3m.post-it-notes"</span>],[<span class="hljs-string">"pwz"</span>,<span class="hljs-string">"application/vnd.ms-powerpoint"</span>],[<span class="hljs-string">"py"</span>,<span class="hljs-string">"text/x-script.phyton"</span>],[<span class="hljs-string">"pya"</span>,<span class="hljs-string">"audio/vnd.ms-playready.media.pya"</span>],[<span class="hljs-string">"pyc"</span>,<span class="hljs-string">"application/x-bytecode.python"</span>],[<span class="hljs-string">"pyv"</span>,<span class="hljs-string">"video/vnd.ms-playready.media.pyv"</span>],[<span class="hljs-string">"qam"</span>,<span class="hljs-string">"application/vnd.epson.quickanime"</span>],[<span class="hljs-string">"qbo"</span>,<span class="hljs-string">"application/vnd.intu.qbo"</span>],[<span class="hljs-string">"qcp"</span>,<span class="hljs-string">"audio/vnd.qcelp"</span>],[<span class="hljs-string">"qd3"</span>,<span class="hljs-string">"x-world/x-3dmf"</span>],[<span class="hljs-string">"qd3d"</span>,<span class="hljs-string">"x-world/x-3dmf"</span>],[<span class="hljs-string">"qfx"</span>,<span class="hljs-string">"application/vnd.intu.qfx"</span>],[<span class="hljs-string">"qif"</span>,<span class="hljs-string">"image/x-quicktime"</span>],[<span class="hljs-string">"qps"</span>,<span class="hljs-string">"application/vnd.publishare-delta-tree"</span>],[<span class="hljs-string">"qt"</span>,<span class="hljs-string">"video/quicktime"</span>],[<span class="hljs-string">"qtc"</span>,<span class="hljs-string">"video/x-qtc"</span>],[<span class="hljs-string">"qti"</span>,<span class="hljs-string">"image/x-quicktime"</span>],[<span class="hljs-string">"qtif"</span>,<span class="hljs-string">"image/x-quicktime"</span>],[<span class="hljs-string">"qxd"</span>,<span class="hljs-string">"application/vnd.quark.quarkxpress"</span>],[<span class="hljs-string">"ra"</span>,[<span class="hljs-string">"audio/x-realaudio"</span>,<span class="hljs-string">"audio/x-pn-realaudio"</span>,<span class="hljs-string">"audio/x-pn-realaudio-plugin"</span>]],[<span class="hljs-string">"ram"</span>,<span class="hljs-string">"audio/x-pn-realaudio"</span>],[<span class="hljs-string">"rar"</span>,<span class="hljs-string">"application/x-rar-compressed"</span>],[<span class="hljs-string">"ras"</span>,[<span class="hljs-string">"image/cmu-raster"</span>,<span class="hljs-string">"application/x-cmu-raster"</span>,<span class="hljs-string">"image/x-cmu-raster"</span>]],[<span class="hljs-string">"rast"</span>,<span class="hljs-string">"image/cmu-raster"</span>],[<span class="hljs-string">"rcprofile"</span>,<span class="hljs-string">"application/vnd.ipunplugged.rcprofile"</span>],[<span class="hljs-string">"rdf"</span>,<span class="hljs-string">"application/rdf+xml"</span>],[<span class="hljs-string">"rdz"</span>,<span class="hljs-string">"application/vnd.data-vision.rdz"</span>],[<span class="hljs-string">"rep"</span>,<span class="hljs-string">"application/vnd.businessobjects"</span>],[<span class="hljs-string">"res"</span>,<span class="hljs-string">"application/x-dtbresource+xml"</span>],[<span class="hljs-string">"rexx"</span>,<span class="hljs-string">"text/x-script.rexx"</span>],[<span class="hljs-string">"rf"</span>,<span class="hljs-string">"image/vnd.rn-realflash"</span>],[<span class="hljs-string">"rgb"</span>,<span class="hljs-string">"image/x-rgb"</span>],[<span class="hljs-string">"rif"</span>,<span class="hljs-string">"application/reginfo+xml"</span>],[<span class="hljs-string">"rip"</span>,<span class="hljs-string">"audio/vnd.rip"</span>],[<span class="hljs-string">"rl"</span>,<span class="hljs-string">"application/resource-lists+xml"</span>],[<span class="hljs-string">"rlc"</span>,<span class="hljs-string">"image/vnd.fujixerox.edmics-rlc"</span>],[<span class="hljs-string">"rld"</span>,<span class="hljs-string">"application/resource-lists-diff+xml"</span>],[<span class="hljs-string">"rm"</span>,[<span class="hljs-string">"application/vnd.rn-realmedia"</span>,<span class="hljs-string">"audio/x-pn-realaudio"</span>]],[<span class="hljs-string">"rmi"</span>,<span class="hljs-string">"audio/mid"</span>],[<span class="hljs-string">"rmm"</span>,<span class="hljs-string">"audio/x-pn-realaudio"</span>],[<span class="hljs-string">"rmp"</span>,[<span class="hljs-string">"audio/x-pn-realaudio-plugin"</span>,<span class="hljs-string">"audio/x-pn-realaudio"</span>]],[<span class="hljs-string">"rms"</span>,<span class="hljs-string">"application/vnd.jcp.javame.midlet-rms"</span>],[<span class="hljs-string">"rnc"</span>,<span class="hljs-string">"application/relax-ng-compact-syntax"</span>],[<span class="hljs-string">"rng"</span>,[<span class="hljs-string">"application/ringing-tones"</span>,<span class="hljs-string">"application/vnd.nokia.ringing-tone"</span>]],[<span class="hljs-string">"rnx"</span>,<span class="hljs-string">"application/vnd.rn-realplayer"</span>],[<span class="hljs-string">"roff"</span>,<span class="hljs-string">"application/x-troff"</span>],[<span class="hljs-string">"rp"</span>,<span class="hljs-string">"image/vnd.rn-realpix"</span>],[<span class="hljs-string">"rp9"</span>,<span class="hljs-string">"application/vnd.cloanto.rp9"</span>],[<span class="hljs-string">"rpm"</span>,<span class="hljs-string">"audio/x-pn-realaudio-plugin"</span>],[<span class="hljs-string">"rpss"</span>,<span class="hljs-string">"application/vnd.nokia.radio-presets"</span>],[<span class="hljs-string">"rpst"</span>,<span class="hljs-string">"application/vnd.nokia.radio-preset"</span>],[<span class="hljs-string">"rq"</span>,<span class="hljs-string">"application/sparql-query"</span>],[<span class="hljs-string">"rs"</span>,<span class="hljs-string">"application/rls-services+xml"</span>],[<span class="hljs-string">"rsd"</span>,<span class="hljs-string">"application/rsd+xml"</span>],[<span class="hljs-string">"rt"</span>,[<span class="hljs-string">"text/richtext"</span>,<span class="hljs-string">"text/vnd.rn-realtext"</span>]],[<span class="hljs-string">"rtf"</span>,[<span class="hljs-string">"application/rtf"</span>,<span class="hljs-string">"text/richtext"</span>,<span class="hljs-string">"application/x-rtf"</span>]],[<span class="hljs-string">"rtx"</span>,[<span class="hljs-string">"text/richtext"</span>,<span class="hljs-string">"application/rtf"</span>]],[<span class="hljs-string">"rv"</span>,<span class="hljs-string">"video/vnd.rn-realvideo"</span>],[<span class="hljs-string">"s"</span>,<span class="hljs-string">"text/x-asm"</span>],[<span class="hljs-string">"s3m"</span>,<span class="hljs-string">"audio/s3m"</span>],[<span class="hljs-string">"saf"</span>,<span class="hljs-string">"application/vnd.yamaha.smaf-audio"</span>],[<span class="hljs-string">"saveme"</span>,<span class="hljs-string">"application/octet-stream"</span>],[<span class="hljs-string">"sbk"</span>,<span class="hljs-string">"application/x-tbook"</span>],[<span class="hljs-string">"sbml"</span>,<span class="hljs-string">"application/sbml+xml"</span>],[<span class="hljs-string">"sc"</span>,<span class="hljs-string">"application/vnd.ibm.secure-container"</span>],[<span class="hljs-string">"scd"</span>,<span class="hljs-string">"application/x-msschedule"</span>],[<span class="hljs-string">"scm"</span>,[<span class="hljs-string">"application/vnd.lotus-screencam"</span>,<span class="hljs-string">"video/x-scm"</span>,<span class="hljs-string">"text/x-script.guile"</span>,<span class="hljs-string">"application/x-lotusscreencam"</span>,<span class="hljs-string">"text/x-script.scheme"</span>]],[<span class="hljs-string">"scq"</span>,<span class="hljs-string">"application/scvp-cv-request"</span>],[<span class="hljs-string">"scs"</span>,<span class="hljs-string">"application/scvp-cv-response"</span>],[<span class="hljs-string">"sct"</span>,<span class="hljs-string">"text/scriptlet"</span>],[<span class="hljs-string">"scurl"</span>,<span class="hljs-string">"text/vnd.curl.scurl"</span>],[<span class="hljs-string">"sda"</span>,<span class="hljs-string">"application/vnd.stardivision.draw"</span>],[<span class="hljs-string">"sdc"</span>,<span class="hljs-string">"application/vnd.stardivision.calc"</span>],[<span class="hljs-string">"sdd"</span>,<span class="hljs-string">"application/vnd.stardivision.impress"</span>],[<span class="hljs-string">"sdkm"</span>,<span class="hljs-string">"application/vnd.solent.sdkm+xml"</span>],[<span class="hljs-string">"sdml"</span>,<span class="hljs-string">"text/plain"</span>],[<span class="hljs-string">"sdp"</span>,[<span class="hljs-string">"application/sdp"</span>,<span class="hljs-string">"application/x-sdp"</span>]],[<span class="hljs-string">"sdr"</span>,<span class="hljs-string">"application/sounder"</span>],[<span class="hljs-string">"sdw"</span>,<span class="hljs-string">"application/vnd.stardivision.writer"</span>],[<span class="hljs-string">"sea"</span>,[<span class="hljs-string">"application/sea"</span>,<span class="hljs-string">"application/x-sea"</span>]],[<span class="hljs-string">"see"</span>,<span class="hljs-string">"application/vnd.seemail"</span>],[<span class="hljs-string">"seed"</span>,<span class="hljs-string">"application/vnd.fdsn.seed"</span>],[<span class="hljs-string">"sema"</span>,<span class="hljs-string">"application/vnd.sema"</span>],[<span class="hljs-string">"semd"</span>,<span class="hljs-string">"application/vnd.semd"</span>],[<span class="hljs-string">"semf"</span>,<span class="hljs-string">"application/vnd.semf"</span>],[<span class="hljs-string">"ser"</span>,<span class="hljs-string">"application/java-serialized-object"</span>],[<span class="hljs-string">"set"</span>,<span class="hljs-string">"application/set"</span>],[<span class="hljs-string">"setpay"</span>,<span class="hljs-string">"application/set-payment-initiation"</span>],[<span class="hljs-string">"setreg"</span>,<span class="hljs-string">"application/set-registration-initiation"</span>],[<span class="hljs-string">"sfd-hdstx"</span>,<span class="hljs-string">"application/vnd.hydrostatix.sof-data"</span>],[<span class="hljs-string">"sfs"</span>,<span class="hljs-string">"application/vnd.spotfire.sfs"</span>],[<span class="hljs-string">"sgl"</span>,<span class="hljs-string">"application/vnd.stardivision.writer-global"</span>],[<span class="hljs-string">"sgm"</span>,[<span class="hljs-string">"text/sgml"</span>,<span class="hljs-string">"text/x-sgml"</span>]],[<span class="hljs-string">"sgml"</span>,[<span class="hljs-string">"text/sgml"</span>,<span class="hljs-string">"text/x-sgml"</span>]],[<span class="hljs-string">"sh"</span>,[<span class="hljs-string">"application/x-shar"</span>,<span class="hljs-string">"application/x-bsh"</span>,<span class="hljs-string">"application/x-sh"</span>,<span class="hljs-string">"text/x-script.sh"</span>]],[<span class="hljs-string">"shar"</span>,[<span class="hljs-string">"application/x-bsh"</span>,<span class="hljs-string">"application/x-shar"</span>]],[<span class="hljs-string">"shf"</span>,<span class="hljs-string">"application/shf+xml"</span>],[<span class="hljs-string">"shtml"</span>,[<span class="hljs-string">"text/html"</span>,<span class="hljs-string">"text/x-server-parsed-html"</span>]],[<span class="hljs-string">"sid"</span>,<span class="hljs-string">"audio/x-psid"</span>],[<span class="hljs-string">"sis"</span>,<span class="hljs-string">"application/vnd.symbian.install"</span>],[<span class="hljs-string">"sit"</span>,[<span class="hljs-string">"application/x-stuffit"</span>,<span class="hljs-string">"application/x-sit"</span>]],[<span class="hljs-string">"sitx"</span>,<span class="hljs-string">"application/x-stuffitx"</span>],[<span class="hljs-string">"skd"</span>,<span class="hljs-string">"application/x-koan"</span>],[<span class="hljs-string">"skm"</span>,<span class="hljs-string">"application/x-koan"</span>],[<span class="hljs-string">"skp"</span>,[<span class="hljs-string">"application/vnd.koan"</span>,<span class="hljs-string">"application/x-koan"</span>]],[<span class="hljs-string">"skt"</span>,<span class="hljs-string">"application/x-koan"</span>],[<span class="hljs-string">"sl"</span>,<span class="hljs-string">"application/x-seelogo"</span>],[<span class="hljs-string">"sldm"</span>,<span class="hljs-string">"application/vnd.ms-powerpoint.slide.macroenabled.12"</span>],[<span class="hljs-string">"sldx"</span>,<span class="hljs-string">"application/vnd.openxmlformats-officedocument.presentationml.slide"</span>],[<span class="hljs-string">"slt"</span>,<span class="hljs-string">"application/vnd.epson.salt"</span>],[<span class="hljs-string">"sm"</span>,<span class="hljs-string">"application/vnd.stepmania.stepchart"</span>],[<span class="hljs-string">"smf"</span>,<span class="hljs-string">"application/vnd.stardivision.math"</span>],[<span class="hljs-string">"smi"</span>,[<span class="hljs-string">"application/smil"</span>,<span class="hljs-string">"application/smil+xml"</span>]],[<span class="hljs-string">"smil"</span>,<span class="hljs-string">"application/smil"</span>],[<span class="hljs-string">"snd"</span>,[<span class="hljs-string">"audio/basic"</span>,<span class="hljs-string">"audio/x-adpcm"</span>]],[<span class="hljs-string">"snf"</span>,<span class="hljs-string">"application/x-font-snf"</span>],[<span class="hljs-string">"sol"</span>,<span class="hljs-string">"application/solids"</span>],[<span class="hljs-string">"spc"</span>,[<span class="hljs-string">"text/x-speech"</span>,<span class="hljs-string">"application/x-pkcs7-certificates"</span>]],[<span class="hljs-string">"spf"</span>,<span class="hljs-string">"application/vnd.yamaha.smaf-phrase"</span>],[<span class="hljs-string">"spl"</span>,[<span class="hljs-string">"application/futuresplash"</span>,<span class="hljs-string">"application/x-futuresplash"</span>]],[<span class="hljs-string">"spot"</span>,<span class="hljs-string">"text/vnd.in3d.spot"</span>],[<span class="hljs-string">"spp"</span>,<span class="hljs-string">"application/scvp-vp-response"</span>],[<span class="hljs-string">"spq"</span>,<span class="hljs-string">"application/scvp-vp-request"</span>],[<span class="hljs-string">"spr"</span>,<span class="hljs-string">"application/x-sprite"</span>],[<span class="hljs-string">"sprite"</span>,<span class="hljs-string">"application/x-sprite"</span>],[<span class="hljs-string">"src"</span>,<span class="hljs-string">"application/x-wais-source"</span>],[<span class="hljs-string">"sru"</span>,<span class="hljs-string">"application/sru+xml"</span>],[<span class="hljs-string">"srx"</span>,<span class="hljs-string">"application/sparql-results+xml"</span>],[<span class="hljs-string">"sse"</span>,<span class="hljs-string">"application/vnd.kodak-descriptor"</span>],[<span class="hljs-string">"ssf"</span>,<span class="hljs-string">"application/vnd.epson.ssf"</span>],[<span class="hljs-string">"ssi"</span>,<span class="hljs-string">"text/x-server-parsed-html"</span>],[<span class="hljs-string">"ssm"</span>,<span class="hljs-string">"application/streamingmedia"</span>],[<span class="hljs-string">"ssml"</span>,<span class="hljs-string">"application/ssml+xml"</span>],[<span class="hljs-string">"sst"</span>,[<span class="hljs-string">"application/vnd.ms-pkicertstore"</span>,<span class="hljs-string">"application/vnd.ms-pki.certstore"</span>]],[<span class="hljs-string">"st"</span>,<span class="hljs-string">"application/vnd.sailingtracker.track"</span>],[<span class="hljs-string">"stc"</span>,<span class="hljs-string">"application/vnd.sun.xml.calc.template"</span>],[<span class="hljs-string">"std"</span>,<span class="hljs-string">"application/vnd.sun.xml.draw.template"</span>],[<span class="hljs-string">"step"</span>,<span class="hljs-string">"application/step"</span>],[<span class="hljs-string">"stf"</span>,<span class="hljs-string">"application/vnd.wt.stf"</span>],[<span class="hljs-string">"sti"</span>,<span class="hljs-string">"application/vnd.sun.xml.impress.template"</span>],[<span class="hljs-string">"stk"</span>,<span class="hljs-string">"application/hyperstudio"</span>],[<span class="hljs-string">"stl"</span>,[<span class="hljs-string">"application/vnd.ms-pkistl"</span>,<span class="hljs-string">"application/sla"</span>,<span class="hljs-string">"application/vnd.ms-pki.stl"</span>,<span class="hljs-string">"application/x-navistyle"</span>]],[<span class="hljs-string">"stm"</span>,<span class="hljs-string">"text/html"</span>],[<span class="hljs-string">"stp"</span>,<span class="hljs-string">"application/step"</span>],[<span class="hljs-string">"str"</span>,<span class="hljs-string">"application/vnd.pg.format"</span>],[<span class="hljs-string">"stw"</span>,<span class="hljs-string">"application/vnd.sun.xml.writer.template"</span>],[<span class="hljs-string">"sub"</span>,<span class="hljs-string">"image/vnd.dvb.subtitle"</span>],[<span class="hljs-string">"sus"</span>,<span class="hljs-string">"application/vnd.sus-calendar"</span>],[<span class="hljs-string">"sv4cpio"</span>,<span class="hljs-string">"application/x-sv4cpio"</span>],[<span class="hljs-string">"sv4crc"</span>,<span class="hljs-string">"application/x-sv4crc"</span>],[<span class="hljs-string">"svc"</span>,<span class="hljs-string">"application/vnd.dvb.service"</span>],[<span class="hljs-string">"svd"</span>,<span class="hljs-string">"application/vnd.svd"</span>],[<span class="hljs-string">"svf"</span>,[<span class="hljs-string">"image/vnd.dwg"</span>,<span class="hljs-string">"image/x-dwg"</span>]],[<span class="hljs-string">"svg"</span>,<span class="hljs-string">"image/svg+xml"</span>],[<span class="hljs-string">"svr"</span>,[<span class="hljs-string">"x-world/x-svr"</span>,<span class="hljs-string">"application/x-world"</span>]],[<span class="hljs-string">"swf"</span>,<span class="hljs-string">"application/x-shockwave-flash"</span>],[<span class="hljs-string">"swi"</span>,<span class="hljs-string">"application/vnd.aristanetworks.swi"</span>],[<span class="hljs-string">"sxc"</span>,<span class="hljs-string">"application/vnd.sun.xml.calc"</span>],[<span class="hljs-string">"sxd"</span>,<span class="hljs-string">"application/vnd.sun.xml.draw"</span>],[<span class="hljs-string">"sxg"</span>,<span class="hljs-string">"application/vnd.sun.xml.writer.global"</span>],[<span class="hljs-string">"sxi"</span>,<span class="hljs-string">"application/vnd.sun.xml.impress"</span>],[<span class="hljs-string">"sxm"</span>,<span class="hljs-string">"application/vnd.sun.xml.math"</span>],[<span class="hljs-string">"sxw"</span>,<span class="hljs-string">"application/vnd.sun.xml.writer"</span>],[<span class="hljs-string">"t"</span>,[<span class="hljs-string">"text/troff"</span>,<span class="hljs-string">"application/x-troff"</span>]],[<span class="hljs-string">"talk"</span>,<span class="hljs-string">"text/x-speech"</span>],[<span class="hljs-string">"tao"</span>,<span class="hljs-string">"application/vnd.tao.intent-module-archive"</span>],[<span class="hljs-string">"tar"</span>,<span class="hljs-string">"application/x-tar"</span>],[<span class="hljs-string">"tbk"</span>,[<span class="hljs-string">"application/toolbook"</span>,<span class="hljs-string">"application/x-tbook"</span>]],[<span class="hljs-string">"tcap"</span>,<span class="hljs-string">"application/vnd.3gpp2.tcap"</span>],[<span class="hljs-string">"tcl"</span>,[<span class="hljs-string">"text/x-script.tcl"</span>,<span class="hljs-string">"application/x-tcl"</span>]],[<span class="hljs-string">"tcsh"</span>,<span class="hljs-string">"text/x-script.tcsh"</span>],[<span class="hljs-string">"teacher"</span>,<span class="hljs-string">"application/vnd.smart.teacher"</span>],[<span class="hljs-string">"tei"</span>,<span class="hljs-string">"application/tei+xml"</span>],[<span class="hljs-string">"tex"</span>,<span class="hljs-string">"application/x-tex"</span>],[<span class="hljs-string">"texi"</span>,<span class="hljs-string">"application/x-texinfo"</span>],[<span class="hljs-string">"texinfo"</span>,<span class="hljs-string">"application/x-texinfo"</span>],[<span class="hljs-string">"text"</span>,[<span class="hljs-string">"application/plain"</span>,<span class="hljs-string">"text/plain"</span>]],[<span class="hljs-string">"tfi"</span>,<span class="hljs-string">"application/thraud+xml"</span>],[<span class="hljs-string">"tfm"</span>,<span class="hljs-string">"application/x-tex-tfm"</span>],[<span class="hljs-string">"tgz"</span>,[<span class="hljs-string">"application/gnutar"</span>,<span class="hljs-string">"application/x-compressed"</span>]],[<span class="hljs-string">"thmx"</span>,<span class="hljs-string">"application/vnd.ms-officetheme"</span>],[<span class="hljs-string">"tif"</span>,[<span class="hljs-string">"image/tiff"</span>,<span class="hljs-string">"image/x-tiff"</span>]],[<span class="hljs-string">"tiff"</span>,[<span class="hljs-string">"image/tiff"</span>,<span class="hljs-string">"image/x-tiff"</span>]],[<span class="hljs-string">"tmo"</span>,<span class="hljs-string">"application/vnd.tmobile-livetv"</span>],[<span class="hljs-string">"torrent"</span>,<span class="hljs-string">"application/x-bittorrent"</span>],[<span class="hljs-string">"tpl"</span>,<span class="hljs-string">"application/vnd.groove-tool-template"</span>],[<span class="hljs-string">"tpt"</span>,<span class="hljs-string">"application/vnd.trid.tpt"</span>],[<span class="hljs-string">"tr"</span>,<span class="hljs-string">"application/x-troff"</span>],[<span class="hljs-string">"tra"</span>,<span class="hljs-string">"application/vnd.trueapp"</span>],[<span class="hljs-string">"trm"</span>,<span class="hljs-string">"application/x-msterminal"</span>],[<span class="hljs-string">"tsd"</span>,<span class="hljs-string">"application/timestamped-data"</span>],[<span class="hljs-string">"tsi"</span>,<span class="hljs-string">"audio/tsp-audio"</span>],[<span class="hljs-string">"tsp"</span>,[<span class="hljs-string">"application/dsptype"</span>,<span class="hljs-string">"audio/tsplayer"</span>]],[<span class="hljs-string">"tsv"</span>,<span class="hljs-string">"text/tab-separated-values"</span>],[<span class="hljs-string">"ttf"</span>,<span class="hljs-string">"application/x-font-ttf"</span>],[<span class="hljs-string">"ttl"</span>,<span class="hljs-string">"text/turtle"</span>],[<span class="hljs-string">"turbot"</span>,<span class="hljs-string">"image/florian"</span>],[<span class="hljs-string">"twd"</span>,<span class="hljs-string">"application/vnd.simtech-mindmapper"</span>],[<span class="hljs-string">"txd"</span>,<span class="hljs-string">"application/vnd.genomatix.tuxedo"</span>],[<span class="hljs-string">"txf"</span>,<span class="hljs-string">"application/vnd.mobius.txf"</span>],[<span class="hljs-string">"txt"</span>,<span class="hljs-string">"text/plain"</span>],[<span class="hljs-string">"ufd"</span>,<span class="hljs-string">"application/vnd.ufdl"</span>],[<span class="hljs-string">"uil"</span>,<span class="hljs-string">"text/x-uil"</span>],[<span class="hljs-string">"uls"</span>,<span class="hljs-string">"text/iuls"</span>],[<span class="hljs-string">"umj"</span>,<span class="hljs-string">"application/vnd.umajin"</span>],[<span class="hljs-string">"uni"</span>,<span class="hljs-string">"text/uri-list"</span>],[<span class="hljs-string">"unis"</span>,<span class="hljs-string">"text/uri-list"</span>],[<span class="hljs-string">"unityweb"</span>,<span class="hljs-string">"application/vnd.unity"</span>],[<span class="hljs-string">"unv"</span>,<span class="hljs-string">"application/i-deas"</span>],[<span class="hljs-string">"uoml"</span>,<span class="hljs-string">"application/vnd.uoml+xml"</span>],[<span class="hljs-string">"uri"</span>,<span class="hljs-string">"text/uri-list"</span>],[<span class="hljs-string">"uris"</span>,<span class="hljs-string">"text/uri-list"</span>],[<span class="hljs-string">"ustar"</span>,[<span class="hljs-string">"application/x-ustar"</span>,<span class="hljs-string">"multipart/x-ustar"</span>]],[<span class="hljs-string">"utz"</span>,<span class="hljs-string">"application/vnd.uiq.theme"</span>],[<span class="hljs-string">"uu"</span>,[<span class="hljs-string">"application/octet-stream"</span>,<span class="hljs-string">"text/x-uuencode"</span>]],[<span class="hljs-string">"uue"</span>,<span class="hljs-string">"text/x-uuencode"</span>],[<span class="hljs-string">"uva"</span>,<span class="hljs-string">"audio/vnd.dece.audio"</span>],[<span class="hljs-string">"uvh"</span>,<span class="hljs-string">"video/vnd.dece.hd"</span>],[<span class="hljs-string">"uvi"</span>,<span class="hljs-string">"image/vnd.dece.graphic"</span>],[<span class="hljs-string">"uvm"</span>,<span class="hljs-string">"video/vnd.dece.mobile"</span>],[<span class="hljs-string">"uvp"</span>,<span class="hljs-string">"video/vnd.dece.pd"</span>],[<span class="hljs-string">"uvs"</span>,<span class="hljs-string">"video/vnd.dece.sd"</span>],[<span class="hljs-string">"uvu"</span>,<span class="hljs-string">"video/vnd.uvvu.mp4"</span>],[<span class="hljs-string">"uvv"</span>,<span class="hljs-string">"video/vnd.dece.video"</span>],[<span class="hljs-string">"vcd"</span>,<span class="hljs-string">"application/x-cdlink"</span>],[<span class="hljs-string">"vcf"</span>,<span class="hljs-string">"text/x-vcard"</span>],[<span class="hljs-string">"vcg"</span>,<span class="hljs-string">"application/vnd.groove-vcard"</span>],[<span class="hljs-string">"vcs"</span>,<span class="hljs-string">"text/x-vcalendar"</span>],[<span class="hljs-string">"vcx"</span>,<span class="hljs-string">"application/vnd.vcx"</span>],[<span class="hljs-string">"vda"</span>,<span class="hljs-string">"application/vda"</span>],[<span class="hljs-string">"vdo"</span>,<span class="hljs-string">"video/vdo"</span>],[<span class="hljs-string">"vew"</span>,<span class="hljs-string">"application/groupwise"</span>],[<span class="hljs-string">"vis"</span>,<span class="hljs-string">"application/vnd.visionary"</span>],[<span class="hljs-string">"viv"</span>,[<span class="hljs-string">"video/vivo"</span>,<span class="hljs-string">"video/vnd.vivo"</span>]],[<span class="hljs-string">"vivo"</span>,[<span class="hljs-string">"video/vivo"</span>,<span class="hljs-string">"video/vnd.vivo"</span>]],[<span class="hljs-string">"vmd"</span>,<span class="hljs-string">"application/vocaltec-media-desc"</span>],[<span class="hljs-string">"vmf"</span>,<span class="hljs-string">"application/vocaltec-media-file"</span>],[<span class="hljs-string">"voc"</span>,[<span class="hljs-string">"audio/voc"</span>,<span class="hljs-string">"audio/x-voc"</span>]],[<span class="hljs-string">"vos"</span>,<span class="hljs-string">"video/vosaic"</span>],[<span class="hljs-string">"vox"</span>,<span class="hljs-string">"audio/voxware"</span>],[<span class="hljs-string">"vqe"</span>,<span class="hljs-string">"audio/x-twinvq-plugin"</span>],[<span class="hljs-string">"vqf"</span>,<span class="hljs-string">"audio/x-twinvq"</span>],[<span class="hljs-string">"vql"</span>,<span class="hljs-string">"audio/x-twinvq-plugin"</span>],[<span class="hljs-string">"vrml"</span>,[<span class="hljs-string">"model/vrml"</span>,<span class="hljs-string">"x-world/x-vrml"</span>,<span class="hljs-string">"application/x-vrml"</span>]],[<span class="hljs-string">"vrt"</span>,<span class="hljs-string">"x-world/x-vrt"</span>],[<span class="hljs-string">"vsd"</span>,[<span class="hljs-string">"application/vnd.visio"</span>,<span class="hljs-string">"application/x-visio"</span>]],[<span class="hljs-string">"vsf"</span>,<span class="hljs-string">"application/vnd.vsf"</span>],[<span class="hljs-string">"vst"</span>,<span class="hljs-string">"application/x-visio"</span>],[<span class="hljs-string">"vsw"</span>,<span class="hljs-string">"application/x-visio"</span>],[<span class="hljs-string">"vtu"</span>,<span class="hljs-string">"model/vnd.vtu"</span>],[<span class="hljs-string">"vxml"</span>,<span class="hljs-string">"application/voicexml+xml"</span>],[<span class="hljs-string">"w60"</span>,<span class="hljs-string">"application/wordperfect6.0"</span>],[<span class="hljs-string">"w61"</span>,<span class="hljs-string">"application/wordperfect6.1"</span>],[<span class="hljs-string">"w6w"</span>,<span class="hljs-string">"application/msword"</span>],[<span class="hljs-string">"wad"</span>,<span class="hljs-string">"application/x-doom"</span>],[<span class="hljs-string">"wav"</span>,[<span class="hljs-string">"audio/wav"</span>,<span class="hljs-string">"audio/x-wav"</span>]],[<span class="hljs-string">"wax"</span>,<span class="hljs-string">"audio/x-ms-wax"</span>],[<span class="hljs-string">"wb1"</span>,<span class="hljs-string">"application/x-qpro"</span>],[<span class="hljs-string">"wbmp"</span>,<span class="hljs-string">"image/vnd.wap.wbmp"</span>],[<span class="hljs-string">"wbs"</span>,<span class="hljs-string">"application/vnd.criticaltools.wbs+xml"</span>],[<span class="hljs-string">"wbxml"</span>,<span class="hljs-string">"application/vnd.wap.wbxml"</span>],[<span class="hljs-string">"wcm"</span>,<span class="hljs-string">"application/vnd.ms-works"</span>],[<span class="hljs-string">"wdb"</span>,<span class="hljs-string">"application/vnd.ms-works"</span>],[<span class="hljs-string">"web"</span>,<span class="hljs-string">"application/vnd.xara"</span>],[<span class="hljs-string">"weba"</span>,<span class="hljs-string">"audio/webm"</span>],[<span class="hljs-string">"webm"</span>,<span class="hljs-string">"video/webm"</span>],[<span class="hljs-string">"webp"</span>,<span class="hljs-string">"image/webp"</span>],[<span class="hljs-string">"wg"</span>,<span class="hljs-string">"application/vnd.pmi.widget"</span>],[<span class="hljs-string">"wgt"</span>,<span class="hljs-string">"application/widget"</span>],[<span class="hljs-string">"wiz"</span>,<span class="hljs-string">"application/msword"</span>],[<span class="hljs-string">"wk1"</span>,<span class="hljs-string">"application/x-123"</span>],[<span class="hljs-string">"wks"</span>,<span class="hljs-string">"application/vnd.ms-works"</span>],[<span class="hljs-string">"wm"</span>,<span class="hljs-string">"video/x-ms-wm"</span>],[<span class="hljs-string">"wma"</span>,<span class="hljs-string">"audio/x-ms-wma"</span>],[<span class="hljs-string">"wmd"</span>,<span class="hljs-string">"application/x-ms-wmd"</span>],[<span class="hljs-string">"wmf"</span>,[<span class="hljs-string">"windows/metafile"</span>,<span class="hljs-string">"application/x-msmetafile"</span>]],[<span class="hljs-string">"wml"</span>,<span class="hljs-string">"text/vnd.wap.wml"</span>],[<span class="hljs-string">"wmlc"</span>,<span class="hljs-string">"application/vnd.wap.wmlc"</span>],[<span class="hljs-string">"wmls"</span>,<span class="hljs-string">"text/vnd.wap.wmlscript"</span>],[<span class="hljs-string">"wmlsc"</span>,<span class="hljs-string">"application/vnd.wap.wmlscriptc"</span>],[<span class="hljs-string">"wmv"</span>,<span class="hljs-string">"video/x-ms-wmv"</span>],[<span class="hljs-string">"wmx"</span>,<span class="hljs-string">"video/x-ms-wmx"</span>],[<span class="hljs-string">"wmz"</span>,<span class="hljs-string">"application/x-ms-wmz"</span>],[<span class="hljs-string">"woff"</span>,<span class="hljs-string">"application/x-font-woff"</span>],[<span class="hljs-string">"word"</span>,<span class="hljs-string">"application/msword"</span>],[<span class="hljs-string">"wp"</span>,<span class="hljs-string">"application/wordperfect"</span>],[<span class="hljs-string">"wp5"</span>,[<span class="hljs-string">"application/wordperfect"</span>,<span class="hljs-string">"application/wordperfect6.0"</span>]],[<span class="hljs-string">"wp6"</span>,<span class="hljs-string">"application/wordperfect"</span>],[<span class="hljs-string">"wpd"</span>,[<span class="hljs-string">"application/wordperfect"</span>,<span class="hljs-string">"application/vnd.wordperfect"</span>,<span class="hljs-string">"application/x-wpwin"</span>]],[<span class="hljs-string">"wpl"</span>,<span class="hljs-string">"application/vnd.ms-wpl"</span>],[<span class="hljs-string">"wps"</span>,<span class="hljs-string">"application/vnd.ms-works"</span>],[<span class="hljs-string">"wq1"</span>,<span class="hljs-string">"application/x-lotus"</span>],[<span class="hljs-string">"wqd"</span>,<span class="hljs-string">"application/vnd.wqd"</span>],[<span class="hljs-string">"wri"</span>,[<span class="hljs-string">"application/mswrite"</span>,<span class="hljs-string">"application/x-wri"</span>,<span class="hljs-string">"application/x-mswrite"</span>]],[<span class="hljs-string">"wrl"</span>,[<span class="hljs-string">"model/vrml"</span>,<span class="hljs-string">"x-world/x-vrml"</span>,<span class="hljs-string">"application/x-world"</span>]],[<span class="hljs-string">"wrz"</span>,[<span class="hljs-string">"model/vrml"</span>,<span class="hljs-string">"x-world/x-vrml"</span>]],[<span class="hljs-string">"wsc"</span>,<span class="hljs-string">"text/scriplet"</span>],[<span class="hljs-string">"wsdl"</span>,<span class="hljs-string">"application/wsdl+xml"</span>],[<span class="hljs-string">"wspolicy"</span>,<span class="hljs-string">"application/wspolicy+xml"</span>],[<span class="hljs-string">"wsrc"</span>,<span class="hljs-string">"application/x-wais-source"</span>],[<span class="hljs-string">"wtb"</span>,<span class="hljs-string">"application/vnd.webturbo"</span>],[<span class="hljs-string">"wtk"</span>,<span class="hljs-string">"application/x-wintalk"</span>],[<span class="hljs-string">"wvx"</span>,<span class="hljs-string">"video/x-ms-wvx"</span>],[<span class="hljs-string">"x-png"</span>,<span class="hljs-string">"image/png"</span>],[<span class="hljs-string">"x3d"</span>,<span class="hljs-string">"application/vnd.hzn-3d-crossword"</span>],[<span class="hljs-string">"xaf"</span>,<span class="hljs-string">"x-world/x-vrml"</span>],[<span class="hljs-string">"xap"</span>,<span class="hljs-string">"application/x-silverlight-app"</span>],[<span class="hljs-string">"xar"</span>,<span class="hljs-string">"application/vnd.xara"</span>],[<span class="hljs-string">"xbap"</span>,<span class="hljs-string">"application/x-ms-xbap"</span>],[<span class="hljs-string">"xbd"</span>,<span class="hljs-string">"application/vnd.fujixerox.docuworks.binder"</span>],[<span class="hljs-string">"xbm"</span>,[<span class="hljs-string">"image/xbm"</span>,<span class="hljs-string">"image/x-xbm"</span>,<span class="hljs-string">"image/x-xbitmap"</span>]],[<span class="hljs-string">"xdf"</span>,<span class="hljs-string">"application/xcap-diff+xml"</span>],[<span class="hljs-string">"xdm"</span>,<span class="hljs-string">"application/vnd.syncml.dm+xml"</span>],[<span class="hljs-string">"xdp"</span>,<span class="hljs-string">"application/vnd.adobe.xdp+xml"</span>],[<span class="hljs-string">"xdr"</span>,<span class="hljs-string">"video/x-amt-demorun"</span>],[<span class="hljs-string">"xdssc"</span>,<span class="hljs-string">"application/dssc+xml"</span>],[<span class="hljs-string">"xdw"</span>,<span class="hljs-string">"application/vnd.fujixerox.docuworks"</span>],[<span class="hljs-string">"xenc"</span>,<span class="hljs-string">"application/xenc+xml"</span>],[<span class="hljs-string">"xer"</span>,<span class="hljs-string">"application/patch-ops-error+xml"</span>],[<span class="hljs-string">"xfdf"</span>,<span class="hljs-string">"application/vnd.adobe.xfdf"</span>],[<span class="hljs-string">"xfdl"</span>,<span class="hljs-string">"application/vnd.xfdl"</span>],[<span class="hljs-string">"xgz"</span>,<span class="hljs-string">"xgl/drawing"</span>],[<span class="hljs-string">"xhtml"</span>,<span class="hljs-string">"application/xhtml+xml"</span>],[<span class="hljs-string">"xif"</span>,<span class="hljs-string">"image/vnd.xiff"</span>],[<span class="hljs-string">"xl"</span>,<span class="hljs-string">"application/excel"</span>],[<span class="hljs-string">"xla"</span>,[<span class="hljs-string">"application/vnd.ms-excel"</span>,<span class="hljs-string">"application/excel"</span>,<span class="hljs-string">"application/x-msexcel"</span>,<span class="hljs-string">"application/x-excel"</span>]],[<span class="hljs-string">"xlam"</span>,<span class="hljs-string">"application/vnd.ms-excel.addin.macroenabled.12"</span>],[<span class="hljs-string">"xlb"</span>,[<span class="hljs-string">"application/excel"</span>,<span class="hljs-string">"application/vnd.ms-excel"</span>,<span class="hljs-string">"application/x-excel"</span>]],[<span class="hljs-string">"xlc"</span>,[<span class="hljs-string">"application/vnd.ms-excel"</span>,<span class="hljs-string">"application/excel"</span>,<span class="hljs-string">"application/x-excel"</span>]],[<span class="hljs-string">"xld"</span>,[<span class="hljs-string">"application/excel"</span>,<span class="hljs-string">"application/x-excel"</span>]],[<span class="hljs-string">"xlk"</span>,[<span class="hljs-string">"application/excel"</span>,<span class="hljs-string">"application/x-excel"</span>]],[<span class="hljs-string">"xll"</span>,[<span class="hljs-string">"application/excel"</span>,<span class="hljs-string">"application/vnd.ms-excel"</span>,<span class="hljs-string">"application/x-excel"</span>]],[<span class="hljs-string">"xlm"</span>,[<span class="hljs-string">"application/vnd.ms-excel"</span>,<span class="hljs-string">"application/excel"</span>,<span class="hljs-string">"application/x-excel"</span>]],[<span class="hljs-string">"xls"</span>,[<span class="hljs-string">"application/vnd.ms-excel"</span>,<span class="hljs-string">"application/excel"</span>,<span class="hljs-string">"application/x-msexcel"</span>,<span class="hljs-string">"application/x-excel"</span>]],[<span class="hljs-string">"xlsb"</span>,<span class="hljs-string">"application/vnd.ms-excel.sheet.binary.macroenabled.12"</span>],[<span class="hljs-string">"xlsm"</span>,<span class="hljs-string">"application/vnd.ms-excel.sheet.macroenabled.12"</span>],[<span class="hljs-string">"xlsx"</span>,<span class="hljs-string">"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"</span>],[<span class="hljs-string">"xlt"</span>,[<span class="hljs-string">"application/vnd.ms-excel"</span>,<span class="hljs-string">"application/excel"</span>,<span class="hljs-string">"application/x-excel"</span>]],[<span class="hljs-string">"xltm"</span>,<span class="hljs-string">"application/vnd.ms-excel.template.macroenabled.12"</span>],[<span class="hljs-string">"xltx"</span>,<span class="hljs-string">"application/vnd.openxmlformats-officedocument.spreadsheetml.template"</span>],[<span class="hljs-string">"xlv"</span>,[<span class="hljs-string">"application/excel"</span>,<span class="hljs-string">"application/x-excel"</span>]],[<span class="hljs-string">"xlw"</span>,[<span class="hljs-string">"application/vnd.ms-excel"</span>,<span class="hljs-string">"application/excel"</span>,<span class="hljs-string">"application/x-msexcel"</span>,<span class="hljs-string">"application/x-excel"</span>]],[<span class="hljs-string">"xm"</span>,<span class="hljs-string">"audio/xm"</span>],[<span class="hljs-string">"xml"</span>,[<span class="hljs-string">"application/xml"</span>,<span class="hljs-string">"text/xml"</span>,<span class="hljs-string">"application/atom+xml"</span>,<span class="hljs-string">"application/rss+xml"</span>]],[<span class="hljs-string">"xmz"</span>,<span class="hljs-string">"xgl/movie"</span>],[<span class="hljs-string">"xo"</span>,<span class="hljs-string">"application/vnd.olpc-sugar"</span>],[<span class="hljs-string">"xof"</span>,<span class="hljs-string">"x-world/x-vrml"</span>],[<span class="hljs-string">"xop"</span>,<span class="hljs-string">"application/xop+xml"</span>],[<span class="hljs-string">"xpi"</span>,<span class="hljs-string">"application/x-xpinstall"</span>],[<span class="hljs-string">"xpix"</span>,<span class="hljs-string">"application/x-vnd.ls-xpix"</span>],[<span class="hljs-string">"xpm"</span>,[<span class="hljs-string">"image/xpm"</span>,<span class="hljs-string">"image/x-xpixmap"</span>]],[<span class="hljs-string">"xpr"</span>,<span class="hljs-string">"application/vnd.is-xpr"</span>],[<span class="hljs-string">"xps"</span>,<span class="hljs-string">"application/vnd.ms-xpsdocument"</span>],[<span class="hljs-string">"xpw"</span>,<span class="hljs-string">"application/vnd.intercon.formnet"</span>],[<span class="hljs-string">"xslt"</span>,<span class="hljs-string">"application/xslt+xml"</span>],[<span class="hljs-string">"xsm"</span>,<span class="hljs-string">"application/vnd.syncml+xml"</span>],[<span class="hljs-string">"xspf"</span>,<span class="hljs-string">"application/xspf+xml"</span>],[<span class="hljs-string">"xsr"</span>,<span class="hljs-string">"video/x-amt-showrun"</span>],[<span class="hljs-string">"xul"</span>,<span class="hljs-string">"application/vnd.mozilla.xul+xml"</span>],[<span class="hljs-string">"xwd"</span>,[<span class="hljs-string">"image/x-xwd"</span>,<span class="hljs-string">"image/x-xwindowdump"</span>]],[<span class="hljs-string">"xyz"</span>,[<span class="hljs-string">"chemical/x-xyz"</span>,<span class="hljs-string">"chemical/x-pdb"</span>]],[<span class="hljs-string">"yang"</span>,<span class="hljs-string">"application/yang"</span>],[<span class="hljs-string">"yin"</span>,<span class="hljs-string">"application/yin+xml"</span>],[<span class="hljs-string">"z"</span>,[<span class="hljs-string">"application/x-compressed"</span>,<span class="hljs-string">"application/x-compress"</span>]],[<span class="hljs-string">"zaz"</span>,<span class="hljs-string">"application/vnd.zzazz.deck+xml"</span>],[<span class="hljs-string">"zip"</span>,[<span class="hljs-string">"application/zip"</span>,<span class="hljs-string">"multipart/x-zip"</span>,<span class="hljs-string">"application/x-zip-compressed"</span>,<span class="hljs-string">"application/x-compressed"</span>]],[<span class="hljs-string">"zir"</span>,<span class="hljs-string">"application/vnd.zul"</span>],[<span class="hljs-string">"zmm"</span>,<span class="hljs-string">"application/vnd.handheld-entertainment+xml"</span>],[<span class="hljs-string">"zoo"</span>,<span class="hljs-string">"application/octet-stream"</span>],[<span class="hljs-string">"zsh"</span>,<span class="hljs-string">"text/x-script.zsh"</span>]]);t.exports={detectMimeType(e){<span class="hljs-keyword">if</span>(!e)<span class="hljs-keyword">return</span> s;<span class="hljs-keyword">let</span> t=a.parse(e),i=<span class="hljs-function">(<span class="hljs-params">t.ext.substr(<span class="hljs-number">1</span></span>)||<span class="hljs-params">t</span>.<span class="hljs-params">name</span>||"").<span class="hljs-params">split</span>(<span class="hljs-params"><span class="hljs-string">"?"</span></span>).<span class="hljs-params">shift</span><span class="hljs-params">()</span>.<span class="hljs-params">trim</span><span class="hljs-params">()</span>.<span class="hljs-params">toLowerCase</span><span class="hljs-params">()</span>,<span class="hljs-params">o</span>=<span class="hljs-params">s</span>;<span class="hljs-params">return</span>(<span class="hljs-params">n.has(i</span>)&amp;&amp;(<span class="hljs-params">o=n.get(i</span>)),<span class="hljs-params">Array</span>.<span class="hljs-params">isArray</span>(<span class="hljs-params">o</span>))?<span class="hljs-params">o</span>[0]:<span class="hljs-params">o</span>},<span class="hljs-params">detectExtension</span>(<span class="hljs-params">e</span>){<span class="hljs-params">if</span>(<span class="hljs-params">!e</span>)<span class="hljs-params">return</span>"<span class="hljs-params">bin</span>";<span class="hljs-params">let</span> <span class="hljs-params">t</span>=(<span class="hljs-params">e||<span class="hljs-string">""</span></span>).<span class="hljs-params">toLowerCase</span><span class="hljs-params">()</span>.<span class="hljs-params">trim</span><span class="hljs-params">()</span>.<span class="hljs-params">split</span>(<span class="hljs-params"><span class="hljs-string">"/"</span></span>),<span class="hljs-params">i</span>=<span class="hljs-params">t</span>.<span class="hljs-params">shift</span><span class="hljs-params">()</span>.<span class="hljs-params">trim</span><span class="hljs-params">()</span>,<span class="hljs-params">a</span>=<span class="hljs-params">t</span>.<span class="hljs-params">join</span>(<span class="hljs-params"><span class="hljs-string">"/"</span></span>).<span class="hljs-params">trim</span><span class="hljs-params">()</span>;<span class="hljs-params">if</span>(<span class="hljs-params">o.has(i+<span class="hljs-string">"/"</span>+a</span>)){<span class="hljs-params">let</span> <span class="hljs-params">e</span>=<span class="hljs-params">o</span>.<span class="hljs-params">get</span>(<span class="hljs-params">i+<span class="hljs-string">"/"</span>+a</span>);<span class="hljs-params">return</span> <span class="hljs-params">Array</span>.<span class="hljs-params">isArray</span>(<span class="hljs-params">e</span>)?<span class="hljs-params">e</span>[0]:<span class="hljs-params">e</span>}<span class="hljs-params">return</span>"<span class="hljs-params">text</span>"===<span class="hljs-params">i</span>?"<span class="hljs-params">txt</span>":"<span class="hljs-params">bin</span>"}}},54799,(<span class="hljs-params">e,t,i</span>)=&gt;</span>{t.exports=e.x(<span class="hljs-string">"crypto"</span>,()=&gt;<span class="hljs-built_in">require</span>(<span class="hljs-string">"crypto"</span>))},<span class="hljs-number">2532</span>,(e,t,i)=&gt;{<span class="hljs-string">"use strict"</span>;<span class="hljs-keyword">let</span> a=<span class="hljs-regexp">/^xn--/</span>,s=<span class="hljs-regexp">/[^\0-\x7F]/</span>,o=<span class="hljs-regexp">/[\x2E\u3002\uFF0E\uFF61]/g</span>,n={<span class="hljs-attr">overflow</span>:<span class="hljs-string">"Overflow: input needs wider integers to process"</span>,<span class="hljs-string">"not-basic"</span>:<span class="hljs-string">"Illegal input &gt;= 0x80 (not a basic code point)"</span>,<span class="hljs-string">"invalid-input"</span>:<span class="hljs-string">"Invalid input"</span>},r=<span class="hljs-built_in">Math</span>.floor,p=<span class="hljs-built_in">String</span>.fromCharCode;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">c</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">throw</span> <span class="hljs-built_in">RangeError</span>(n[e])}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">l</span>(<span class="hljs-params">e,t</span>)</span>{<span class="hljs-keyword">let</span> i=e.split(<span class="hljs-string">"@"</span>),a=<span class="hljs-string">""</span>;<span class="hljs-keyword">return</span> i.length&gt;<span class="hljs-number">1</span>&amp;&amp;<span class="hljs-function">(<span class="hljs-params">a=i[<span class="hljs-number">0</span>]+<span class="hljs-string">"@"</span>,e=i[<span class="hljs-number">1</span>]</span>),<span class="hljs-params">a</span>+(<span class="hljs-params"><span class="hljs-keyword">function</span>(e,t</span>){<span class="hljs-params">let</span> <span class="hljs-params">i</span>=[],<span class="hljs-params">a</span>=<span class="hljs-params">e</span>.<span class="hljs-params">length</span>;<span class="hljs-params">for</span>(<span class="hljs-params">;a--;</span>)<span class="hljs-params">i</span>[<span class="hljs-params">a</span>]=<span class="hljs-params">t</span>(<span class="hljs-params">e[a]</span>);<span class="hljs-params">return</span> <span class="hljs-params">i</span>})(<span class="hljs-params">(e=e.replace(o,<span class="hljs-string">"."</span></span>)).<span class="hljs-params">split</span>(<span class="hljs-params"><span class="hljs-string">"."</span></span>),<span class="hljs-params">t</span>).<span class="hljs-params">join</span>(<span class="hljs-params"><span class="hljs-string">"."</span></span>)}<span class="hljs-params">function</span> <span class="hljs-params">d</span>(<span class="hljs-params">e</span>){<span class="hljs-params">let</span> <span class="hljs-params">t</span>=[],<span class="hljs-params">i</span>=0,<span class="hljs-params">a</span>=<span class="hljs-params">e</span>.<span class="hljs-params">length</span>;<span class="hljs-params">for</span>(<span class="hljs-params">;i&lt;a;</span>){<span class="hljs-params">let</span> <span class="hljs-params">s</span>=<span class="hljs-params">e</span>.<span class="hljs-params">charCodeAt</span>(<span class="hljs-params">i++</span>);<span class="hljs-params">if</span>(<span class="hljs-params">s&gt;=<span class="hljs-number">55296</span>&amp;&amp;s&lt;=<span class="hljs-number">56319</span>&amp;&amp;i&lt;a</span>){<span class="hljs-params">let</span> <span class="hljs-params">a</span>=<span class="hljs-params">e</span>.<span class="hljs-params">charCodeAt</span>(<span class="hljs-params">i++</span>);(<span class="hljs-params"><span class="hljs-number">64512</span>&amp;a</span>)==56320?<span class="hljs-params">t</span>.<span class="hljs-params">push</span>(<span class="hljs-params">((<span class="hljs-number">1023</span>&amp;s</span>)&lt;&lt;10)+(<span class="hljs-params"><span class="hljs-number">1023</span>&amp;a</span>)+65536):(<span class="hljs-params">t.push(s</span>),<span class="hljs-params">i</span>--)}<span class="hljs-params">else</span> <span class="hljs-params">t</span>.<span class="hljs-params">push</span>(<span class="hljs-params">s</span>)}<span class="hljs-params">return</span> <span class="hljs-params">t</span>}<span class="hljs-params">let</span> <span class="hljs-params">m</span>=<span class="hljs-params">function</span>(<span class="hljs-params">e,t</span>){<span class="hljs-params">return</span> <span class="hljs-params">e</span>+22+75*(<span class="hljs-params">e&lt;<span class="hljs-number">26</span></span>)-(<span class="hljs-params">(<span class="hljs-number">0</span>!=t</span>)&lt;&lt;5)},<span class="hljs-params">h</span>=<span class="hljs-params">function</span>(<span class="hljs-params">e,t,i</span>){<span class="hljs-params">let</span> <span class="hljs-params">a</span>=0;<span class="hljs-params">for</span>(<span class="hljs-params">e=i?r(e<span class="hljs-regexp">/700):e&gt;&gt;1,e+=r(e/</span>t</span>);<span class="hljs-params">e</span>&gt;455;<span class="hljs-params">a</span>+=36)<span class="hljs-params">e</span>=<span class="hljs-params">r</span>(<span class="hljs-params">e<span class="hljs-regexp">/35);return r(a+36*e/</span>(e+<span class="hljs-number">38</span></span>))},<span class="hljs-params">u</span>=<span class="hljs-params">function</span>(<span class="hljs-params">e</span>){<span class="hljs-params">let</span> <span class="hljs-params">t</span>=[],<span class="hljs-params">i</span>=<span class="hljs-params">e</span>.<span class="hljs-params">length</span>,<span class="hljs-params">a</span>=0,<span class="hljs-params">s</span>=128,<span class="hljs-params">o</span>=72,<span class="hljs-params">n</span>=<span class="hljs-params">e</span>.<span class="hljs-params">lastIndexOf</span>(<span class="hljs-params"><span class="hljs-string">"-"</span></span>);<span class="hljs-params">n</span>&lt;0&amp;&amp;(<span class="hljs-params">n=<span class="hljs-number">0</span></span>);<span class="hljs-params">for</span>(<span class="hljs-params"><span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>;i&lt;n;++i</span>)<span class="hljs-params">e</span>.<span class="hljs-params">charCodeAt</span>(<span class="hljs-params">i</span>)&gt;=128&amp;&amp;<span class="hljs-params">c</span>(<span class="hljs-params"><span class="hljs-string">"not-basic"</span></span>),<span class="hljs-params">t</span>.<span class="hljs-params">push</span>(<span class="hljs-params">e.charCodeAt(i</span>));<span class="hljs-params">for</span>(<span class="hljs-params"><span class="hljs-keyword">let</span> l=n&gt;<span class="hljs-number">0</span>?n+<span class="hljs-number">1</span>:<span class="hljs-number">0</span>;l&lt;i;</span>){<span class="hljs-params">let</span> <span class="hljs-params">n</span>=<span class="hljs-params">a</span>;<span class="hljs-params">for</span>(<span class="hljs-params"><span class="hljs-keyword">let</span> t=<span class="hljs-number">1</span>,s=<span class="hljs-number">36</span>;;s+=<span class="hljs-number">36</span></span>){<span class="hljs-params">var</span> <span class="hljs-params">p</span>;<span class="hljs-params">l</span>&gt;=<span class="hljs-params">i</span>&amp;&amp;<span class="hljs-params">c</span>(<span class="hljs-params"><span class="hljs-string">"invalid-input"</span></span>);<span class="hljs-params">let</span> <span class="hljs-params">n</span>=(<span class="hljs-params">p=e.charCodeAt(l++</span>))&gt;=48&amp;&amp;<span class="hljs-params">p</span>&lt;58?26+(<span class="hljs-params">p<span class="hljs-number">-48</span></span>):<span class="hljs-params">p</span>&gt;=65&amp;&amp;<span class="hljs-params">p</span>&lt;91?<span class="hljs-params">p</span>-65:<span class="hljs-params">p</span>&gt;=97&amp;&amp;<span class="hljs-params">p</span>&lt;123?<span class="hljs-params">p</span>-97:36;<span class="hljs-params">n</span>&gt;=36&amp;&amp;<span class="hljs-params">c</span>(<span class="hljs-params"><span class="hljs-string">"invalid-input"</span></span>),<span class="hljs-params">n</span>&gt;<span class="hljs-params">r</span>(<span class="hljs-params">(<span class="hljs-number">0x7fffffff</span>-a</span>)/<span class="hljs-params">t</span>)&amp;&amp;<span class="hljs-params">c</span>(<span class="hljs-params"><span class="hljs-string">"overflow"</span></span>),<span class="hljs-params">a</span>+=<span class="hljs-params">n</span>*<span class="hljs-params">t</span>;<span class="hljs-params">let</span> <span class="hljs-params">d</span>=<span class="hljs-params">s</span>&lt;=<span class="hljs-params">o</span>?1:<span class="hljs-params">s</span>&gt;=<span class="hljs-params">o</span>+26?26:<span class="hljs-params">s</span>-<span class="hljs-params">o</span>;<span class="hljs-params">if</span>(<span class="hljs-params">n&lt;d</span>)<span class="hljs-params">break</span>;<span class="hljs-params">let</span> <span class="hljs-params">m</span>=36-<span class="hljs-params">d</span>;<span class="hljs-params">t</span>&gt;<span class="hljs-params">r</span>(<span class="hljs-params"><span class="hljs-number">0x7fffffff</span><span class="hljs-regexp">/m)&amp;&amp;c("overflow"),t*=m}let d=t.length+1;o=h(a-n,d,0==n),r(a/</span>d</span>)&gt;0<span class="hljs-params">x7fffffff</span>-<span class="hljs-params">s</span>&amp;&amp;<span class="hljs-params">c</span>(<span class="hljs-params"><span class="hljs-string">"overflow"</span></span>),<span class="hljs-params">s</span>+=<span class="hljs-params">r</span>(<span class="hljs-params">a<span class="hljs-regexp">/d),a%=d,t.splice(a++,0,s)}return String.fromCodePoint(...t)},x=function(e){let t=[],i=(e=d(e)).length,a=128,s=0,o=72;for(let i of e)i&lt;128&amp;&amp;t.push(p(i));let n=t.length,l=n;for(n&amp;&amp;t.push("-");l&lt;i;){let i=0x7fffffff;for(let t of e)t&gt;=a&amp;&amp;t&lt;i&amp;&amp;(i=t);let d=l+1;for(let u of(i-a&gt;r((0x7fffffff-s)/</span>d</span>)&amp;&amp;<span class="hljs-params">c</span>(<span class="hljs-params"><span class="hljs-string">"overflow"</span></span>),<span class="hljs-params">s</span>+=(<span class="hljs-params">i-a</span>)*<span class="hljs-params">d</span>,<span class="hljs-params">a</span>=<span class="hljs-params">i</span>,<span class="hljs-params">e</span>))<span class="hljs-params">if</span>(<span class="hljs-params">u&lt;a&amp;&amp;++s&gt;<span class="hljs-number">0x7fffffff</span>&amp;&amp;c(<span class="hljs-string">"overflow"</span></span>),<span class="hljs-params">u</span>===<span class="hljs-params">a</span>){<span class="hljs-params">let</span> <span class="hljs-params">e</span>=<span class="hljs-params">s</span>;<span class="hljs-params">for</span>(<span class="hljs-params"><span class="hljs-keyword">let</span> i=<span class="hljs-number">36</span>;;i+=<span class="hljs-number">36</span></span>){<span class="hljs-params">let</span> <span class="hljs-params">a</span>=<span class="hljs-params">i</span>&lt;=<span class="hljs-params">o</span>?1:<span class="hljs-params">i</span>&gt;=<span class="hljs-params">o</span>+26?26:<span class="hljs-params">i</span>-<span class="hljs-params">o</span>;<span class="hljs-params">if</span>(<span class="hljs-params">e&lt;a</span>)<span class="hljs-params">break</span>;<span class="hljs-params">let</span> <span class="hljs-params">s</span>=<span class="hljs-params">e</span>-<span class="hljs-params">a</span>,<span class="hljs-params">n</span>=36-<span class="hljs-params">a</span>;<span class="hljs-params">t</span>.<span class="hljs-params">push</span>(<span class="hljs-params">p(m(a+s%n,<span class="hljs-number">0</span></span>))),<span class="hljs-params">e</span>=<span class="hljs-params">r</span>(<span class="hljs-params">s<span class="hljs-regexp">/n)}t.push(p(m(e,0))),o=h(s,d,l===n),s=0,++l}++s,++a}return t.join("")};t.exports={version:"2.3.1",ucs2:{decode:d,encode:e=&gt;String.fromCodePoint(...e)},decode:u,encode:x,toASCII:function(e){return l(e,function(e){return s.test(e)?"xn--"+x(e):e})},toUnicode:function(e){return l(e,function(e){return a.test(e)?u(e.slice(4).toLowerCase()):e})}}},35289,(e,t,i)=&gt;{"use strict";let a=e.r(88947).Transform;function s(e){return"string"==typeof e&amp;&amp;(e=Buffer.from(e,"utf-8")),e.toString("base64")}function o(e,t){if(e=(e||"").toString(),t=t||76,e.length&lt;=t)return e;let i=[],a=0,s=1024*t;for(;a&lt;e.length;){let o=e.substr(a,s).replace(RegExp(".{"+t+"}","g"),"$&amp;\r\n");i.push(o),a+=s}return i.join("")}t.exports={encode:s,wrap:o,Encoder:class extends a{constructor(e){super(),this.options=e||{},!1!==this.options.lineLength&amp;&amp;(this.options.lineLength=this.options.lineLength||76),this._curLine="",this._remainingBytes=!1,this.inputBytes=0,this.outputBytes=0}_transform(e,t,i){if("buffer"!==t&amp;&amp;(e=Buffer.from(e,t)),!e||!e.length)return setImmediate(i);this.inputBytes+=e.length,this._remainingBytes&amp;&amp;this._remainingBytes.length&amp;&amp;(e=Buffer.concat([this._remainingBytes,e],this._remainingBytes.length+e.length),this._remainingBytes=!1),e.length%3?(this._remainingBytes=e.slice(e.length-e.length%3),e=e.slice(0,e.length-e.length%3)):this._remainingBytes=!1;let a=this._curLine+s(e);if(this.options.lineLength){let e=(a=o(a,this.options.lineLength)).lastIndexOf("\n");e&lt;0?(this._curLine=a,a=""):(this._curLine=a.substring(e+1),(a=a.substring(0,e+1))&amp;&amp;!a.endsWith("\r\n")&amp;&amp;(a+="\r\n"))}else this._curLine="";a&amp;&amp;(this.outputBytes+=a.length,this.push(Buffer.from(a,"ascii"))),setImmediate(i)}_flush(e){this._remainingBytes&amp;&amp;this._remainingBytes.length&amp;&amp;(this._curLine+=s(this._remainingBytes)),this._curLine&amp;&amp;(this.outputBytes+=this._curLine.length,this.push(Buffer.from(this._curLine,"ascii")),this._curLine=""),e()}}}},46766,(e,t,i)=&gt;{"use strict";let a=e.r(88947).Transform;function s(e){let t;"string"==typeof e&amp;&amp;(e=Buffer.from(e,"utf-8"));let i=[[9],[10],[13],[32,60],[62,126]],a="";for(let s=0,o=e.length;s&lt;o;s++){if(function(e,t){for(let i=t.length-1;i&gt;=0;i--)if(t[i].length&amp;&amp;(1===t[i].length&amp;&amp;e===t[i][0]||2===t[i].length&amp;&amp;e&gt;=t[i][0]&amp;&amp;e&lt;=t[i][1]))return!0;return!1}(t=e[s],i)&amp;&amp;(32!==t&amp;&amp;9!==t||s!==o-1&amp;&amp;10!==e[s+1]&amp;&amp;13!==e[s+1])){a+=String.fromCharCode(t);continue}a+="="+(t&lt;16?"0":"")+t.toString(16).toUpperCase()}return a}function o(e,t){let i,a,s;if(e=(e||"").toString(),t=t||76,e.length&lt;=t)return e;let o=0,n=e.length,r=Math.floor(t/</span><span class="hljs-number">3</span></span>),<span class="hljs-params">p</span>="";<span class="hljs-params">for</span>(<span class="hljs-params">;o&lt;n;</span>){<span class="hljs-params">if</span>(<span class="hljs-params">i=(s=e.substr(o,t</span>)).<span class="hljs-params">match</span>(<span class="hljs-params"><span class="hljs-regexp">/\r\n/</span></span>)){<span class="hljs-params">p</span>+=<span class="hljs-params">s</span>=<span class="hljs-params">s</span>.<span class="hljs-params">substr</span>(<span class="hljs-params"><span class="hljs-number">0</span>,i.index+i[<span class="hljs-number">0</span>].length</span>),<span class="hljs-params">o</span>+=<span class="hljs-params">s</span>.<span class="hljs-params">length</span>;<span class="hljs-params">continue</span>}<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-string">"\n"</span>===s.substr(<span class="hljs-number">-1</span></span>)){<span class="hljs-params">p</span>+=<span class="hljs-params">s</span>,<span class="hljs-params">o</span>+=<span class="hljs-params">s</span>.<span class="hljs-params">length</span>;<span class="hljs-params">continue</span>}<span class="hljs-params">if</span>(<span class="hljs-params">i=s.substr(-r</span>).<span class="hljs-params">match</span>(<span class="hljs-params"><span class="hljs-regexp">/\n.*?$/</span></span>)){<span class="hljs-params">p</span>+=<span class="hljs-params">s</span>=<span class="hljs-params">s</span>.<span class="hljs-params">substr</span>(<span class="hljs-params"><span class="hljs-number">0</span>,s.length-(i[<span class="hljs-number">0</span>].length<span class="hljs-number">-1</span></span>)),<span class="hljs-params">o</span>+=<span class="hljs-params">s</span>.<span class="hljs-params">length</span>;<span class="hljs-params">continue</span>}<span class="hljs-params">if</span>(<span class="hljs-params">s.length&gt;t-r&amp;&amp;(i=s.substr(-r</span>).<span class="hljs-params">match</span>(<span class="hljs-params"><span class="hljs-regexp">/[ \t.,!?][^ \t.,!?]*$/</span></span>)))<span class="hljs-params">s</span>=<span class="hljs-params">s</span>.<span class="hljs-params">substr</span>(<span class="hljs-params"><span class="hljs-number">0</span>,s.length-(i[<span class="hljs-number">0</span>].length<span class="hljs-number">-1</span></span>));<span class="hljs-params">else</span> <span class="hljs-params">if</span>(<span class="hljs-params">s.match(<span class="hljs-regexp">/[=][\da-f]{0,2}$/i</span></span>))<span class="hljs-params">for</span>(<span class="hljs-params">(i=s.match(<span class="hljs-regexp">/[=][\da-f]{0,1}$/i</span></span>))&amp;&amp;(<span class="hljs-params">s=s.substr(<span class="hljs-number">0</span>,s.length-i[<span class="hljs-number">0</span>].length</span>));<span class="hljs-params">s</span>.<span class="hljs-params">length</span>&gt;3&amp;&amp;<span class="hljs-params">s</span>.<span class="hljs-params">length</span>&lt;<span class="hljs-params">n</span>-<span class="hljs-params">o</span>&amp;&amp;!<span class="hljs-params">s</span>.<span class="hljs-params">match</span>(<span class="hljs-params"><span class="hljs-regexp">/^(?:=[\da-f]{2}){1,4}$/i</span></span>)&amp;&amp;(<span class="hljs-params">i=s.match(<span class="hljs-regexp">/[=][\da-f]{2}$/gi</span></span>))&amp;&amp;!(<span class="hljs-params">(a=<span class="hljs-built_in">parseInt</span>(i[<span class="hljs-number">0</span>].substr(<span class="hljs-number">1</span>,<span class="hljs-number">2</span></span>),16))&lt;128)&amp;&amp;(<span class="hljs-params">s=s.substr(<span class="hljs-number">0</span>,s.length<span class="hljs-number">-3</span></span>),!(<span class="hljs-params">a&gt;=<span class="hljs-number">192</span></span>)););<span class="hljs-params">o</span>+<span class="hljs-params">s</span>.<span class="hljs-params">length</span>&lt;<span class="hljs-params">n</span>&amp;&amp;"\<span class="hljs-params">n</span>"!==<span class="hljs-params">s</span>.<span class="hljs-params">substr</span>(<span class="hljs-params"><span class="hljs-number">-1</span></span>)?(<span class="hljs-params">s.length===t&amp;&amp;s.match(<span class="hljs-regexp">/[=][\da-f]{2}$/i</span></span>)?<span class="hljs-params">s</span>=<span class="hljs-params">s</span>.<span class="hljs-params">substr</span>(<span class="hljs-params"><span class="hljs-number">0</span>,s.length<span class="hljs-number">-3</span></span>):<span class="hljs-params">s</span>.<span class="hljs-params">length</span>===<span class="hljs-params">t</span>&amp;&amp;(<span class="hljs-params">s=s.substr(<span class="hljs-number">0</span>,s.length<span class="hljs-number">-1</span></span>)),<span class="hljs-params">o</span>+=<span class="hljs-params">s</span>.<span class="hljs-params">length</span>,<span class="hljs-params">s</span>+="=\<span class="hljs-params">r</span>\<span class="hljs-params">n</span>"):<span class="hljs-params">o</span>+=<span class="hljs-params">s</span>.<span class="hljs-params">length</span>,<span class="hljs-params">p</span>+=<span class="hljs-params">s</span>}<span class="hljs-params">return</span> <span class="hljs-params">p</span>}<span class="hljs-params">t</span>.<span class="hljs-params">exports</span>={<span class="hljs-params">encode</span>:<span class="hljs-params">s</span>,<span class="hljs-params">wrap</span>:<span class="hljs-params">o</span>,<span class="hljs-params">Encoder</span>:<span class="hljs-params">class</span> <span class="hljs-params">extends</span> <span class="hljs-params">a</span>{<span class="hljs-params">constructor</span>(<span class="hljs-params">e</span>){<span class="hljs-params">super</span><span class="hljs-params">()</span>,<span class="hljs-params">this</span>.<span class="hljs-params">options</span>=<span class="hljs-params">e</span>||{},!1!==<span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">lineLength</span>&amp;&amp;(<span class="hljs-params"><span class="hljs-keyword">this</span>.options.lineLength=<span class="hljs-keyword">this</span>.options.lineLength||<span class="hljs-number">76</span></span>),<span class="hljs-params">this</span>.<span class="hljs-params">_curLine</span>="",<span class="hljs-params">this</span>.<span class="hljs-params">inputBytes</span>=0,<span class="hljs-params">this</span>.<span class="hljs-params">outputBytes</span>=0}<span class="hljs-params">_transform</span>(<span class="hljs-params">e,t,i</span>){<span class="hljs-params">let</span> <span class="hljs-params">a</span>;<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-string">"buffer"</span>!==t&amp;&amp;(e=Buffer.<span class="hljs-keyword">from</span>(e,t</span>)),!<span class="hljs-params">e</span>||!<span class="hljs-params">e</span>.<span class="hljs-params">length</span>)<span class="hljs-params">return</span> <span class="hljs-params">i</span><span class="hljs-params">()</span>;<span class="hljs-params">this</span>.<span class="hljs-params">inputBytes</span>+=<span class="hljs-params">e</span>.<span class="hljs-params">length</span>,<span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">lineLength</span>?(<span class="hljs-params">a=(a=o(a=<span class="hljs-keyword">this</span>._curLine+s(e</span>),<span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">lineLength</span>)).<span class="hljs-params">replace</span>(<span class="hljs-params"><span class="hljs-regexp">/(^|\n)([^\n]*)$/</span>,(e,t,i</span>)=&gt;</span><span class="hljs-function">(<span class="hljs-params"><span class="hljs-keyword">this</span>._curLine=i,t</span>)))&amp;&amp;(<span class="hljs-params"><span class="hljs-keyword">this</span>.outputBytes+=a.length,<span class="hljs-keyword">this</span>.push(a</span>)):(<span class="hljs-params">a=s(e</span>),<span class="hljs-params">this</span>.<span class="hljs-params">outputBytes</span>+=<span class="hljs-params">a</span>.<span class="hljs-params">length</span>,<span class="hljs-params">this</span>.<span class="hljs-params">push</span>(<span class="hljs-params">a,<span class="hljs-string">"ascii"</span></span>)),<span class="hljs-params">i</span><span class="hljs-params">()</span>}<span class="hljs-params">_flush</span>(<span class="hljs-params">e</span>){<span class="hljs-params">this</span>.<span class="hljs-params">_curLine</span>&amp;&amp;(<span class="hljs-params"><span class="hljs-keyword">this</span>.outputBytes+=<span class="hljs-keyword">this</span>._curLine.length,<span class="hljs-keyword">this</span>.push(<span class="hljs-keyword">this</span>._curLine,<span class="hljs-string">"ascii"</span></span>)),<span class="hljs-params">e</span><span class="hljs-params">()</span>}}}},4447,(<span class="hljs-params">e,t,i</span>)=&gt;</span>{<span class="hljs-string">"use strict"</span>;<span class="hljs-keyword">let</span> a=e.r(<span class="hljs-number">35289</span>),s=e.r(<span class="hljs-number">46766</span>),o=e.r(<span class="hljs-number">97364</span>);t.exports={<span class="hljs-attr">isPlainText</span>:<span class="hljs-function">(<span class="hljs-params">e,t</span>)=&gt;</span>!<span class="hljs-function">(<span class="hljs-params"><span class="hljs-string">"string"</span>!=<span class="hljs-keyword">typeof</span> e||(t?<span class="hljs-regexp">/[\x00-\x08\x0b\x0c\x0e-\x1f"\u0080-\uFFFF]/</span>:<span class="hljs-regexp">/[\x00-\x08\x0b\x0c\x0e-\x1f\u0080-\uFFFF]/</span></span>).<span class="hljs-params">test</span>(<span class="hljs-params">e</span>)),<span class="hljs-params">hasLongerLines</span>:(<span class="hljs-params">e,t</span>)=&gt;</span>e.length&gt;<span class="hljs-number">131072</span>||<span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"^.{"</span>+<span class="hljs-function">(<span class="hljs-params">t+<span class="hljs-number">1</span></span>)+",}","<span class="hljs-params">m</span>").<span class="hljs-params">test</span>(<span class="hljs-params">e</span>),<span class="hljs-params">encodeWord</span>(<span class="hljs-params">e,t,i</span>){<span class="hljs-params">let</span> <span class="hljs-params">o</span>;<span class="hljs-params">t</span>=(<span class="hljs-params">t||<span class="hljs-string">"Q"</span></span>).<span class="hljs-params">toString</span><span class="hljs-params">()</span>.<span class="hljs-params">toUpperCase</span><span class="hljs-params">()</span>.<span class="hljs-params">trim</span><span class="hljs-params">()</span>.<span class="hljs-params">charAt</span>(<span class="hljs-params"><span class="hljs-number">0</span></span>);<span class="hljs-params">let</span> <span class="hljs-params">n</span>="<span class="hljs-params">UTF</span>-8";<span class="hljs-params">if</span>(<span class="hljs-params">(i=i||<span class="hljs-number">0</span></span>)&amp;&amp;<span class="hljs-params">i</span>&gt;7+<span class="hljs-params">n</span>.<span class="hljs-params">length</span>&amp;&amp;(<span class="hljs-params">i-=<span class="hljs-number">7</span>+n.length</span>),"<span class="hljs-params">Q</span>"===<span class="hljs-params">t</span>?<span class="hljs-params">o</span>=<span class="hljs-params">s</span>.<span class="hljs-params">encode</span>(<span class="hljs-params">e</span>).<span class="hljs-params">replace</span>(<span class="hljs-params"><span class="hljs-regexp">/[^a-z0-9!*+\-/=]/gi</span>,e=&gt;{<span class="hljs-keyword">let</span> t=e.charCodeAt(<span class="hljs-number">0</span></span>).<span class="hljs-params">toString</span>(<span class="hljs-params"><span class="hljs-number">16</span></span>).<span class="hljs-params">toUpperCase</span><span class="hljs-params">()</span>;<span class="hljs-params">return</span>" "===<span class="hljs-params">e</span>?"<span class="hljs-params">_</span>":"="+(<span class="hljs-params"><span class="hljs-number">1</span>===t.length?<span class="hljs-string">"0"</span>+t:t</span>)}):"<span class="hljs-params">B</span>"===<span class="hljs-params">t</span>&amp;&amp;(<span class="hljs-params">o=<span class="hljs-string">"string"</span>==<span class="hljs-keyword">typeof</span> e?e:a.encode(e</span>),<span class="hljs-params">i</span>=<span class="hljs-params">i</span>?<span class="hljs-params">Math</span>.<span class="hljs-params">max</span>(<span class="hljs-params"><span class="hljs-number">3</span>,(i-i%<span class="hljs-number">4</span></span>)/4*3):0),<span class="hljs-params">i</span>&amp;&amp;(<span class="hljs-params"><span class="hljs-string">"B"</span>!==t?o:a.encode(e</span>)).<span class="hljs-params">length</span>&gt;<span class="hljs-params">i</span>)<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-string">"Q"</span>===t</span>)<span class="hljs-params">o</span>=<span class="hljs-params">this</span>.<span class="hljs-params">splitMimeEncodedString</span>(<span class="hljs-params">o,i</span>).<span class="hljs-params">join</span>(<span class="hljs-params"><span class="hljs-string">"?= =?"</span>+n+<span class="hljs-string">"?"</span>+t+<span class="hljs-string">"?"</span></span>);<span class="hljs-params">else</span>{<span class="hljs-params">let</span> <span class="hljs-params">e</span>=[],<span class="hljs-params">s</span>="";<span class="hljs-params">for</span>(<span class="hljs-params"><span class="hljs-keyword">let</span> t=<span class="hljs-number">0</span>,n=o.length;t&lt;n;t++</span>){<span class="hljs-params">let</span> <span class="hljs-params">r</span>=<span class="hljs-params">o</span>.<span class="hljs-params">charAt</span>(<span class="hljs-params">t</span>);/[\<span class="hljs-params">ud83c</span>\<span class="hljs-params">ud83d</span>\<span class="hljs-params">ud83e</span>]/.<span class="hljs-params">test</span>(<span class="hljs-params">r</span>)&amp;&amp;<span class="hljs-params">t</span>&lt;<span class="hljs-params">n</span>-1&amp;&amp;(<span class="hljs-params">r+=o.charAt(++t</span>)),<span class="hljs-params">Buffer</span>.<span class="hljs-params">byteLength</span>(<span class="hljs-params">s+r</span>)&lt;=<span class="hljs-params">i</span>||0===<span class="hljs-params">t</span>?<span class="hljs-params">s</span>+=<span class="hljs-params">r</span>:(<span class="hljs-params">e.push(a.encode(s</span>)),<span class="hljs-params">s</span>=<span class="hljs-params">r</span>)}<span class="hljs-params">s</span>&amp;&amp;<span class="hljs-params">e</span>.<span class="hljs-params">push</span>(<span class="hljs-params">a.encode(s</span>)),<span class="hljs-params">o</span>=<span class="hljs-params">e</span>.<span class="hljs-params">length</span>&gt;1?<span class="hljs-params">e</span>.<span class="hljs-params">join</span>(<span class="hljs-params"><span class="hljs-string">"?= =?"</span>+n+<span class="hljs-string">"?"</span>+t+<span class="hljs-string">"?"</span></span>):<span class="hljs-params">e</span>.<span class="hljs-params">join</span>(<span class="hljs-params"><span class="hljs-string">""</span></span>)}<span class="hljs-params">else</span>"<span class="hljs-params">B</span>"===<span class="hljs-params">t</span>&amp;&amp;(<span class="hljs-params">o=a.encode(e</span>));<span class="hljs-params">return</span>"=?"+<span class="hljs-params">n</span>+"?"+<span class="hljs-params">t</span>+"?"+<span class="hljs-params">o</span>+(<span class="hljs-params"><span class="hljs-string">"?="</span>===o.substr(<span class="hljs-number">-2</span></span>)?"":"?=")},<span class="hljs-params">encodeWords</span>(<span class="hljs-params">e,t,i,a</span>){<span class="hljs-params">i</span>=<span class="hljs-params">i</span>||0;<span class="hljs-params">let</span> <span class="hljs-params">s</span>=<span class="hljs-params">e</span>.<span class="hljs-params">match</span>(<span class="hljs-params"><span class="hljs-regexp">/(?:^|\s)([^\s]*["\u0080-\uFFFF])/</span></span>);<span class="hljs-params">if</span>(<span class="hljs-params">!s</span>)<span class="hljs-params">return</span> <span class="hljs-params">e</span>;<span class="hljs-params">if</span>(<span class="hljs-params">a</span>)<span class="hljs-params">return</span> <span class="hljs-params">this</span>.<span class="hljs-params">encodeWord</span>(<span class="hljs-params">e,t,i</span>);<span class="hljs-params">let</span> <span class="hljs-params">o</span>=<span class="hljs-params">e</span>.<span class="hljs-params">match</span>(<span class="hljs-params"><span class="hljs-regexp">/(["\u0080-\uFFFF][^\s]*)[^"\u0080-\uFFFF]*$/</span></span>);<span class="hljs-params">if</span>(<span class="hljs-params">!o</span>)<span class="hljs-params">return</span> <span class="hljs-params">e</span>;<span class="hljs-params">let</span> <span class="hljs-params">n</span>=<span class="hljs-params">s</span>.<span class="hljs-params">index</span>+(<span class="hljs-params">s[<span class="hljs-number">0</span>].match(<span class="hljs-regexp">/[^\s]/</span></span>)||{<span class="hljs-params">index</span>:0}).<span class="hljs-params">index</span>,<span class="hljs-params">r</span>=<span class="hljs-params">o</span>.<span class="hljs-params">index</span>+(<span class="hljs-params">o[<span class="hljs-number">1</span>]||<span class="hljs-string">""</span></span>).<span class="hljs-params">length</span>;<span class="hljs-params">return</span>(<span class="hljs-params">n?e.substr(<span class="hljs-number">0</span>,n</span>):"")+<span class="hljs-params">this</span>.<span class="hljs-params">encodeWord</span>(<span class="hljs-params">e.substring(n,r</span>),<span class="hljs-params">t</span>||"<span class="hljs-params">Q</span>",<span class="hljs-params">i</span>)+(<span class="hljs-params">r&lt;e.length?e.substr(r</span>):"")},<span class="hljs-params">buildHeaderValue</span>(<span class="hljs-params">e</span>){<span class="hljs-params">let</span> <span class="hljs-params">t</span>=[];<span class="hljs-params">return</span> <span class="hljs-params">Object</span>.<span class="hljs-params">keys</span>(<span class="hljs-params">e.params||{}</span>).<span class="hljs-params">forEach</span>(<span class="hljs-params">i=&gt;{<span class="hljs-keyword">let</span> a=e.params[i];!<span class="hljs-keyword">this</span>.isPlainText(a,!<span class="hljs-number">0</span></span>)||<span class="hljs-params">a</span>.<span class="hljs-params">length</span>&gt;=75?<span class="hljs-params">this</span>.<span class="hljs-params">buildHeaderParam</span>(<span class="hljs-params">i,a,<span class="hljs-number">50</span></span>).<span class="hljs-params">forEach</span>(<span class="hljs-params">e=&gt;{<span class="hljs-regexp">/[\s"\\;:/=(),&lt;&gt;@[\]?]|^[-']|'$/</span>.test(e.value</span>)&amp;&amp;"*"!==<span class="hljs-params">e</span>.<span class="hljs-params">key</span>.<span class="hljs-params">substr</span>(<span class="hljs-params"><span class="hljs-number">-1</span></span>)?<span class="hljs-params">t</span>.<span class="hljs-params">push</span>(<span class="hljs-params">e.key+<span class="hljs-string">"="</span>+<span class="hljs-built_in">JSON</span>.stringify(e.value</span>)):<span class="hljs-params">t</span>.<span class="hljs-params">push</span>(<span class="hljs-params">e.key+<span class="hljs-string">"="</span>+e.value</span>)}):/[\<span class="hljs-params">s</span>'"\\;:/=<span class="hljs-params">()</span>,&lt;&gt;@[\]?]|^-/.<span class="hljs-params">test</span>(<span class="hljs-params">a</span>)?<span class="hljs-params">t</span>.<span class="hljs-params">push</span>(<span class="hljs-params">i+<span class="hljs-string">"="</span>+<span class="hljs-built_in">JSON</span>.stringify(a</span>)):<span class="hljs-params">t</span>.<span class="hljs-params">push</span>(<span class="hljs-params">i+<span class="hljs-string">"="</span>+a</span>)}),<span class="hljs-params">e</span>.<span class="hljs-params">value</span>+(<span class="hljs-params">t.length?<span class="hljs-string">"; "</span>+t.join(<span class="hljs-string">"; "</span></span>):"")},<span class="hljs-params">buildHeaderParam</span>(<span class="hljs-params">e,t,i</span>){<span class="hljs-params">let</span> <span class="hljs-params">a</span>,<span class="hljs-params">s</span>,<span class="hljs-params">o</span>,<span class="hljs-params">n</span>,<span class="hljs-params">r</span>,<span class="hljs-params">p</span>,<span class="hljs-params">c</span>=[],<span class="hljs-params">l</span>="<span class="hljs-params">string</span>"==<span class="hljs-params">typeof</span> <span class="hljs-params">t</span>?<span class="hljs-params">t</span>:(<span class="hljs-params">t||<span class="hljs-string">""</span></span>).<span class="hljs-params">toString</span><span class="hljs-params">()</span>,<span class="hljs-params">d</span>=0;<span class="hljs-params">if</span>(<span class="hljs-params">i=i||<span class="hljs-number">50</span>,<span class="hljs-keyword">this</span>.isPlainText(t,!<span class="hljs-number">0</span></span>)){<span class="hljs-params">if</span>(<span class="hljs-params">l.length&lt;=i</span>)<span class="hljs-params">return</span>[{<span class="hljs-params">key</span>:<span class="hljs-params">e</span>,<span class="hljs-params">value</span>:<span class="hljs-params">l</span>}];(<span class="hljs-params">l=l.replace(<span class="hljs-built_in">RegExp</span>(<span class="hljs-string">".{"</span>+i+<span class="hljs-string">"}"</span>,<span class="hljs-string">"g"</span></span>),<span class="hljs-params">e</span>=&gt;</span><span class="hljs-function">(<span class="hljs-params">c.push({line:e}</span>),"")))&amp;&amp;<span class="hljs-params">c</span>.<span class="hljs-params">push</span>(<span class="hljs-params">{line:l}</span>)}<span class="hljs-params">else</span>{<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-regexp">/[\uD800-\uDBFF]/</span>.test(l</span>)){<span class="hljs-params">for</span>(<span class="hljs-params">r=<span class="hljs-number">0</span>,a=[],p=l.length;r&lt;p;r++</span>)(<span class="hljs-params">o=(s=l.charAt(r</span>)).<span class="hljs-params">charCodeAt</span>(<span class="hljs-params"><span class="hljs-number">0</span></span>))&gt;=55296&amp;&amp;<span class="hljs-params">o</span>&lt;=56319&amp;&amp;<span class="hljs-params">r</span>&lt;<span class="hljs-params">p</span>-1?(<span class="hljs-params">s+=l.charAt(r+<span class="hljs-number">1</span></span>),<span class="hljs-params">a</span>.<span class="hljs-params">push</span>(<span class="hljs-params">s</span>),<span class="hljs-params">r</span>++):<span class="hljs-params">a</span>.<span class="hljs-params">push</span>(<span class="hljs-params">s</span>);<span class="hljs-params">l</span>=<span class="hljs-params">a</span>}<span class="hljs-params">n</span>="<span class="hljs-params">utf</span>-8''";<span class="hljs-params">let</span> <span class="hljs-params">e</span>=!0;<span class="hljs-params">for</span>(<span class="hljs-params">r=<span class="hljs-number">0</span>,d=<span class="hljs-number">0</span>,p=l.length;r&lt;p;r++</span>){<span class="hljs-params">if</span>(<span class="hljs-params">s=l[r],e</span>)<span class="hljs-params">s</span>=<span class="hljs-params">this</span>.<span class="hljs-params">safeEncodeURIComponent</span>(<span class="hljs-params">s</span>);<span class="hljs-params">else</span> <span class="hljs-params">if</span>(<span class="hljs-params">(s=<span class="hljs-string">" "</span>===s?s:<span class="hljs-keyword">this</span>.safeEncodeURIComponent(s</span>))!==<span class="hljs-params">l</span>[<span class="hljs-params">r</span>])<span class="hljs-params">if</span>(<span class="hljs-params">(<span class="hljs-keyword">this</span>.safeEncodeURIComponent(n</span>)+<span class="hljs-params">s</span>).<span class="hljs-params">length</span>&gt;=<span class="hljs-params">i</span>)<span class="hljs-params">c</span>.<span class="hljs-params">push</span>(<span class="hljs-params">{line:n,encoded:e}</span>),<span class="hljs-params">n</span>="",<span class="hljs-params">d</span>=<span class="hljs-params">r</span>-1;<span class="hljs-params">else</span>{<span class="hljs-params">e</span>=!0,<span class="hljs-params">r</span>=<span class="hljs-params">d</span>,<span class="hljs-params">n</span>="";<span class="hljs-params">continue</span>}(<span class="hljs-params">n+s</span>).<span class="hljs-params">length</span>&gt;=<span class="hljs-params">i</span>?(<span class="hljs-params">c.push({line:n,encoded:e}</span>),<span class="hljs-params">n</span>=<span class="hljs-params">s</span>=" "===<span class="hljs-params">l</span>[<span class="hljs-params">r</span>]?" ":<span class="hljs-params">this</span>.<span class="hljs-params">safeEncodeURIComponent</span>(<span class="hljs-params">l[r]</span>),<span class="hljs-params">s</span>===<span class="hljs-params">l</span>[<span class="hljs-params">r</span>]?(<span class="hljs-params">e=!<span class="hljs-number">1</span>,d=r<span class="hljs-number">-1</span></span>):<span class="hljs-params">e</span>=!0):<span class="hljs-params">n</span>+=<span class="hljs-params">s</span>}<span class="hljs-params">n</span>&amp;&amp;<span class="hljs-params">c</span>.<span class="hljs-params">push</span>(<span class="hljs-params">{line:n,encoded:e}</span>)}<span class="hljs-params">return</span> <span class="hljs-params">c</span>.<span class="hljs-params">map</span>(<span class="hljs-params">(t,i</span>)=&gt;</span><span class="hljs-function">(<span class="hljs-params">{key:e+<span class="hljs-string">"*"</span>+i+(t.encoded?<span class="hljs-string">"*"</span>:<span class="hljs-string">""</span></span>),<span class="hljs-params">value</span>:<span class="hljs-params">t</span>.<span class="hljs-params">line</span>}))},<span class="hljs-params">parseHeaderValue</span>(<span class="hljs-params">e</span>){<span class="hljs-params">let</span> <span class="hljs-params">t</span>,<span class="hljs-params">i</span>={<span class="hljs-params">value</span>:!1,<span class="hljs-params">params</span>:{}},<span class="hljs-params">a</span>=!1,<span class="hljs-params">s</span>="",<span class="hljs-params">o</span>="<span class="hljs-params">value</span>",<span class="hljs-params">n</span>=!1,<span class="hljs-params">r</span>=!1;<span class="hljs-params">for</span>(<span class="hljs-params"><span class="hljs-keyword">let</span> p=<span class="hljs-number">0</span>,c=e.length;p&lt;c;p++</span>)<span class="hljs-params">if</span>(<span class="hljs-params">t=e.charAt(p</span>),"<span class="hljs-params">key</span>"===<span class="hljs-params">o</span>){<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-string">"="</span>===t</span>){<span class="hljs-params">a</span>=<span class="hljs-params">s</span>.<span class="hljs-params">trim</span><span class="hljs-params">()</span>.<span class="hljs-params">toLowerCase</span><span class="hljs-params">()</span>,<span class="hljs-params">o</span>="<span class="hljs-params">value</span>",<span class="hljs-params">s</span>="";<span class="hljs-params">continue</span>}<span class="hljs-params">s</span>+=<span class="hljs-params">t</span>}<span class="hljs-params">else</span>{<span class="hljs-params">if</span>(<span class="hljs-params">r</span>)<span class="hljs-params">s</span>+=<span class="hljs-params">t</span>;<span class="hljs-params">else</span> <span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-string">"\\"</span>===t</span>){<span class="hljs-params">r</span>=!0;<span class="hljs-params">continue</span>}<span class="hljs-params">else</span> <span class="hljs-params">n</span>&amp;&amp;<span class="hljs-params">t</span>===<span class="hljs-params">n</span>?<span class="hljs-params">n</span>=!1:<span class="hljs-params">n</span>||'"'!==<span class="hljs-params">t</span>?<span class="hljs-params">n</span>||";"!==<span class="hljs-params">t</span>?<span class="hljs-params">s</span>+=<span class="hljs-params">t</span>:(<span class="hljs-params">!<span class="hljs-number">1</span>===a?i.value=s.trim(</span>):<span class="hljs-params">i</span>.<span class="hljs-params">params</span>[<span class="hljs-params">a</span>]=<span class="hljs-params">s</span>.<span class="hljs-params">trim</span><span class="hljs-params">()</span>,<span class="hljs-params">o</span>="<span class="hljs-params">key</span>",<span class="hljs-params">s</span>=""):<span class="hljs-params">n</span>=<span class="hljs-params">t</span>;<span class="hljs-params">r</span>=!1}<span class="hljs-params">return</span>"<span class="hljs-params">value</span>"===<span class="hljs-params">o</span>?!1===<span class="hljs-params">a</span>?<span class="hljs-params">i</span>.<span class="hljs-params">value</span>=<span class="hljs-params">s</span>.<span class="hljs-params">trim</span><span class="hljs-params">()</span>:<span class="hljs-params">i</span>.<span class="hljs-params">params</span>[<span class="hljs-params">a</span>]=<span class="hljs-params">s</span>.<span class="hljs-params">trim</span><span class="hljs-params">()</span>:<span class="hljs-params">s</span>.<span class="hljs-params">trim</span><span class="hljs-params">()</span>&amp;&amp;(<span class="hljs-params">i.params[s.trim(</span>).<span class="hljs-params">toLowerCase</span><span class="hljs-params">()</span>]=""),<span class="hljs-params">Object</span>.<span class="hljs-params">keys</span>(<span class="hljs-params">i.params</span>).<span class="hljs-params">forEach</span>(<span class="hljs-params">e=&gt;{<span class="hljs-keyword">let</span> t,a,s,o;(s=e.match(<span class="hljs-regexp">/(\*(\d+)|\*(\d+)\*|\*)$/</span></span>))&amp;&amp;(<span class="hljs-params">t=e.substr(<span class="hljs-number">0</span>,s.index</span>),<span class="hljs-params">a</span>=<span class="hljs-params">Number</span>(<span class="hljs-params">s[<span class="hljs-number">2</span>]||s[<span class="hljs-number">3</span>]</span>)||0,<span class="hljs-params">i</span>.<span class="hljs-params">params</span>[<span class="hljs-params">t</span>]&amp;&amp;"<span class="hljs-params">object</span>"==<span class="hljs-params">typeof</span> <span class="hljs-params">i</span>.<span class="hljs-params">params</span>[<span class="hljs-params">t</span>]||(<span class="hljs-params">i.params[t]={charset:!<span class="hljs-number">1</span>,values:[]}</span>),<span class="hljs-params">o</span>=<span class="hljs-params">i</span>.<span class="hljs-params">params</span>[<span class="hljs-params">e</span>],0===<span class="hljs-params">a</span>&amp;&amp;"*"===<span class="hljs-params">s</span>[0].<span class="hljs-params">substr</span>(<span class="hljs-params"><span class="hljs-number">-1</span></span>)&amp;&amp;(<span class="hljs-params">s=o.match(<span class="hljs-regexp">/^([^']*)'[^']*'(.*)$/</span></span>))&amp;&amp;(<span class="hljs-params">i.params[t].charset=s[<span class="hljs-number">1</span>]||<span class="hljs-string">"iso-8859-1"</span>,o=s[<span class="hljs-number">2</span>]</span>),<span class="hljs-params">i</span>.<span class="hljs-params">params</span>[<span class="hljs-params">t</span>].<span class="hljs-params">values</span>[<span class="hljs-params">a</span>]=<span class="hljs-params">o</span>,<span class="hljs-params">delete</span> <span class="hljs-params">i</span>.<span class="hljs-params">params</span>[<span class="hljs-params">e</span>])}),<span class="hljs-params">Object</span>.<span class="hljs-params">keys</span>(<span class="hljs-params">i.params</span>).<span class="hljs-params">forEach</span>(<span class="hljs-params">e=&gt;{<span class="hljs-keyword">let</span> t;i.params[e]&amp;&amp;<span class="hljs-built_in">Array</span>.isArray(i.params[e].values</span>)&amp;&amp;(<span class="hljs-params">t=i.params[e].values.map(e=&gt;e||<span class="hljs-string">""</span></span>).<span class="hljs-params">join</span>(<span class="hljs-params"><span class="hljs-string">""</span></span>),<span class="hljs-params">i</span>.<span class="hljs-params">params</span>[<span class="hljs-params">e</span>].<span class="hljs-params">charset</span>?<span class="hljs-params">i</span>.<span class="hljs-params">params</span>[<span class="hljs-params">e</span>]="=?"+<span class="hljs-params">i</span>.<span class="hljs-params">params</span>[<span class="hljs-params">e</span>].<span class="hljs-params">charset</span>+"?<span class="hljs-params">Q</span>?"+<span class="hljs-params">t</span>.<span class="hljs-params">replace</span>(<span class="hljs-params"><span class="hljs-regexp">/[=?_\s]/g</span>,e=&gt;{<span class="hljs-keyword">let</span> t=e.charCodeAt(<span class="hljs-number">0</span></span>).<span class="hljs-params">toString</span>(<span class="hljs-params"><span class="hljs-number">16</span></span>);<span class="hljs-params">return</span>" "===<span class="hljs-params">e</span>?"<span class="hljs-params">_</span>":"%"+(<span class="hljs-params">t.length&lt;<span class="hljs-number">2</span>?<span class="hljs-string">"0"</span>:<span class="hljs-string">""</span></span>)+<span class="hljs-params">t</span>}).<span class="hljs-params">replace</span>(<span class="hljs-params"><span class="hljs-regexp">/%/g</span>,<span class="hljs-string">"="</span></span>)+"?=":<span class="hljs-params">i</span>.<span class="hljs-params">params</span>[<span class="hljs-params">e</span>]=<span class="hljs-params">t</span>)}),<span class="hljs-params">i</span>},<span class="hljs-params">detectExtension</span>:<span class="hljs-params">e</span>=&gt;</span>o.detectExtension(e),<span class="hljs-attr">detectMimeType</span>:<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>o.detectMimeType(e),foldLines(e,t,i){e=<span class="hljs-function">(<span class="hljs-params">e||<span class="hljs-string">""</span></span>).<span class="hljs-params">toString</span><span class="hljs-params">()</span>,<span class="hljs-params">t</span>=<span class="hljs-params">t</span>||76;<span class="hljs-params">let</span> <span class="hljs-params">a</span>=0,<span class="hljs-params">s</span>=<span class="hljs-params">e</span>.<span class="hljs-params">length</span>,<span class="hljs-params">o</span>="",<span class="hljs-params">n</span>,<span class="hljs-params">r</span>;<span class="hljs-params">for</span>(<span class="hljs-params">;a&lt;s;</span>){<span class="hljs-params">if</span>(<span class="hljs-params">(n=e.substr(a,t</span>)).<span class="hljs-params">length</span>&lt;<span class="hljs-params">t</span>){<span class="hljs-params">o</span>+=<span class="hljs-params">n</span>;<span class="hljs-params">break</span>}<span class="hljs-params">if</span>(<span class="hljs-params">r=n.match(<span class="hljs-regexp">/^[^\n\r]*(\r?\n|\r)/</span></span>)){<span class="hljs-params">o</span>+=<span class="hljs-params">n</span>=<span class="hljs-params">r</span>[0],<span class="hljs-params">a</span>+=<span class="hljs-params">n</span>.<span class="hljs-params">length</span>;<span class="hljs-params">continue</span>}(<span class="hljs-params">r=n.match(<span class="hljs-regexp">/(\s+)[^\s]*$/</span></span>))&amp;&amp;<span class="hljs-params">r</span>[0].<span class="hljs-params">length</span>-(<span class="hljs-params">i?(r[<span class="hljs-number">1</span>]||<span class="hljs-string">""</span></span>).<span class="hljs-params">length</span>:0)&lt;<span class="hljs-params">n</span>.<span class="hljs-params">length</span>?<span class="hljs-params">n</span>=<span class="hljs-params">n</span>.<span class="hljs-params">substr</span>(<span class="hljs-params"><span class="hljs-number">0</span>,n.length-(r[<span class="hljs-number">0</span>].length-(i?(r[<span class="hljs-number">1</span>]||<span class="hljs-string">""</span></span>).<span class="hljs-params">length</span>:0))):(<span class="hljs-params">r=e.substr(a+n.length</span>).<span class="hljs-params">match</span>(<span class="hljs-params"><span class="hljs-regexp">/^[^\s]+(\s*)/</span></span>))&amp;&amp;(<span class="hljs-params">n+=r[<span class="hljs-number">0</span>].substr(<span class="hljs-number">0</span>,r[<span class="hljs-number">0</span>].length-(i?<span class="hljs-number">0</span>:(r[<span class="hljs-number">1</span>]||<span class="hljs-string">""</span></span>).<span class="hljs-params">length</span>))),<span class="hljs-params">o</span>+=<span class="hljs-params">n</span>,(<span class="hljs-params">a+=n.length</span>)&lt;<span class="hljs-params">s</span>&amp;&amp;(<span class="hljs-params">o+=<span class="hljs-string">"\r\n"</span></span>)}<span class="hljs-params">return</span> <span class="hljs-params">o</span>},<span class="hljs-params">splitMimeEncodedString</span>:(<span class="hljs-params">e,t</span>)=&gt;</span>{<span class="hljs-keyword">let</span> i,a,s,o,n=[];<span class="hljs-keyword">for</span>(t=<span class="hljs-built_in">Math</span>.max(t||<span class="hljs-number">0</span>,<span class="hljs-number">12</span>);e.length;){<span class="hljs-keyword">for</span>(<span class="hljs-function">(<span class="hljs-params">a=(i=e.substr(<span class="hljs-number">0</span>,t</span>)).<span class="hljs-params">match</span>(<span class="hljs-params"><span class="hljs-regexp">/[=][0-9A-F]?$/i</span></span>))&amp;&amp;(<span class="hljs-params">i=i.substr(<span class="hljs-number">0</span>,a.index</span>)),<span class="hljs-params">o</span>=!1;!<span class="hljs-params">o</span>;)<span class="hljs-params">o</span>=!0,(<span class="hljs-params">a=e.substr(i.length</span>).<span class="hljs-params">match</span>(<span class="hljs-params"><span class="hljs-regexp">/^[=]([0-9A-F]{2})/i</span></span>))&amp;&amp;(<span class="hljs-params">s=<span class="hljs-built_in">parseInt</span>(a[<span class="hljs-number">1</span>],<span class="hljs-number">16</span></span>))&lt;194&amp;&amp;<span class="hljs-params">s</span>&gt;127&amp;&amp;(<span class="hljs-params">i=i.substr(<span class="hljs-number">0</span>,i.length<span class="hljs-number">-3</span></span>),<span class="hljs-params">o</span>=!1);<span class="hljs-params">i</span>.<span class="hljs-params">length</span>&amp;&amp;<span class="hljs-params">n</span>.<span class="hljs-params">push</span>(<span class="hljs-params">i</span>),<span class="hljs-params">e</span>=<span class="hljs-params">e</span>.<span class="hljs-params">substr</span>(<span class="hljs-params">i.length</span>)}<span class="hljs-params">return</span> <span class="hljs-params">n</span>},<span class="hljs-params">encodeURICharComponent</span>:<span class="hljs-params">e</span>=&gt;</span>{<span class="hljs-keyword">let</span> t=<span class="hljs-string">""</span>,i=e.charCodeAt(<span class="hljs-number">0</span>).toString(<span class="hljs-number">16</span>).toUpperCase();<span class="hljs-keyword">if</span>(i.length%<span class="hljs-number">2</span>&amp;&amp;<span class="hljs-function">(<span class="hljs-params">i=<span class="hljs-string">"0"</span>+i</span>),<span class="hljs-params">i</span>.<span class="hljs-params">length</span>&gt;2)<span class="hljs-params">for</span>(<span class="hljs-params"><span class="hljs-keyword">let</span> e=<span class="hljs-number">0</span>,a=i.length<span class="hljs-regexp">/2;e&lt;a;e++)t+="%"+i.substr(e,2);else t+="%"+i;return t},safeEncodeURIComponent(e){e=(e||"").toString();try{e=encodeURIComponent(e)}catch(t){return e.replace(/</span>[^\x00-\x1F *<span class="hljs-string">'()&lt;&gt;@,;:\\"[\]?=\u007F-\uFFFF]+/g,"")}return e.replace(/[\x00-\x1F *'</span>(</span>)&lt;&gt;@,;:\\"[\]?=\<span class="hljs-params">u007F</span>-\<span class="hljs-params">uFFFF</span>]/<span class="hljs-params">g</span>,<span class="hljs-params">e</span>=&gt;</span><span class="hljs-keyword">this</span>.encodeURICharComponent(e))}}},<span class="hljs-number">4417</span>,(e,t,i)=&gt;{<span class="hljs-string">"use strict"</span>;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">a</span></span>{<span class="hljs-keyword">constructor</span>(e){<span class="hljs-keyword">this</span>.str=<span class="hljs-function">(<span class="hljs-params">e||<span class="hljs-string">""</span></span>).<span class="hljs-params">toString</span><span class="hljs-params">()</span>,<span class="hljs-params">this</span>.<span class="hljs-params">operatorCurrent</span>="",<span class="hljs-params">this</span>.<span class="hljs-params">operatorExpecting</span>="",<span class="hljs-params">this</span>.<span class="hljs-params">node</span>=<span class="hljs-params">null</span>,<span class="hljs-params">this</span>.<span class="hljs-params">escaped</span>=!1,<span class="hljs-params">this</span>.<span class="hljs-params">list</span>=[],<span class="hljs-params">this</span>.<span class="hljs-params">operators</span>={'"':'"',"(<span class="hljs-params"><span class="hljs-string">":"</span></span>)","&lt;":"&gt;",",":"",":":";",";":""}}<span class="hljs-params">tokenize</span><span class="hljs-params">()</span>{<span class="hljs-params">let</span> <span class="hljs-params">e</span>=[];<span class="hljs-params">for</span>(<span class="hljs-params"><span class="hljs-keyword">let</span> e=<span class="hljs-number">0</span>,t=<span class="hljs-keyword">this</span>.str.length;e&lt;t;e++</span>){<span class="hljs-params">let</span> <span class="hljs-params">i</span>=<span class="hljs-params">this</span>.<span class="hljs-params">str</span>.<span class="hljs-params">charAt</span>(<span class="hljs-params">e</span>),<span class="hljs-params">a</span>=<span class="hljs-params">e</span>&lt;<span class="hljs-params">t</span>-1?<span class="hljs-params">this</span>.<span class="hljs-params">str</span>.<span class="hljs-params">charAt</span>(<span class="hljs-params">e+<span class="hljs-number">1</span></span>):<span class="hljs-params">null</span>;<span class="hljs-params">this</span>.<span class="hljs-params">checkChar</span>(<span class="hljs-params">i,a</span>)}<span class="hljs-params">return</span> <span class="hljs-params">this</span>.<span class="hljs-params">list</span>.<span class="hljs-params">forEach</span>(<span class="hljs-params">t=&gt;{t.value=(t.value||<span class="hljs-string">""</span></span>).<span class="hljs-params">toString</span><span class="hljs-params">()</span>.<span class="hljs-params">trim</span><span class="hljs-params">()</span>,<span class="hljs-params">t</span>.<span class="hljs-params">value</span>&amp;&amp;<span class="hljs-params">e</span>.<span class="hljs-params">push</span>(<span class="hljs-params">t</span>)}),<span class="hljs-params">e</span>}<span class="hljs-params">checkChar</span>(<span class="hljs-params">e,t</span>){<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>.escaped</span>);<span class="hljs-params">else</span> <span class="hljs-params">if</span>(<span class="hljs-params">e===<span class="hljs-keyword">this</span>.operatorExpecting</span>){<span class="hljs-params">this</span>.<span class="hljs-params">node</span>={<span class="hljs-params">type</span>:"<span class="hljs-params">operator</span>",<span class="hljs-params">value</span>:<span class="hljs-params">e</span>},<span class="hljs-params">t</span>&amp;&amp;![" ","	","\<span class="hljs-params">r</span>","\<span class="hljs-params">n</span>",",",";"].<span class="hljs-params">includes</span>(<span class="hljs-params">t</span>)&amp;&amp;(<span class="hljs-params"><span class="hljs-keyword">this</span>.node.noBreak=!<span class="hljs-number">0</span></span>),<span class="hljs-params">this</span>.<span class="hljs-params">list</span>.<span class="hljs-params">push</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>.node</span>),<span class="hljs-params">this</span>.<span class="hljs-params">node</span>=<span class="hljs-params">null</span>,<span class="hljs-params">this</span>.<span class="hljs-params">operatorExpecting</span>="",<span class="hljs-params">this</span>.<span class="hljs-params">escaped</span>=!1;<span class="hljs-params">return</span>}<span class="hljs-params">else</span> <span class="hljs-params">if</span>(<span class="hljs-params">!<span class="hljs-keyword">this</span>.operatorExpecting&amp;&amp;e <span class="hljs-keyword">in</span> <span class="hljs-keyword">this</span>.operators</span>){<span class="hljs-params">this</span>.<span class="hljs-params">node</span>={<span class="hljs-params">type</span>:"<span class="hljs-params">operator</span>",<span class="hljs-params">value</span>:<span class="hljs-params">e</span>},<span class="hljs-params">this</span>.<span class="hljs-params">list</span>.<span class="hljs-params">push</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>.node</span>),<span class="hljs-params">this</span>.<span class="hljs-params">node</span>=<span class="hljs-params">null</span>,<span class="hljs-params">this</span>.<span class="hljs-params">operatorExpecting</span>=<span class="hljs-params">this</span>.<span class="hljs-params">operators</span>[<span class="hljs-params">e</span>],<span class="hljs-params">this</span>.<span class="hljs-params">escaped</span>=!1;<span class="hljs-params">return</span>}<span class="hljs-params">else</span> <span class="hljs-params">if</span>(<span class="hljs-params">[<span class="hljs-string">'"'</span>,<span class="hljs-string">"'"</span>].includes(<span class="hljs-keyword">this</span>.operatorExpecting</span>)&amp;&amp;"\\"===<span class="hljs-params">e</span>){<span class="hljs-params">this</span>.<span class="hljs-params">escaped</span>=!0;<span class="hljs-params">return</span>}<span class="hljs-params">this</span>.<span class="hljs-params">node</span>||(<span class="hljs-params"><span class="hljs-keyword">this</span>.node={type:<span class="hljs-string">"text"</span>,value:<span class="hljs-string">""</span>},<span class="hljs-keyword">this</span>.list.push(<span class="hljs-keyword">this</span>.node</span>)),"\<span class="hljs-params">n</span>"===<span class="hljs-params">e</span>&amp;&amp;(<span class="hljs-params">e=<span class="hljs-string">" "</span></span>),(<span class="hljs-params">e.charCodeAt(<span class="hljs-number">0</span></span>)&gt;=33||[" ","	"].<span class="hljs-params">includes</span>(<span class="hljs-params">e</span>))&amp;&amp;(<span class="hljs-params"><span class="hljs-keyword">this</span>.node.value+=e</span>),<span class="hljs-params">this</span>.<span class="hljs-params">escaped</span>=!1}}<span class="hljs-params">t</span>.<span class="hljs-params">exports</span>=<span class="hljs-params">function</span> <span class="hljs-params">e</span>(<span class="hljs-params">t,i</span>){<span class="hljs-params">i</span>=<span class="hljs-params">i</span>||{};<span class="hljs-params">let</span> <span class="hljs-params">s</span>=<span class="hljs-params">new</span> <span class="hljs-params">a</span>(<span class="hljs-params">t</span>).<span class="hljs-params">tokenize</span><span class="hljs-params">()</span>,<span class="hljs-params">o</span>=[],<span class="hljs-params">n</span>=[],<span class="hljs-params">r</span>=[];<span class="hljs-params">if</span>(<span class="hljs-params">s.forEach(e=&gt;{<span class="hljs-string">"operator"</span>===e.type&amp;&amp;(<span class="hljs-string">","</span>===e.value||<span class="hljs-string">";"</span>===e.value</span>)?(<span class="hljs-params">n.length&amp;&amp;o.push(n</span>),<span class="hljs-params">n</span>=[]):<span class="hljs-params">n</span>.<span class="hljs-params">push</span>(<span class="hljs-params">e</span>)}),<span class="hljs-params">n</span>.<span class="hljs-params">length</span>&amp;&amp;<span class="hljs-params">o</span>.<span class="hljs-params">push</span>(<span class="hljs-params">n</span>),<span class="hljs-params">o</span>.<span class="hljs-params">forEach</span>(<span class="hljs-params">t=&gt;{(t=<span class="hljs-keyword">function</span>(t</span>){<span class="hljs-params">let</span> <span class="hljs-params">i</span>,<span class="hljs-params">a</span>,<span class="hljs-params">s</span>,<span class="hljs-params">o</span>=!1,<span class="hljs-params">n</span>="<span class="hljs-params">text</span>",<span class="hljs-params">r</span>=[],<span class="hljs-params">p</span>={<span class="hljs-params">address</span>:[],<span class="hljs-params">comment</span>:[],<span class="hljs-params">group</span>:[],<span class="hljs-params">text</span>:[],<span class="hljs-params">textWasQuoted</span>:[]},<span class="hljs-params">c</span>=!1;<span class="hljs-params">for</span>(<span class="hljs-params">a=<span class="hljs-number">0</span>,s=t.length;a&lt;s;a++</span>){<span class="hljs-params">let</span> <span class="hljs-params">e</span>=<span class="hljs-params">t</span>[<span class="hljs-params">a</span>],<span class="hljs-params">i</span>=<span class="hljs-params">a</span>?<span class="hljs-params">t</span>[<span class="hljs-params">a</span>-1]:<span class="hljs-params">null</span>;<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-string">"operator"</span>===e.type</span>)<span class="hljs-params">switch</span>(<span class="hljs-params">e.value</span>){<span class="hljs-params">case</span>"&lt;":<span class="hljs-params">n</span>="<span class="hljs-params">address</span>",<span class="hljs-params">c</span>=!1;<span class="hljs-params">break</span>;<span class="hljs-params">case</span>"(<span class="hljs-params"><span class="hljs-string">":n="</span>comment<span class="hljs-string">",c=!1;break;case"</span>:<span class="hljs-string">":n="</span>group<span class="hljs-string">",o=!0,c=!1;break;case'"</span><span class="hljs-string">':c=!c,n="text";break;default:n="text",c=!1}else e.value&amp;&amp;("address"===n&amp;&amp;(e.value=e.value.replace(/^[^&lt;]*&lt;\s*/,"")),i&amp;&amp;i.noBreak&amp;&amp;p[n].length?(p[n][p[n].length-1]+=e.value,"text"===n&amp;&amp;c&amp;&amp;(p.textWasQuoted[p.textWasQuoted.length-1]=!0)):(p[n].push(e.value),"text"===n&amp;&amp;p.textWasQuoted.push(c)))}if(!p.text.length&amp;&amp;p.comment.length&amp;&amp;(p.text=p.comment,p.comment=[]),o){p.text=p.text.join(" ");let t=[];p.group.length&amp;&amp;e(p.group.join(",")).forEach(e=&gt;{e.group?t=t.concat(e.group):t.push(e)}),r.push({name:p.text||i&amp;&amp;i.name,group:t})}else{if(!p.address.length&amp;&amp;p.text.length){for(a=p.text.length-1;a&gt;=0;a--)if(!p.textWasQuoted[a]&amp;&amp;p.text[a].match(/^[^@\s]+@[^@\s]+$/)){p.address=p.text.splice(a,1),p.textWasQuoted.splice(a,1);break}let e=function(e){return p.address.length?e:(p.address=[e.trim()]," ")};if(!p.address.length)for(a=p.text.length-1;a&gt;=0&amp;&amp;(p.textWasQuoted[a]||(p.text[a]=p.text[a].replace(/\s*\b[^@\s]+@[^\s]+\b\s*/,e).trim(),!p.address.length));a--);}if(!p.text.length&amp;&amp;p.comment.length&amp;&amp;(p.text=p.comment,p.comment=[]),p.address.length&gt;1&amp;&amp;(p.text=p.text.concat(p.address.splice(1))),p.text=p.text.join(" "),p.address=p.address.join(" "),!p.address&amp;&amp;o)return[];(i={address:p.address||p.text||"",name:p.text||p.address||""}).address===i.name&amp;&amp;((i.address||"").match(/@/)?i.name="":i.address=""),r.push(i)}return r}(t)).length&amp;&amp;(r=r.concat(t))}),i.flatten){let e=[],t=i=&gt;{i.forEach(i=&gt;{if(i.group)return t(i.group);e.push(i)})};return t(r),e}return r}},91110,(e,t,i)=&gt;{"use strict";let a=e.r(88947).Transform;t.exports=class extends a{constructor(){super(),this.lastByte=!1}_transform(e,t,i){e.length&amp;&amp;(this.lastByte=e[e.length-1]),this.push(e),i()}_flush(e){return 10===this.lastByte||(13===this.lastByte?this.push(Buffer.from("\n")):this.push(Buffer.from("\r\n"))),e()}}},78223,(e,t,i)=&gt;{"use strict";let a=e.r(88947).Transform;t.exports=class extends a{constructor(e){super(e),this.options=e||{},this.lastByte=!1}_transform(e,t,i){let a,s=0;for(let t=0,i=e.length;t&lt;i;t++)10===e[t]&amp;&amp;(t&amp;&amp;13!==e[t-1]||!t&amp;&amp;13!==this.lastByte)&amp;&amp;(t&gt;s&amp;&amp;(a=e.slice(s,t),this.push(a)),this.push(Buffer.from("\r\n")),s=t+1);s&amp;&amp;s&lt;e.length?(a=e.slice(s),this.push(a)):s||this.push(e),this.lastByte=e[e.length-1],i()}}},55721,(e,t,i)=&gt;{"use strict";let a=e.r(88947).Transform;t.exports=class extends a{constructor(e){super(e),this.options=e||{}}_transform(e,t,i){let a,s=0;for(let t=0,i=e.length;t&lt;i;t++)13===e[t]&amp;&amp;(a=e.slice(s,t),s=t+1,this.push(a));s&amp;&amp;s&lt;e.length?(a=e.slice(s),this.push(a)):s||this.push(e),i()}}},13473,(e,t,i)=&gt;{"use strict";let a=e.r(54799),s=e.r(22734),o=e.r(2532),n=e.r(88947).PassThrough,r=e.r(17049),p=e.r(4447),c=e.r(46766),l=e.r(35289),d=e.r(4417),m=e.r(18967),h=e.r(91110),u=e.r(78223),x=e.r(55721);class f{constructor(e,t){this.nodeCounter=0,t=t||{},this.baseBoundary=t.baseBoundary||a.randomBytes(8).toString("hex"),this.boundaryPrefix=t.boundaryPrefix||"--_NmP",this.disableFileAccess=!!t.disableFileAccess,this.disableUrlAccess=!!t.disableUrlAccess,this.normalizeHeaderKey=t.normalizeHeaderKey,this.date=new Date,this.rootNode=t.rootNode||this,this.keepBcc=!!t.keepBcc,t.filename&amp;&amp;(this.filename=t.filename,e||(e=p.detectMimeType(this.filename.split(".").pop()))),this.textEncoding=(t.textEncoding||"").toString().trim().charAt(0).toUpperCase(),this.parentNode=t.parentNode,this.hostname=t.hostname,this.newline=t.newline,this.childNodes=[],this._nodeId=++this.rootNode.nodeCounter,this._headers=[],this._isPlainText=!1,this._hasLongLines=!1,this._envelope=!1,this._raw=!1,this._transforms=[],this._processFuncs=[],e&amp;&amp;this.setHeader("Content-Type",e)}createChild(e,t){t||"object"!=typeof e||(t=e,e=void 0);let i=new f(e,t);return this.appendChild(i),i}appendChild(e){return e.rootNode!==this.rootNode&amp;&amp;(e.rootNode=this.rootNode,e._nodeId=++this.rootNode.nodeCounter),e.parentNode=this,this.childNodes.push(e),e}replace(e){return e===this?this:(this.parentNode.childNodes.forEach((t,i)=&gt;{t===this&amp;&amp;(e.rootNode=this.rootNode,e.parentNode=this.parentNode,e._nodeId=this._nodeId,this.rootNode=this,this.parentNode=void 0,e.parentNode.childNodes[i]=e)}),e)}remove(){if(!this.parentNode)return this;for(let e=this.parentNode.childNodes.length-1;e&gt;=0;e--)if(this.parentNode.childNodes[e]===this)return this.parentNode.childNodes.splice(e,1),this.parentNode=void 0,this.rootNode=this,this}setHeader(e,t){let i=!1,a;if(!t&amp;&amp;e&amp;&amp;"object"==typeof e)return e.key&amp;&amp;"value"in e?this.setHeader(e.key,e.value):Array.isArray(e)?e.forEach(e=&gt;{this.setHeader(e.key,e.value)}):Object.keys(e).forEach(t=&gt;{this.setHeader(t,e[t])}),this;a={key:e=this._normalizeHeaderKey(e),value:t};for(let t=0,s=this._headers.length;t&lt;s;t++)this._headers[t].key===e&amp;&amp;(i?(this._headers.splice(t,1),t--,s--):(this._headers[t]=a,i=!0));return i||this._headers.push(a),this}addHeader(e,t){return!t&amp;&amp;e&amp;&amp;"object"==typeof e?e.key&amp;&amp;e.value?this.addHeader(e.key,e.value):Array.isArray(e)?e.forEach(e=&gt;{this.addHeader(e.key,e.value)}):Object.keys(e).forEach(t=&gt;{this.addHeader(t,e[t])}):Array.isArray(t)?t.forEach(t=&gt;{this.addHeader(e,t)}):this._headers.push({key:this._normalizeHeaderKey(e),value:t}),this}getHeader(e){e=this._normalizeHeaderKey(e);for(let t=0,i=this._headers.length;t&lt;i;t++)if(this._headers[t].key===e)return this._headers[t].value}setContent(e){return this.content=e,"function"==typeof this.content.pipe?(this._contentErrorHandler=e=&gt;{this.content.removeListener("error",this._contentErrorHandler),this.content=e},this.content.once("error",this._contentErrorHandler)):"string"==typeof this.content&amp;&amp;(this._isPlainText=p.isPlainText(this.content),this._isPlainText&amp;&amp;p.hasLongerLines(this.content,76)&amp;&amp;(this._hasLongLines=!0)),this}build(e){let t;e||(t=new Promise((t,i)=&gt;{e=r.callbackPromise(t,i)}));let i=this.createReadStream(),a=[],s=0,o=!1;return i.on("readable",()=&gt;{let e;for(;null!==(e=i.read());)a.push(e),s+=e.length}),i.once("error",t=&gt;{if(!o)return o=!0,e(t)}),i.once("end",t=&gt;{if(!o)return o=!0,t&amp;&amp;t.length&amp;&amp;(a.push(t),s+=t.length),e(null,Buffer.concat(a,s))}),t}getTransferEncoding(){let e=!1,t=(this.getHeader("Content-Type")||"").toString().toLowerCase().trim();return this.content&amp;&amp;((e=(this.getHeader("Content-Transfer-Encoding")||"").toString().toLowerCase().trim())&amp;&amp;["base64","quoted-printable"].includes(e)||(/^text\//i.test(t)?e=this._isPlainText&amp;&amp;!this._hasLongLines?"7bit":"string"==typeof this.content||this.content instanceof Buffer?"Q"===this._getTextEncoding(this.content)?"quoted-printable":"base64":"B"===this.textEncoding?"base64":"quoted-printable":/^(multipart|message)\//i.test(t)||(e=e||"base64"))),e}buildHeaders(){let e=this.getTransferEncoding(),t=[];if(e&amp;&amp;this.setHeader("Content-Transfer-Encoding",e),this.filename&amp;&amp;!this.getHeader("Content-Disposition")&amp;&amp;this.setHeader("Content-Disposition","attachment"),this.rootNode===this){this.getHeader("Date")||this.setHeader("Date",this.date.toUTCString().replace(/GMT/,"+0000")),this.messageId(),this.getHeader("MIME-Version")||this.setHeader("MIME-Version","1.0");for(let e=this._headers.length-2;e&gt;=0;e--){let t=this._headers[e];"Content-Type"===t.key&amp;&amp;(this._headers.splice(e,1),this._headers.push(t))}}return this._headers.forEach(e=&gt;{let i,a,s=e.key,o=e.value,n={};if(!o||"object"!=typeof o||["From","Sender","To","Cc","Bcc","Reply-To","Date","References"].includes(s)||(Object.keys(o).forEach(e=&gt;{"value"!==e&amp;&amp;(n[e]=o[e])}),(o=(o.value||"").toString()).trim())){if(n.prepared)return void(n.foldLines?t.push(p.foldLines(s+": "+o)):t.push(s+": "+o));switch(e.key){case"Content-Disposition":i=p.parseHeaderValue(o),this.filename&amp;&amp;(i.params.filename=this.filename),o=p.buildHeaderValue(i);break;case"Content-Type":i=p.parseHeaderValue(o),this._handleContentType(i),i.value.match(/^text\/plain\b/)&amp;&amp;"string"==typeof this.content&amp;&amp;/[\u0080-\uFFFF]/.test(this.content)&amp;&amp;(i.params.charset="utf-8"),o=p.buildHeaderValue(i),this.filename&amp;&amp;(((a=this._encodeWords(this.filename))!==this.filename||/[\s'</span><span class="hljs-string">"\\;:/=(),&lt;&gt;@[\]?]|^-/.test(a))&amp;&amp;(a='"</span><span class="hljs-string">'+a+'</span><span class="hljs-string">"'),o+="</span>; name=<span class="hljs-string">"+a);break;case"</span>Bcc<span class="hljs-string">":if(!this.keepBcc)return}if(((o=this._encodeHeaderValue(s,o))||"</span><span class="hljs-string">").toString().trim()){if("</span><span class="hljs-keyword">function</span><span class="hljs-string">"==typeof this.normalizeHeaderKey){let e=this.normalizeHeaderKey(s,o);e&amp;&amp;"</span>string<span class="hljs-string">"==typeof e&amp;&amp;e.length&amp;&amp;(s=e)}t.push(p.foldLines(s+"</span>: <span class="hljs-string">"+o,76))}}}),t.join("</span>\r\n<span class="hljs-string">")}createReadStream(e){let t,i=new n(e=e||{}),a=i;this.stream(i,e,e=&gt;{e?a.emit("</span>error<span class="hljs-string">",e):i.end()});for(let e=0,i=this._transforms.length;e&lt;i;e++)t="</span><span class="hljs-keyword">function</span><span class="hljs-string">"==typeof this._transforms[e]?this._transforms[e]():this._transforms[e],a.once("</span>error<span class="hljs-string">",e=&gt;{t.emit("</span>error<span class="hljs-string">",e)}),a=a.pipe(t);t=new h,a.once("</span>error<span class="hljs-string">",e=&gt;{t.emit("</span>error<span class="hljs-string">",e)}),a=a.pipe(t);for(let e=0,i=this._processFuncs.length;e&lt;i;e++)a=(t=this._processFuncs[e])(a);if(this.newline){let e=["</span>win<span class="hljs-string">","</span>windows<span class="hljs-string">","</span>dos<span class="hljs-string">","</span>\r\n<span class="hljs-string">"].includes(this.newline.toString().toLowerCase())?new u:new x,t=a.pipe(e);return a.on("</span>error<span class="hljs-string">",e=&gt;t.emit("</span>error<span class="hljs-string">",e)),t}return a}transform(e){this._transforms.push(e)}processFunc(e){this._processFuncs.push(e)}stream(e,t,i){let a,s,o=this.getTransferEncoding(),n=!1,r=e=&gt;{n||(n=!0,i(e))},p=()=&gt;{let i=0,a=()=&gt;{if(i&gt;=this.childNodes.length)return e.write("</span>\r\n--<span class="hljs-string">"+this.boundary+"</span>--\r\n<span class="hljs-string">"),r();let s=this.childNodes[i++];e.write((i&gt;1?"</span>\r\n<span class="hljs-string">":"</span><span class="hljs-string">")+"</span>--<span class="hljs-string">"+this.boundary+"</span>\r\n<span class="hljs-string">"),s.stream(e,t,e=&gt;{if(e)return r(e);setImmediate(a)})};if(!this.multipart)return r();setImmediate(a)},d=()=&gt;{if(!this.content)return setImmediate(p);{if("</span>[object <span class="hljs-built_in">Error</span>]<span class="hljs-string">"===Object.prototype.toString.call(this.content))return r(this.content);"</span><span class="hljs-keyword">function</span><span class="hljs-string">"==typeof this.content.pipe&amp;&amp;(this.content.removeListener("</span>error<span class="hljs-string">",this._contentErrorHandler),this._contentErrorHandler=e=&gt;r(e),this.content.once("</span>error<span class="hljs-string">",this._contentErrorHandler));let i=()=&gt;{["</span>quoted-printable<span class="hljs-string">","</span>base64<span class="hljs-string">"].includes(o)?((a=new("</span>base64<span class="hljs-string">"===o?l:c).Encoder(t)).pipe(e,{end:!1}),a.once("</span>end<span class="hljs-string">",p),a.once("</span>error<span class="hljs-string">",e=&gt;r(e)),(s=this._getStream(this.content)).pipe(a)):((s=this._getStream(this.content)).pipe(e,{end:!1}),s.once("</span>end<span class="hljs-string">",p)),s.once("</span>error<span class="hljs-string">",e=&gt;r(e))};if(this.content._resolve){let e=[],t=0,a=!1,s=this._getStream(this.content);s.on("</span>error<span class="hljs-string">",e=&gt;{a||(a=!0,r(e))}),s.on("</span>readable<span class="hljs-string">",()=&gt;{let i;for(;null!==(i=s.read());)e.push(i),t+=i.length}),s.on("</span>end<span class="hljs-string">",()=&gt;{a||(a=!0,this.content._resolve=!1,this.content._resolvedValue=Buffer.concat(e,t),setImmediate(i))})}else setImmediate(i);return}};this._raw?setImmediate(()=&gt;{if("</span>[object <span class="hljs-built_in">Error</span>]<span class="hljs-string">"===Object.prototype.toString.call(this._raw))return r(this._raw);"</span><span class="hljs-keyword">function</span><span class="hljs-string">"==typeof this._raw.pipe&amp;&amp;this._raw.removeListener("</span>error<span class="hljs-string">",this._contentErrorHandler);let t=this._getStream(this._raw);t.pipe(e,{end:!1}),t.on("</span>error<span class="hljs-string">",t=&gt;e.emit("</span>error<span class="hljs-string">",t)),t.on("</span>end<span class="hljs-string">",p)}):(e.write(this.buildHeaders()+"</span>\r\n\r\n<span class="hljs-string">"),setImmediate(d))}setEnvelope(e){let t;this._envelope={from:!1,to:[]},e.from&amp;&amp;(t=[],this._convertAddresses(this._parseAddresses(e.from),t),(t=t.filter(e=&gt;e&amp;&amp;e.address)).length&amp;&amp;t[0]&amp;&amp;(this._envelope.from=t[0].address)),["</span>to<span class="hljs-string">","</span>cc<span class="hljs-string">","</span>bcc<span class="hljs-string">"].forEach(t=&gt;{e[t]&amp;&amp;this._convertAddresses(this._parseAddresses(e[t]),this._envelope.to)}),this._envelope.to=this._envelope.to.map(e=&gt;e.address).filter(e=&gt;e);let i=["</span>to<span class="hljs-string">","</span>cc<span class="hljs-string">","</span>bcc<span class="hljs-string">","</span><span class="hljs-keyword">from</span><span class="hljs-string">"];return Object.keys(e).forEach(t=&gt;{i.includes(t)||(this._envelope[t]=e[t])}),this}getAddresses(){let e={};return this._headers.forEach(t=&gt;{let i=t.key.toLowerCase();["</span><span class="hljs-keyword">from</span><span class="hljs-string">","</span>sender<span class="hljs-string">","</span>reply-to<span class="hljs-string">","</span>to<span class="hljs-string">","</span>cc<span class="hljs-string">","</span>bcc<span class="hljs-string">"].includes(i)&amp;&amp;(Array.isArray(e[i])||(e[i]=[]),this._convertAddresses(this._parseAddresses(t.value),e[i]))}),e}getEnvelope(){if(this._envelope)return this._envelope;let e={from:!1,to:[]};return this._headers.forEach(t=&gt;{let i=[];"</span>From<span class="hljs-string">"===t.key||!e.from&amp;&amp;["</span>Reply-To<span class="hljs-string">","</span>Sender<span class="hljs-string">"].includes(t.key)?(this._convertAddresses(this._parseAddresses(t.value),i),i.length&amp;&amp;i[0]&amp;&amp;(e.from=i[0].address)):["</span>To<span class="hljs-string">","</span>Cc<span class="hljs-string">","</span>Bcc<span class="hljs-string">"].includes(t.key)&amp;&amp;this._convertAddresses(this._parseAddresses(t.value),e.to)}),e.to=e.to.map(e=&gt;e.address),e}messageId(){let e=this.getHeader("</span>Message-ID<span class="hljs-string">");return e||(e=this._generateMessageId(),this.setHeader("</span>Message-ID<span class="hljs-string">",e)),e}setRaw(e){return this._raw=e,this._raw&amp;&amp;"</span><span class="hljs-keyword">function</span><span class="hljs-string">"==typeof this._raw.pipe&amp;&amp;(this._contentErrorHandler=e=&gt;{this._raw.removeListener("</span>error<span class="hljs-string">",this._contentErrorHandler),this._raw=e},this._raw.once("</span>error<span class="hljs-string">",this._contentErrorHandler)),this}_getStream(e){let t;return e._resolvedValue?(t=new n,setImmediate(()=&gt;{try{t.end(e._resolvedValue)}catch(e){t.emit("</span>error<span class="hljs-string">",e)}}),t):"</span><span class="hljs-keyword">function</span><span class="hljs-string">"==typeof e.pipe?e:e&amp;&amp;"</span>string<span class="hljs-string">"==typeof e.path&amp;&amp;!e.href?this.disableFileAccess?(t=new n,setImmediate(()=&gt;t.emit("</span>error<span class="hljs-string">",Error("</span>File access rejected <span class="hljs-keyword">for</span> <span class="hljs-string">"+e.path))),t):s.createReadStream(e.path):e&amp;&amp;"</span>string<span class="hljs-string">"==typeof e.href?this.disableUrlAccess?(t=new n,setImmediate(()=&gt;t.emit("</span>error<span class="hljs-string">",Error("</span>Url access rejected <span class="hljs-keyword">for</span> <span class="hljs-string">"+e.href))),t):m(e.href,{headers:e.httpHeaders}):(t=new n,setImmediate(()=&gt;{try{t.end(e||"</span><span class="hljs-string">")}catch(e){t.emit("</span>error<span class="hljs-string">",e)}}),t)}_parseAddresses(e){return[].concat.apply([],[].concat(e).map(e=&gt;e&amp;&amp;e.address?(e.address=this._normalizeAddress(e.address),e.name=e.name||"</span><span class="hljs-string">",[e]):d(e)))}_normalizeHeaderKey(e){return e=(e||"</span><span class="hljs-string">").toString().replace(/\r?\n|\r/g,"</span> <span class="hljs-string">").trim().toLowerCase().replace(/^X-SMTPAPI$|^(MIME|DKIM|ARC|BIMI)\b|^[a-z]|-(SPF|FBL|ID|MD5)$|-[a-z]/gi,e=&gt;e.toUpperCase()).replace(/^Content-Features$/i,"</span>Content-features<span class="hljs-string">")}_handleContentType(e){this.contentType=e.value.trim().toLowerCase(),this.multipart=!!/^multipart\//i.test(this.contentType)&amp;&amp;this.contentType.substr(this.contentType.indexOf("</span><span class="hljs-regexp">/")+1),this.multipart?this.boundary=e.params.boundary=e.params.boundary||this.boundary||this._generateBoundary():this.boundary=!1}_generateBoundary(){return this.rootNode.boundaryPrefix+"-"+this.rootNode.baseBoundary+"-Part_"+this._nodeId}_encodeHeaderValue(e,t){switch(e=this._normalizeHeaderKey(e)){case"From":case"Sender":case"To":case"Cc":case"Bcc":case"Reply-To":return this._convertAddresses(this._parseAddresses(t));case"Message-ID":case"In-Reply-To":case"Content-Id":return"&lt;"!==(t=(t||"").toString().replace(/</span>\r?\n|\r<span class="hljs-regexp">/g," ")).charAt(0)&amp;&amp;(t="&lt;"+t),"&gt;"!==t.charAt(t.length-1)&amp;&amp;(t+="&gt;"),t;case"References":return(t=[].concat.apply([],[].concat(t||"").map(e=&gt;(e=(e||"").toString().replace(/</span>\r?\n|\r<span class="hljs-regexp">/g," ").trim()).replace(/</span>&lt;[^&gt;]*&gt;<span class="hljs-regexp">/g,e=&gt;e.replace(/</span>\s<span class="hljs-regexp">/g,"")).split(/</span>\s+<span class="hljs-regexp">/))).map(e=&gt;("&lt;"!==e.charAt(0)&amp;&amp;(e="&lt;"+e),"&gt;"!==e.charAt(e.length-1)&amp;&amp;(e+="&gt;"),e))).join(" ").trim();case"Date":if("[object Date]"===Object.prototype.toString.call(t))return t.toUTCString().replace(/</span>GMT<span class="hljs-regexp">/,"+0000");return t=(t||"").toString().replace(/</span>\r?\n|\r<span class="hljs-regexp">/g," "),this._encodeWords(t);case"Content-Type":case"Content-Disposition":return(t||"").toString().replace(/</span>\r?\n|\r<span class="hljs-regexp">/g," ");default:return t=(t||"").toString().replace(/</span>\r?\n|\r<span class="hljs-regexp">/g," "),this._encodeWords(t)}}_convertAddresses(e,t){let i=[];return t=t||[],[].concat(e||[]).forEach(e=&gt;{if(e.address)e.address=this._normalizeAddress(e.address),e.name?e.name&amp;&amp;i.push(`${this._encodeAddressName(e.name)} &lt;${e.address}&gt;`):i.push(e.address.indexOf(" ")&gt;=0?`&lt;${e.address}&gt;`:`${e.address}`),e.address&amp;&amp;!t.filter(t=&gt;t.address===e.address).length&amp;&amp;t.push(e);else if(e.group){let a=(e.group.length?this._convertAddresses(e.group,t):"").trim();i.push(`${this._encodeAddressName(e.name)}:${a};`)}}),i.join(", ")}_normalizeAddress(e){let t,i=(e=(e||"").toString().replace(/</span>[\x00-\x1F&lt;&gt;]+<span class="hljs-regexp">/g," ").trim()).lastIndexOf("@");if(i&lt;0)return e;let a=e.substr(0,i),s=e.substr(i+1);try{t=o.toASCII(s.toLowerCase())}catch(e){}return a.indexOf(" ")&gt;=0&amp;&amp;('"'!==a.charAt(0)&amp;&amp;(a='"'+a),'"'!==a.substr(-1)&amp;&amp;(a+='"')),`${a}@${t}`}_encodeAddressName(e){if(!/</span>^[\w ]*$<span class="hljs-regexp">/.test(e))if(/</span>^[\x20-\x7e]*$<span class="hljs-regexp">/.test(e))return'"'+e.replace(/</span>([\\<span class="hljs-string">"])/g,"</span>\\$<span class="hljs-number">1</span><span class="hljs-string">")+'"</span><span class="hljs-string">';else return p.encodeWord(e,this._getTextEncoding(e),52);return e}_encodeWords(e){return p.encodeWords(e,this._getTextEncoding(e),52,!0)}_getTextEncoding(e){e=(e||"").toString();let t=this.textEncoding;return t||(t=(e.match(/[\x00-\x08\x0B\x0C\x0E-\x1F\u0080-\uFFFF]/g)||[]).length&lt;(e.match(/[a-z]/gi)||[]).length?"Q":"B"),t}_generateMessageId(){return"&lt;"+[2,2,2,6].reduce((e,t)=&gt;e+"-"+a.randomBytes(t).toString("hex"),a.randomBytes(4).toString("hex"))+"@"+(this.getEnvelope().from||this.hostname||"localhost").split("@").pop()+"&gt;"}}t.exports=f},89437,(e,t,i)=&gt;{"use strict";let a=e.r(13473),s=e.r(4447),o=e.r(17049).parseDataURI;t.exports=class{constructor(e){this.mail=e||{},this.message=!1}compile(){return this._alternatives=this.getAlternatives(),this._htmlNode=this._alternatives.filter(e=&gt;/^text\/html\b/i.test(e.contentType)).pop(),this._attachments=this.getAttachments(!!this._htmlNode),this._useRelated=!!(this._htmlNode&amp;&amp;this._attachments.related.length),this._useAlternative=this._alternatives.length&gt;1,this._useMixed=this._attachments.attached.length&gt;1||this._alternatives.length&amp;&amp;1===this._attachments.attached.length,this.mail.raw?this.message=new a("message/rfc822",{newline:this.mail.newline}).setRaw(this.mail.raw):this._useMixed?this.message=this._createMixed():this._useAlternative?this.message=this._createAlternative():this._useRelated?this.message=this._createRelated():this.message=this._createContentNode(!1,[].concat(this._alternatives||[]).concat(this._attachments.attached||[]).shift()||{contentType:"text/plain",content:""}),this.mail.headers&amp;&amp;this.message.addHeader(this.mail.headers),["from","sender","to","cc","bcc","reply-to","in-reply-to","references","subject","message-id","date"].forEach(e=&gt;{let t=e.replace(/-(\w)/g,(e,t)=&gt;t.toUpperCase());this.mail[t]&amp;&amp;this.message.setHeader(e,this.mail[t])}),this.mail.envelope&amp;&amp;this.message.setEnvelope(this.mail.envelope),this.message.messageId(),this.message}getAttachments(e){let t,i,a=[].concat(this.mail.attachments||[]).map((e,t)=&gt;{let i;/^data:/i.test(e.path||e.href)&amp;&amp;(e=this._processDataUrl(e));let a=e.contentType||s.detectMimeType(e.filename||e.path||e.href||"bin"),o=/^image\//i.test(a),n=/^message\//i.test(a);return i={contentType:a,contentDisposition:e.contentDisposition||(n||o&amp;&amp;e.cid?"inline":"attachment"),contentTransferEncoding:"contentTransferEncoding"in e?e.contentTransferEncoding:n?"7bit":"base64"},e.filename?i.filename=e.filename:!n&amp;&amp;!1!==e.filename&amp;&amp;(i.filename=(e.path||e.href||"").split("/").pop().split("?").shift()||"attachment-"+(t+1),0&gt;i.filename.indexOf(".")&amp;&amp;(i.filename+="."+s.detectExtension(i.contentType))),/^https?:\/\//i.test(e.path)&amp;&amp;(e.href=e.path,e.path=void 0),e.cid&amp;&amp;(i.cid=e.cid),e.raw?i.raw=e.raw:e.path?i.content={path:e.path}:e.href?i.content={href:e.href,httpHeaders:e.httpHeaders}:i.content=e.content||"",e.encoding&amp;&amp;(i.encoding=e.encoding),e.headers&amp;&amp;(i.headers=e.headers),i});return(this.mail.icalEvent&amp;&amp;(t="object"==typeof this.mail.icalEvent&amp;&amp;(this.mail.icalEvent.content||this.mail.icalEvent.path||this.mail.icalEvent.href||this.mail.icalEvent.raw)?this.mail.icalEvent:{content:this.mail.icalEvent},i={},Object.keys(t).forEach(e=&gt;{i[e]=t[e]}),i.contentType="application/ics",i.headers||(i.headers={}),i.filename=i.filename||"invite.ics",i.headers["Content-Disposition"]="attachment",i.headers["Content-Transfer-Encoding"]="base64"),e)?{attached:a.filter(e=&gt;!e.cid).concat(i||[]),related:a.filter(e=&gt;!!e.cid)}:{attached:a.concat(i||[]),related:[]}}getAlternatives(){let e=[],t,i,a,o,n,r;return this.mail.text&amp;&amp;((t="object"==typeof this.mail.text&amp;&amp;(this.mail.text.content||this.mail.text.path||this.mail.text.href||this.mail.text.raw)?this.mail.text:{content:this.mail.text}).contentType="text/plain; charset=utf-8"),this.mail.watchHtml&amp;&amp;((a="object"==typeof this.mail.watchHtml&amp;&amp;(this.mail.watchHtml.content||this.mail.watchHtml.path||this.mail.watchHtml.href||this.mail.watchHtml.raw)?this.mail.watchHtml:{content:this.mail.watchHtml}).contentType="text/watch-html; charset=utf-8"),this.mail.amp&amp;&amp;((o="object"==typeof this.mail.amp&amp;&amp;(this.mail.amp.content||this.mail.amp.path||this.mail.amp.href||this.mail.amp.raw)?this.mail.amp:{content:this.mail.amp}).contentType="text/x-amp-html; charset=utf-8"),this.mail.icalEvent&amp;&amp;(n="object"==typeof this.mail.icalEvent&amp;&amp;(this.mail.icalEvent.content||this.mail.icalEvent.path||this.mail.icalEvent.href||this.mail.icalEvent.raw)?this.mail.icalEvent:{content:this.mail.icalEvent},r={},Object.keys(n).forEach(e=&gt;{r[e]=n[e]}),r.content&amp;&amp;"object"==typeof r.content&amp;&amp;(r.content._resolve=!0),r.filename=!1,r.contentType="text/calendar; charset=utf-8; method="+(r.method||"PUBLISH").toString().trim().toUpperCase(),r.headers||(r.headers={})),this.mail.html&amp;&amp;((i="object"==typeof this.mail.html&amp;&amp;(this.mail.html.content||this.mail.html.path||this.mail.html.href||this.mail.html.raw)?this.mail.html:{content:this.mail.html}).contentType="text/html; charset=utf-8"),[].concat(t||[]).concat(a||[]).concat(o||[]).concat(i||[]).concat(r||[]).concat(this.mail.alternatives||[]).forEach(t=&gt;{let i;/^data:/i.test(t.path||t.href)&amp;&amp;(t=this._processDataUrl(t)),i={contentType:t.contentType||s.detectMimeType(t.filename||t.path||t.href||"txt"),contentTransferEncoding:t.contentTransferEncoding},t.filename&amp;&amp;(i.filename=t.filename),/^https?:\/\//i.test(t.path)&amp;&amp;(t.href=t.path,t.path=void 0),t.raw?i.raw=t.raw:t.path?i.content={path:t.path}:t.href?i.content={href:t.href}:i.content=t.content||"",t.encoding&amp;&amp;(i.encoding=t.encoding),t.headers&amp;&amp;(i.headers=t.headers),e.push(i)}),e}_createMixed(e){let t;return t=e?e.createChild("multipart/mixed",{disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):new a("multipart/mixed",{baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),this._useAlternative?this._createAlternative(t):this._useRelated&amp;&amp;this._createRelated(t),[].concat(!this._useAlternative&amp;&amp;this._alternatives||[]).concat(this._attachments.attached||[]).forEach(e=&gt;{this._useRelated&amp;&amp;e===this._htmlNode||this._createContentNode(t,e)}),t}_createAlternative(e){let t;return t=e?e.createChild("multipart/alternative",{disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):new a("multipart/alternative",{baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),this._alternatives.forEach(e=&gt;{this._useRelated&amp;&amp;this._htmlNode===e?this._createRelated(t):this._createContentNode(t,e)}),t}_createRelated(e){let t;return t=e?e.createChild('</span>multipart<span class="hljs-regexp">/related; type="text/</span>html<span class="hljs-string">"',{disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):new a('multipart/related; type="</span>text<span class="hljs-regexp">/html"',{baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),this._createContentNode(t,this._htmlNode),this._attachments.related.forEach(e=&gt;this._createContentNode(t,e)),t}_createContentNode(e,t){let i;(t=t||{}).content=t.content||"";let s=(t.encoding||"utf8").toString().toLowerCase().replace(/</span>[-_\s]<span class="hljs-regexp">/g,"");return i=e?e.createChild(t.contentType,{filename:t.filename,textEncoding:this.mail.textEncoding,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):new a(t.contentType,{filename:t.filename,baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),t.headers&amp;&amp;i.addHeader(t.headers),t.cid&amp;&amp;i.setHeader("Content-Id","&lt;"+t.cid.replace(/</span>[&lt;&gt;]<span class="hljs-regexp">/g,"")+"&gt;"),t.contentTransferEncoding?i.setHeader("Content-Transfer-Encoding",t.contentTransferEncoding):this.mail.encoding&amp;&amp;/</span>^text\<span class="hljs-regexp">//i</span>.test(t.contentType</span>)&amp;&amp;<span class="hljs-params">i</span>.<span class="hljs-params">setHeader</span>(<span class="hljs-params"><span class="hljs-string">"Content-Transfer-Encoding"</span>,<span class="hljs-keyword">this</span>.mail.encoding</span>),(<span class="hljs-params">!<span class="hljs-regexp">/^text\//i</span>.test(t.contentType</span>)||<span class="hljs-params">t</span>.<span class="hljs-params">contentDisposition</span>)&amp;&amp;<span class="hljs-params">i</span>.<span class="hljs-params">setHeader</span>(<span class="hljs-params"><span class="hljs-string">"Content-Disposition"</span>,t.contentDisposition||(t.cid&amp;&amp;<span class="hljs-regexp">/^image\//i</span>.test(t.contentType</span>)?"<span class="hljs-params">inline</span>":"<span class="hljs-params">attachment</span>")),"<span class="hljs-params">string</span>"!=<span class="hljs-params">typeof</span> <span class="hljs-params">t</span>.<span class="hljs-params">content</span>||["<span class="hljs-params">utf8</span>","<span class="hljs-params">usascii</span>","<span class="hljs-params">ascii</span>"].<span class="hljs-params">includes</span>(<span class="hljs-params">s</span>)||(<span class="hljs-params">t.content=Buffer.<span class="hljs-keyword">from</span>(t.content,s</span>)),<span class="hljs-params">t</span>.<span class="hljs-params">raw</span>?<span class="hljs-params">i</span>.<span class="hljs-params">setRaw</span>(<span class="hljs-params">t.raw</span>):<span class="hljs-params">i</span>.<span class="hljs-params">setContent</span>(<span class="hljs-params">t.content</span>),<span class="hljs-params">i</span>}<span class="hljs-params">_processDataUrl</span>(<span class="hljs-params">e</span>){<span class="hljs-params">let</span> <span class="hljs-params">t</span>,<span class="hljs-params">i</span>=<span class="hljs-params">e</span>.<span class="hljs-params">path</span>||<span class="hljs-params">e</span>.<span class="hljs-params">href</span>;<span class="hljs-params">if</span>(<span class="hljs-params">!i||<span class="hljs-string">"string"</span>!=<span class="hljs-keyword">typeof</span> i||!i.startsWith(<span class="hljs-string">"data:"</span></span>))<span class="hljs-params">return</span> <span class="hljs-params">e</span>;<span class="hljs-params">if</span>(<span class="hljs-params">i.length&gt;<span class="hljs-number">0x3200000</span></span>){<span class="hljs-params">let</span> <span class="hljs-params">t</span>="<span class="hljs-params">application</span>/<span class="hljs-params">octet</span>-<span class="hljs-params">stream</span>",<span class="hljs-params">a</span>=<span class="hljs-params">i</span>.<span class="hljs-params">indexOf</span>(<span class="hljs-params"><span class="hljs-string">","</span></span>);<span class="hljs-params">if</span>(<span class="hljs-params">a&gt;<span class="hljs-number">0</span>&amp;&amp;a&lt;<span class="hljs-number">200</span></span>){<span class="hljs-params">let</span> <span class="hljs-params">e</span>=<span class="hljs-params">i</span>.<span class="hljs-params">substring</span>(<span class="hljs-params"><span class="hljs-number">5</span>,a</span>).<span class="hljs-params">split</span>(<span class="hljs-params"><span class="hljs-string">";"</span></span>);<span class="hljs-params">e</span>[0]&amp;&amp;<span class="hljs-params">e</span>[0].<span class="hljs-params">includes</span>(<span class="hljs-params"><span class="hljs-string">"/"</span></span>)&amp;&amp;(<span class="hljs-params">t=e[<span class="hljs-number">0</span>].trim(</span>))}<span class="hljs-params">return</span> <span class="hljs-params">Object</span>.<span class="hljs-params">assign</span>(<span class="hljs-params">{},e,{path:!<span class="hljs-number">1</span>,href:!<span class="hljs-number">1</span>,content:Buffer.alloc(<span class="hljs-number">0</span></span>),<span class="hljs-params">contentType</span>:<span class="hljs-params">e</span>.<span class="hljs-params">contentType</span>||<span class="hljs-params">t</span>})}<span class="hljs-params">try</span>{<span class="hljs-params">t</span>=<span class="hljs-params">o</span>(<span class="hljs-params">i</span>)}<span class="hljs-params">catch</span>(<span class="hljs-params">t</span>){<span class="hljs-params">return</span> <span class="hljs-params">e</span>}<span class="hljs-params">return</span> <span class="hljs-params">t</span>&amp;&amp;(<span class="hljs-params">e.content=t.data,e.contentType=e.contentType||t.contentType,<span class="hljs-string">"path"</span><span class="hljs-keyword">in</span> e&amp;&amp;(e.path=!<span class="hljs-number">1</span></span>),"<span class="hljs-params">href</span>"<span class="hljs-params">in</span> <span class="hljs-params">e</span>&amp;&amp;(<span class="hljs-params">e.href=!<span class="hljs-number">1</span></span>)),<span class="hljs-params">e</span>}}},5671,(<span class="hljs-params">e,t,i</span>)=&gt;</span>{<span class="hljs-string">"use strict"</span>;<span class="hljs-keyword">let</span> a=e.r(<span class="hljs-number">88947</span>).Transform;t.exports=<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">a</span></span>{<span class="hljs-keyword">constructor</span>(e){<span class="hljs-keyword">super</span>(e),<span class="hljs-keyword">this</span>.lastBytes=Buffer.alloc(<span class="hljs-number">4</span>),<span class="hljs-keyword">this</span>.headersParsed=!<span class="hljs-number">1</span>,<span class="hljs-keyword">this</span>.headerBytes=<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>.headerChunks=[],<span class="hljs-keyword">this</span>.rawHeaders=!<span class="hljs-number">1</span>,<span class="hljs-keyword">this</span>.bodySize=<span class="hljs-number">0</span>}updateLastBytes(e){<span class="hljs-keyword">let</span> t=<span class="hljs-keyword">this</span>.lastBytes.length,i=<span class="hljs-built_in">Math</span>.min(e.length,t);<span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> e=<span class="hljs-number">0</span>,a=t-i;e&lt;a;e++)<span class="hljs-keyword">this</span>.lastBytes[e]=<span class="hljs-keyword">this</span>.lastBytes[e+i];<span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> a=<span class="hljs-number">1</span>;a&lt;=i;a++)<span class="hljs-keyword">this</span>.lastBytes[t-a]=e[e.length-a]}checkHeaders(e){<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.headersParsed)<span class="hljs-keyword">return</span>!<span class="hljs-number">0</span>;<span class="hljs-keyword">let</span> t=<span class="hljs-keyword">this</span>.lastBytes.length,i=<span class="hljs-number">0</span>;<span class="hljs-keyword">this</span>.curLinePos=<span class="hljs-number">0</span>;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> a=<span class="hljs-number">0</span>,s=<span class="hljs-keyword">this</span>.lastBytes.length+e.length;a&lt;s;a++)<span class="hljs-keyword">if</span>(<span class="hljs-number">10</span>===<span class="hljs-function">(<span class="hljs-params">a&lt;t?<span class="hljs-keyword">this</span>.lastBytes[a]:e[a-t]</span>)&amp;&amp;<span class="hljs-params">a</span>){<span class="hljs-params">let</span> <span class="hljs-params">s</span>=<span class="hljs-params">a</span>-1&lt;<span class="hljs-params">t</span>?<span class="hljs-params">this</span>.<span class="hljs-params">lastBytes</span>[<span class="hljs-params">a</span>-1]:<span class="hljs-params">e</span>[<span class="hljs-params">a</span>-1-<span class="hljs-params">t</span>],<span class="hljs-params">o</span>=<span class="hljs-params">a</span>&gt;1&amp;&amp;(<span class="hljs-params">a<span class="hljs-number">-2</span>&lt;t?<span class="hljs-keyword">this</span>.lastBytes[a<span class="hljs-number">-2</span>]:e[a<span class="hljs-number">-2</span>-t]</span>);<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-number">10</span>===s||<span class="hljs-number">13</span>===s&amp;&amp;<span class="hljs-number">10</span>===o</span>){<span class="hljs-params">this</span>.<span class="hljs-params">headersParsed</span>=!0,<span class="hljs-params">i</span>=<span class="hljs-params">a</span>-<span class="hljs-params">t</span>+1,<span class="hljs-params">this</span>.<span class="hljs-params">headerBytes</span>+=<span class="hljs-params">i</span>;<span class="hljs-params">break</span>}}<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>.headersParsed</span>){<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>.headerChunks.push(e.slice(<span class="hljs-number">0</span>,i</span>)),<span class="hljs-params">this</span>.<span class="hljs-params">rawHeaders</span>=<span class="hljs-params">Buffer</span>.<span class="hljs-params">concat</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>.headerChunks,<span class="hljs-keyword">this</span>.headerBytes</span>),<span class="hljs-params">this</span>.<span class="hljs-params">headerChunks</span>=<span class="hljs-params">null</span>,<span class="hljs-params">this</span>.<span class="hljs-params">emit</span>(<span class="hljs-params"><span class="hljs-string">"headers"</span>,<span class="hljs-keyword">this</span>.parseHeaders(</span>)),<span class="hljs-params">e</span>.<span class="hljs-params">length</span>-1&gt;<span class="hljs-params">i</span>){<span class="hljs-params">let</span> <span class="hljs-params">t</span>=<span class="hljs-params">e</span>.<span class="hljs-params">slice</span>(<span class="hljs-params">i</span>);<span class="hljs-params">this</span>.<span class="hljs-params">bodySize</span>+=<span class="hljs-params">t</span>.<span class="hljs-params">length</span>,<span class="hljs-params">setImmediate</span>(<span class="hljs-params">(</span>)=&gt;</span><span class="hljs-keyword">this</span>.push(t))}<span class="hljs-keyword">return</span>!<span class="hljs-number">1</span>}<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.headerBytes+=e.length,<span class="hljs-keyword">this</span>.headerChunks.push(e),<span class="hljs-keyword">this</span>.updateLastBytes(e),!<span class="hljs-number">1</span>}_transform(e,t,i){<span class="hljs-keyword">let</span> a;<span class="hljs-keyword">if</span>(!e||!e.length)<span class="hljs-keyword">return</span> i();<span class="hljs-string">"string"</span>==<span class="hljs-keyword">typeof</span> e&amp;&amp;<span class="hljs-function">(<span class="hljs-params">e=Buffer.<span class="hljs-keyword">from</span>(e,t</span>));<span class="hljs-params">try</span>{<span class="hljs-params">a</span>=<span class="hljs-params">this</span>.<span class="hljs-params">checkHeaders</span>(<span class="hljs-params">e</span>)}<span class="hljs-params">catch</span>(<span class="hljs-params">e</span>){<span class="hljs-params">return</span> <span class="hljs-params">i</span>(<span class="hljs-params">e</span>)}<span class="hljs-params">a</span>&amp;&amp;(<span class="hljs-params"><span class="hljs-keyword">this</span>.bodySize+=e.length,<span class="hljs-keyword">this</span>.push(e</span>)),<span class="hljs-params">setImmediate</span>(<span class="hljs-params">i</span>)}<span class="hljs-params">_flush</span>(<span class="hljs-params">e</span>){<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>.headerChunks</span>){<span class="hljs-params">let</span> <span class="hljs-params">e</span>=<span class="hljs-params">Buffer</span>.<span class="hljs-params">concat</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>.headerChunks,<span class="hljs-keyword">this</span>.headerBytes</span>);<span class="hljs-params">this</span>.<span class="hljs-params">bodySize</span>+=<span class="hljs-params">e</span>.<span class="hljs-params">length</span>,<span class="hljs-params">this</span>.<span class="hljs-params">push</span>(<span class="hljs-params">e</span>),<span class="hljs-params">this</span>.<span class="hljs-params">headerChunks</span>=<span class="hljs-params">null</span>}<span class="hljs-params">e</span><span class="hljs-params">()</span>}<span class="hljs-params">parseHeaders</span><span class="hljs-params">()</span>{<span class="hljs-params">let</span> <span class="hljs-params">e</span>=(<span class="hljs-params"><span class="hljs-keyword">this</span>.rawHeaders||<span class="hljs-string">""</span></span>).<span class="hljs-params">toString</span><span class="hljs-params">()</span>.<span class="hljs-params">split</span>(<span class="hljs-params"><span class="hljs-regexp">/\r?\n/</span></span>);<span class="hljs-params">for</span>(<span class="hljs-params"><span class="hljs-keyword">let</span> t=e.length<span class="hljs-number">-1</span>;t&gt;<span class="hljs-number">0</span>;t--</span>)/^\<span class="hljs-params">s</span>/.<span class="hljs-params">test</span>(<span class="hljs-params">e[t]</span>)&amp;&amp;(<span class="hljs-params">e[t<span class="hljs-number">-1</span>]+=<span class="hljs-string">"\n"</span>+e[t],e.splice(t,<span class="hljs-number">1</span></span>));<span class="hljs-params">return</span> <span class="hljs-params">e</span>.<span class="hljs-params">filter</span>(<span class="hljs-params">e=&gt;e.trim(</span>)).<span class="hljs-params">map</span>(<span class="hljs-params">e=&gt;({key:e.substr(<span class="hljs-number">0</span>,e.indexOf(<span class="hljs-string">":"</span></span>)).<span class="hljs-params">trim</span><span class="hljs-params">()</span>.<span class="hljs-params">toLowerCase</span><span class="hljs-params">()</span>,<span class="hljs-params">line</span>:<span class="hljs-params">e</span>}))}}},58556,(<span class="hljs-params">e,t,i</span>)=&gt;</span>{<span class="hljs-string">"use strict"</span>;<span class="hljs-keyword">let</span> a=e.r(<span class="hljs-number">88947</span>).Transform,s=e.r(<span class="hljs-number">54799</span>);t.exports=<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">a</span></span>{<span class="hljs-keyword">constructor</span>(e){<span class="hljs-keyword">super</span>(),e=e||{},<span class="hljs-keyword">this</span>.chunkBuffer=[],<span class="hljs-keyword">this</span>.chunkBufferLen=<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>.bodyHash=s.createHash(e.hashAlgo||<span class="hljs-string">"sha1"</span>),<span class="hljs-keyword">this</span>.remainder=<span class="hljs-string">""</span>,<span class="hljs-keyword">this</span>.byteLength=<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>.debug=e.debug,<span class="hljs-keyword">this</span>._debugBody=!!e.debug&amp;&amp;[]}updateHash(e){<span class="hljs-keyword">let</span> t,i=<span class="hljs-string">""</span>,a=<span class="hljs-string">"file"</span>;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> t=e.length<span class="hljs-number">-1</span>;t&gt;=<span class="hljs-number">0</span>;t--){<span class="hljs-keyword">let</span> s=e[t];<span class="hljs-keyword">if</span>(<span class="hljs-string">"file"</span>===a&amp;&amp;<span class="hljs-function">(<span class="hljs-params"><span class="hljs-number">10</span>===s||<span class="hljs-number">13</span>===s</span>));<span class="hljs-params">else</span> <span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-string">"file"</span>===a&amp;&amp;(<span class="hljs-number">9</span>===s||<span class="hljs-number">32</span>===s</span>))<span class="hljs-params">a</span>="<span class="hljs-params">line</span>";<span class="hljs-params">else</span> <span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-string">"line"</span>===a&amp;&amp;(<span class="hljs-number">9</span>===s||<span class="hljs-number">32</span>===s</span>));<span class="hljs-params">else</span> <span class="hljs-params">if</span>(<span class="hljs-params">(<span class="hljs-string">"file"</span>===a||<span class="hljs-string">"line"</span>===a</span>)&amp;&amp;(<span class="hljs-params">a=<span class="hljs-string">"body"</span>,t===e.length<span class="hljs-number">-1</span></span>))<span class="hljs-params">break</span>;<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-number">0</span>===t</span>){<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-string">"file"</span>===a&amp;&amp;(!<span class="hljs-keyword">this</span>.remainder||<span class="hljs-regexp">/[\r\n]$/</span>.test(<span class="hljs-keyword">this</span>.remainder</span>))||"<span class="hljs-params">line</span>"===<span class="hljs-params">a</span>&amp;&amp;(<span class="hljs-params">!<span class="hljs-keyword">this</span>.remainder||<span class="hljs-regexp">/[ \t]$/</span>.test(<span class="hljs-keyword">this</span>.remainder</span>))){<span class="hljs-params">this</span>.<span class="hljs-params">remainder</span>+=<span class="hljs-params">e</span>.<span class="hljs-params">toString</span>(<span class="hljs-params"><span class="hljs-string">"binary"</span></span>);<span class="hljs-params">return</span>}<span class="hljs-params">else</span> <span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-string">"line"</span>===a||<span class="hljs-string">"file"</span>===a</span>){<span class="hljs-params">i</span>=<span class="hljs-params">e</span>.<span class="hljs-params">toString</span>(<span class="hljs-params"><span class="hljs-string">"binary"</span></span>),<span class="hljs-params">e</span>=!1;<span class="hljs-params">break</span>}}<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-string">"body"</span>===a</span>){<span class="hljs-params">i</span>=<span class="hljs-params">e</span>.<span class="hljs-params">slice</span>(<span class="hljs-params">t+<span class="hljs-number">1</span></span>).<span class="hljs-params">toString</span>(<span class="hljs-params"><span class="hljs-string">"binary"</span></span>),<span class="hljs-params">e</span>=<span class="hljs-params">e</span>.<span class="hljs-params">slice</span>(<span class="hljs-params"><span class="hljs-number">0</span>,t+<span class="hljs-number">1</span></span>);<span class="hljs-params">break</span>}}<span class="hljs-params">let</span> <span class="hljs-params">s</span>=!!<span class="hljs-params">this</span>.<span class="hljs-params">remainder</span>;<span class="hljs-params">if</span>(<span class="hljs-params">e&amp;&amp;!s</span>){<span class="hljs-params">for</span>(<span class="hljs-params"><span class="hljs-keyword">let</span> t=<span class="hljs-number">0</span>,i=e.length;t&lt;i;t++</span>)<span class="hljs-params">if</span>(<span class="hljs-params">t&amp;&amp;<span class="hljs-number">10</span>===e[t]&amp;&amp;<span class="hljs-number">13</span>!==e[t<span class="hljs-number">-1</span>]</span>){<span class="hljs-params">s</span>=!0;<span class="hljs-params">break</span>}<span class="hljs-params">else</span> <span class="hljs-params">if</span>(<span class="hljs-params">t&amp;&amp;<span class="hljs-number">13</span>===e[t]&amp;&amp;<span class="hljs-number">32</span>===e[t<span class="hljs-number">-1</span>]</span>){<span class="hljs-params">s</span>=!0;<span class="hljs-params">break</span>}<span class="hljs-params">else</span> <span class="hljs-params">if</span>(<span class="hljs-params">t&amp;&amp;<span class="hljs-number">32</span>===e[t]&amp;&amp;<span class="hljs-number">32</span>===e[t<span class="hljs-number">-1</span>]</span>){<span class="hljs-params">s</span>=!0;<span class="hljs-params">break</span>}<span class="hljs-params">else</span> <span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-number">9</span>===e[t]</span>){<span class="hljs-params">s</span>=!0;<span class="hljs-params">break</span>}}<span class="hljs-params">s</span>?(<span class="hljs-params">t=<span class="hljs-keyword">this</span>.remainder+(e?e.toString(<span class="hljs-string">"binary"</span></span>):""),<span class="hljs-params">this</span>.<span class="hljs-params">remainder</span>=<span class="hljs-params">i</span>,<span class="hljs-params">t</span>=<span class="hljs-params">t</span>.<span class="hljs-params">replace</span>(<span class="hljs-params"><span class="hljs-regexp">/\r?\n/g</span>,<span class="hljs-string">"\n"</span></span>).<span class="hljs-params">replace</span>(<span class="hljs-params"><span class="hljs-regexp">/[ \t]*$/gm</span>,<span class="hljs-string">""</span></span>).<span class="hljs-params">replace</span>(<span class="hljs-params"><span class="hljs-regexp">/[ \t]+/gm</span>,<span class="hljs-string">" "</span></span>).<span class="hljs-params">replace</span>(<span class="hljs-params"><span class="hljs-regexp">/\n/g</span>,<span class="hljs-string">"\r\n"</span></span>),<span class="hljs-params">e</span>=<span class="hljs-params">Buffer</span>.<span class="hljs-params">from</span>(<span class="hljs-params">t,<span class="hljs-string">"binary"</span></span>)):<span class="hljs-params">i</span>&amp;&amp;(<span class="hljs-params"><span class="hljs-keyword">this</span>.remainder=i</span>),<span class="hljs-params">this</span>.<span class="hljs-params">debug</span>&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">_debugBody</span>.<span class="hljs-params">push</span>(<span class="hljs-params">e</span>),<span class="hljs-params">this</span>.<span class="hljs-params">bodyHash</span>.<span class="hljs-params">update</span>(<span class="hljs-params">e</span>)}<span class="hljs-params">_transform</span>(<span class="hljs-params">e,t,i</span>){<span class="hljs-params">if</span>(<span class="hljs-params">!e||!e.length</span>)<span class="hljs-params">return</span> <span class="hljs-params">i</span><span class="hljs-params">()</span>;"<span class="hljs-params">string</span>"==<span class="hljs-params">typeof</span> <span class="hljs-params">e</span>&amp;&amp;(<span class="hljs-params">e=Buffer.<span class="hljs-keyword">from</span>(e,t</span>)),<span class="hljs-params">this</span>.<span class="hljs-params">updateHash</span>(<span class="hljs-params">e</span>),<span class="hljs-params">this</span>.<span class="hljs-params">byteLength</span>+=<span class="hljs-params">e</span>.<span class="hljs-params">length</span>,<span class="hljs-params">this</span>.<span class="hljs-params">push</span>(<span class="hljs-params">e</span>),<span class="hljs-params">i</span><span class="hljs-params">()</span>}<span class="hljs-params">_flush</span>(<span class="hljs-params">e</span>){/[\<span class="hljs-params">r</span>\<span class="hljs-params">n</span>]<span class="hljs-params">$</span>/.<span class="hljs-params">test</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>.remainder</span>)&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">byteLength</span>&gt;2&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">bodyHash</span>.<span class="hljs-params">update</span>(<span class="hljs-params">Buffer.<span class="hljs-keyword">from</span>(<span class="hljs-string">"\r\n"</span></span>)),<span class="hljs-params">this</span>.<span class="hljs-params">byteLength</span>||<span class="hljs-params">this</span>.<span class="hljs-params">push</span>(<span class="hljs-params">Buffer.<span class="hljs-keyword">from</span>(<span class="hljs-string">"\r\n"</span></span>)),<span class="hljs-params">this</span>.<span class="hljs-params">emit</span>(<span class="hljs-params"><span class="hljs-string">"hash"</span>,<span class="hljs-keyword">this</span>.bodyHash.digest(<span class="hljs-string">"base64"</span></span>),!!<span class="hljs-params">this</span>.<span class="hljs-params">debug</span>&amp;&amp;<span class="hljs-params">Buffer</span>.<span class="hljs-params">concat</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>._debugBody</span>)),<span class="hljs-params">e</span><span class="hljs-params">()</span>}}},3553,(<span class="hljs-params">e,t,i</span>)=&gt;</span>{<span class="hljs-string">"use strict"</span>;<span class="hljs-keyword">let</span> a=e.r(<span class="hljs-number">2532</span>),s=e.r(<span class="hljs-number">4447</span>),o=e.r(<span class="hljs-number">54799</span>);<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">n</span>(<span class="hljs-params">e,t,i</span>)</span>{<span class="hljs-keyword">let</span> a=<span class="hljs-keyword">new</span> <span class="hljs-built_in">Set</span>,s=<span class="hljs-keyword">new</span> <span class="hljs-built_in">Set</span>,o=<span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>;<span class="hljs-function">(<span class="hljs-params">i||<span class="hljs-string">""</span></span>).<span class="hljs-params">toLowerCase</span><span class="hljs-params">()</span>.<span class="hljs-params">split</span>(<span class="hljs-params"><span class="hljs-string">":"</span></span>).<span class="hljs-params">forEach</span>(<span class="hljs-params">e=&gt;{s.add(e.trim(</span>))}),(<span class="hljs-params">t||<span class="hljs-string">""</span></span>).<span class="hljs-params">toLowerCase</span><span class="hljs-params">()</span>.<span class="hljs-params">split</span>(<span class="hljs-params"><span class="hljs-string">":"</span></span>).<span class="hljs-params">filter</span>(<span class="hljs-params">e=&gt;!s.has(e.trim(</span>))).<span class="hljs-params">forEach</span>(<span class="hljs-params">e=&gt;{a.add(e.trim(</span>))});<span class="hljs-params">for</span>(<span class="hljs-params"><span class="hljs-keyword">let</span> t=e.length<span class="hljs-number">-1</span>;t&gt;=<span class="hljs-number">0</span>;t--</span>){<span class="hljs-params">let</span> <span class="hljs-params">i</span>=<span class="hljs-params">e</span>[<span class="hljs-params">t</span>];<span class="hljs-params">a</span>.<span class="hljs-params">has</span>(<span class="hljs-params">i.key</span>)&amp;&amp;!<span class="hljs-params">o</span>.<span class="hljs-params">has</span>(<span class="hljs-params">i.key</span>)&amp;&amp;<span class="hljs-params">o</span>.<span class="hljs-params">set</span>(<span class="hljs-params">i.key,r(i.line</span>))}<span class="hljs-params">let</span> <span class="hljs-params">n</span>=[],<span class="hljs-params">p</span>=[];<span class="hljs-params">return</span> <span class="hljs-params">a</span>.<span class="hljs-params">forEach</span>(<span class="hljs-params">e=&gt;{o.has(e</span>)&amp;&amp;(<span class="hljs-params">p.push(e</span>),<span class="hljs-params">n</span>.<span class="hljs-params">push</span>(<span class="hljs-params">e+<span class="hljs-string">":"</span>+o.get(e</span>)))}),{<span class="hljs-params">headers</span>:<span class="hljs-params">n</span>.<span class="hljs-params">join</span>(<span class="hljs-params"><span class="hljs-string">"\r\n"</span></span>)+"\<span class="hljs-params">r</span>\<span class="hljs-params">n</span>",<span class="hljs-params">fieldNames</span>:<span class="hljs-params">p</span>.<span class="hljs-params">join</span>(<span class="hljs-params"><span class="hljs-string">":"</span></span>)}}<span class="hljs-params">function</span> <span class="hljs-params">r</span>(<span class="hljs-params">e</span>){<span class="hljs-params">return</span> <span class="hljs-params">e</span>.<span class="hljs-params">substr</span>(<span class="hljs-params">e.indexOf(<span class="hljs-string">":"</span></span>)+1).<span class="hljs-params">replace</span>(<span class="hljs-params"><span class="hljs-regexp">/\r?\n/g</span>,<span class="hljs-string">""</span></span>).<span class="hljs-params">replace</span>(<span class="hljs-params"><span class="hljs-regexp">/\s+/g</span>,<span class="hljs-string">" "</span></span>).<span class="hljs-params">trim</span><span class="hljs-params">()</span>}<span class="hljs-params">t</span>.<span class="hljs-params">exports</span>=(<span class="hljs-params">e,t,i,p</span>)=&gt;</span>{<span class="hljs-keyword">var</span> c,l,d,m,h;<span class="hljs-keyword">let</span> u,x,f,g=n(e,(p=p||{}).headerFieldNames||<span class="hljs-string">"From:Sender:Reply-To:Subject:Date:Message-ID:To:Cc:MIME-Version:Content-Type:Content-Transfer-Encoding:Content-ID:Content-Description:Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:In-Reply-To:References:List-Id:List-Help:List-Unsubscribe:List-Subscribe:List-Post:List-Owner:List-Archive"</span>,p.skipFields),v=<span class="hljs-function">(<span class="hljs-params">c=p.domainName,l=p.keySelector,d=g.fieldNames,m=t,h=i,f=[<span class="hljs-string">"v=1"</span>,<span class="hljs-string">"a=rsa-"</span>+m,<span class="hljs-string">"c=relaxed/relaxed"</span>,<span class="hljs-string">"d="</span>+a.toASCII(c</span>),"<span class="hljs-params">q</span>=<span class="hljs-params">dns</span>/<span class="hljs-params">txt</span>","<span class="hljs-params">s</span>="+<span class="hljs-params">l</span>,"<span class="hljs-params">bh</span>="+<span class="hljs-params">h</span>,"<span class="hljs-params">h</span>="+<span class="hljs-params">d</span>].<span class="hljs-params">join</span>(<span class="hljs-params"><span class="hljs-string">"; "</span></span>),<span class="hljs-params">s</span>.<span class="hljs-params">foldLines</span>(<span class="hljs-params"><span class="hljs-string">"DKIM-Signature: "</span>+f,<span class="hljs-number">76</span></span>)+";\<span class="hljs-params">r</span>\<span class="hljs-params">n</span> <span class="hljs-params">b</span>=");<span class="hljs-params">g</span>.<span class="hljs-params">headers</span>+="<span class="hljs-params">dkim</span>-<span class="hljs-params">signature</span>:"+<span class="hljs-params">r</span>(<span class="hljs-params">v</span>),(<span class="hljs-params">u=o.createSign((<span class="hljs-string">"rsa-"</span>+t</span>).<span class="hljs-params">toUpperCase</span><span class="hljs-params">()</span>)).<span class="hljs-params">update</span>(<span class="hljs-params">g.headers</span>);<span class="hljs-params">try</span>{<span class="hljs-params">x</span>=<span class="hljs-params">u</span>.<span class="hljs-params">sign</span>(<span class="hljs-params">p.privateKey,<span class="hljs-string">"base64"</span></span>)}<span class="hljs-params">catch</span>(<span class="hljs-params">e</span>){<span class="hljs-params">return</span>!1}<span class="hljs-params">return</span> <span class="hljs-params">v</span>+<span class="hljs-params">x</span>.<span class="hljs-params">replace</span>(<span class="hljs-params"><span class="hljs-regexp">/(^.{73}|.{75}(?!\r?\n|\r))/g</span>,<span class="hljs-string">"$&amp;\r\n "</span></span>).<span class="hljs-params">trim</span><span class="hljs-params">()</span>},<span class="hljs-params">t</span>.<span class="hljs-params">exports</span>.<span class="hljs-params">relaxedHeaders</span>=<span class="hljs-params">n</span>},82267,(<span class="hljs-params">e,t,i</span>)=&gt;</span>{<span class="hljs-string">"use strict"</span>;<span class="hljs-keyword">let</span> a=e.r(<span class="hljs-number">5671</span>),s=e.r(<span class="hljs-number">58556</span>),o=e.r(<span class="hljs-number">3553</span>),n=e.r(<span class="hljs-number">88947</span>).PassThrough,r=e.r(<span class="hljs-number">22734</span>),p=e.r(<span class="hljs-number">14747</span>),c=e.r(<span class="hljs-number">54799</span>);<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">l</span></span>{<span class="hljs-keyword">constructor</span>(e,t,i,a){<span class="hljs-keyword">this</span>.options=e||{},<span class="hljs-keyword">this</span>.keys=t,<span class="hljs-keyword">this</span>.cacheTreshold=<span class="hljs-built_in">Number</span>(<span class="hljs-keyword">this</span>.options.cacheTreshold)||<span class="hljs-number">2097152</span>,<span class="hljs-keyword">this</span>.hashAlgo=<span class="hljs-keyword">this</span>.options.hashAlgo||<span class="hljs-string">"sha256"</span>,<span class="hljs-keyword">this</span>.cacheDir=<span class="hljs-keyword">this</span>.options.cacheDir||!<span class="hljs-number">1</span>,<span class="hljs-keyword">this</span>.chunks=[],<span class="hljs-keyword">this</span>.chunklen=<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>.readPos=<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>.cachePath=!!<span class="hljs-keyword">this</span>.cacheDir&amp;&amp;p.join(<span class="hljs-keyword">this</span>.cacheDir,<span class="hljs-string">"message."</span>+<span class="hljs-built_in">Date</span>.now()+<span class="hljs-string">"-"</span>+c.randomBytes(<span class="hljs-number">14</span>).toString(<span class="hljs-string">"hex"</span>)),<span class="hljs-keyword">this</span>.cache=!<span class="hljs-number">1</span>,<span class="hljs-keyword">this</span>.headers=!<span class="hljs-number">1</span>,<span class="hljs-keyword">this</span>.bodyHash=!<span class="hljs-number">1</span>,<span class="hljs-keyword">this</span>.parser=!<span class="hljs-number">1</span>,<span class="hljs-keyword">this</span>.relaxedBody=!<span class="hljs-number">1</span>,<span class="hljs-keyword">this</span>.input=i,<span class="hljs-keyword">this</span>.output=a,<span class="hljs-keyword">this</span>.output.usingCache=!<span class="hljs-number">1</span>,<span class="hljs-keyword">this</span>.hasErrored=!<span class="hljs-number">1</span>,<span class="hljs-keyword">this</span>.input.on(<span class="hljs-string">"error"</span>,e=&gt;{<span class="hljs-keyword">this</span>.hasErrored=!<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>.cleanup(),a.emit(<span class="hljs-string">"error"</span>,e)})}cleanup(){<span class="hljs-keyword">this</span>.cache&amp;&amp;<span class="hljs-keyword">this</span>.cachePath&amp;&amp;r.unlink(<span class="hljs-keyword">this</span>.cachePath,()=&gt;!<span class="hljs-number">1</span>)}createReadCache(){<span class="hljs-keyword">this</span>.cache=r.createReadStream(<span class="hljs-keyword">this</span>.cachePath),<span class="hljs-keyword">this</span>.cache.once(<span class="hljs-string">"error"</span>,e=&gt;{<span class="hljs-keyword">this</span>.cleanup(),<span class="hljs-keyword">this</span>.output.emit(<span class="hljs-string">"error"</span>,e)}),<span class="hljs-keyword">this</span>.cache.once(<span class="hljs-string">"close"</span>,()=&gt;{<span class="hljs-keyword">this</span>.cleanup()}),<span class="hljs-keyword">this</span>.cache.pipe(<span class="hljs-keyword">this</span>.output)}sendNextChunk(){<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.hasErrored)<span class="hljs-keyword">return</span>;<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.readPos&gt;=<span class="hljs-keyword">this</span>.chunks.length)<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.cache?<span class="hljs-keyword">this</span>.createReadCache():<span class="hljs-keyword">this</span>.output.end();<span class="hljs-keyword">let</span> e=<span class="hljs-keyword">this</span>.chunks[<span class="hljs-keyword">this</span>.readPos++];<span class="hljs-keyword">if</span>(!<span class="hljs-number">1</span>===<span class="hljs-keyword">this</span>.output.write(e))<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.output.once(<span class="hljs-string">"drain"</span>,()=&gt;{<span class="hljs-keyword">this</span>.sendNextChunk()});setImmediate(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span><span class="hljs-keyword">this</span>.sendNextChunk())}sendSignedOutput(){<span class="hljs-keyword">let</span> e=<span class="hljs-number">0</span>,t=<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{<span class="hljs-keyword">if</span>(e&gt;=<span class="hljs-keyword">this</span>.keys.length)<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.output.write(<span class="hljs-keyword">this</span>.parser.rawHeaders),setImmediate(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span><span class="hljs-keyword">this</span>.sendNextChunk());<span class="hljs-keyword">let</span> i=<span class="hljs-keyword">this</span>.keys[e++],a=o(<span class="hljs-keyword">this</span>.headers,<span class="hljs-keyword">this</span>.hashAlgo,<span class="hljs-keyword">this</span>.bodyHash,{<span class="hljs-attr">domainName</span>:i.domainName,<span class="hljs-attr">keySelector</span>:i.keySelector,<span class="hljs-attr">privateKey</span>:i.privateKey,<span class="hljs-attr">headerFieldNames</span>:<span class="hljs-keyword">this</span>.options.headerFieldNames,<span class="hljs-attr">skipFields</span>:<span class="hljs-keyword">this</span>.options.skipFields});<span class="hljs-keyword">return</span> a&amp;&amp;<span class="hljs-keyword">this</span>.output.write(Buffer.from(a+<span class="hljs-string">"\r\n"</span>)),setImmediate(t)};<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.bodyHash&amp;&amp;<span class="hljs-keyword">this</span>.headers)<span class="hljs-keyword">return</span> t();<span class="hljs-keyword">this</span>.output.write(<span class="hljs-keyword">this</span>.parser.rawHeaders),<span class="hljs-keyword">this</span>.sendNextChunk()}createWriteCache(){<span class="hljs-keyword">this</span>.output.usingCache=!<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>.cache=r.createWriteStream(<span class="hljs-keyword">this</span>.cachePath),<span class="hljs-keyword">this</span>.cache.once(<span class="hljs-string">"error"</span>,e=&gt;{<span class="hljs-keyword">this</span>.cleanup(),<span class="hljs-keyword">this</span>.relaxedBody.unpipe(<span class="hljs-keyword">this</span>.cache),<span class="hljs-keyword">this</span>.relaxedBody.on(<span class="hljs-string">"readable"</span>,()=&gt;{<span class="hljs-keyword">for</span>(;<span class="hljs-literal">null</span>!==<span class="hljs-keyword">this</span>.relaxedBody.read(););}),<span class="hljs-keyword">this</span>.hasErrored=!<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>.output.emit(<span class="hljs-string">"error"</span>,e)}),<span class="hljs-keyword">this</span>.cache.once(<span class="hljs-string">"close"</span>,()=&gt;{<span class="hljs-keyword">this</span>.sendSignedOutput()}),<span class="hljs-keyword">this</span>.relaxedBody.removeAllListeners(<span class="hljs-string">"readable"</span>),<span class="hljs-keyword">this</span>.relaxedBody.pipe(<span class="hljs-keyword">this</span>.cache)}signStream(){<span class="hljs-keyword">this</span>.parser=<span class="hljs-keyword">new</span> a,<span class="hljs-keyword">this</span>.relaxedBody=<span class="hljs-keyword">new</span> s({<span class="hljs-attr">hashAlgo</span>:<span class="hljs-keyword">this</span>.hashAlgo}),<span class="hljs-keyword">this</span>.parser.on(<span class="hljs-string">"headers"</span>,e=&gt;{<span class="hljs-keyword">this</span>.headers=e}),<span class="hljs-keyword">this</span>.relaxedBody.on(<span class="hljs-string">"hash"</span>,e=&gt;{<span class="hljs-keyword">this</span>.bodyHash=e}),<span class="hljs-keyword">this</span>.relaxedBody.on(<span class="hljs-string">"readable"</span>,()=&gt;{<span class="hljs-keyword">let</span> e;<span class="hljs-keyword">if</span>(!<span class="hljs-keyword">this</span>.cache){<span class="hljs-keyword">for</span>(;<span class="hljs-literal">null</span>!==<span class="hljs-function">(<span class="hljs-params">e=<span class="hljs-keyword">this</span>.relaxedBody.read(</span>));)<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>.chunks.push(e</span>),<span class="hljs-params">this</span>.<span class="hljs-params">chunklen</span>+=<span class="hljs-params">e</span>.<span class="hljs-params">length</span>,<span class="hljs-params">this</span>.<span class="hljs-params">chunklen</span>&gt;=<span class="hljs-params">this</span>.<span class="hljs-params">cacheTreshold</span>&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">cachePath</span>)<span class="hljs-params">return</span> <span class="hljs-params">this</span>.<span class="hljs-params">createWriteCache</span><span class="hljs-params">()</span>}}),<span class="hljs-params">this</span>.<span class="hljs-params">relaxedBody</span>.<span class="hljs-params">on</span>(<span class="hljs-params"><span class="hljs-string">"end"</span>,(</span>)=&gt;</span>{<span class="hljs-keyword">this</span>.cache||<span class="hljs-keyword">this</span>.sendSignedOutput()}),<span class="hljs-keyword">this</span>.parser.pipe(<span class="hljs-keyword">this</span>.relaxedBody),setImmediate(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span><span class="hljs-keyword">this</span>.input.pipe(<span class="hljs-keyword">this</span>.parser))}}t.exports=<span class="hljs-class"><span class="hljs-keyword">class</span></span>{<span class="hljs-keyword">constructor</span>(e){<span class="hljs-keyword">this</span>.options=e||{},<span class="hljs-keyword">this</span>.keys=[].concat(<span class="hljs-keyword">this</span>.options.keys||{<span class="hljs-attr">domainName</span>:e.domainName,<span class="hljs-attr">keySelector</span>:e.keySelector,<span class="hljs-attr">privateKey</span>:e.privateKey})}sign(e,t){<span class="hljs-keyword">let</span> i=<span class="hljs-keyword">new</span> n,a=e,s=!<span class="hljs-number">1</span>;Buffer.isBuffer(e)?<span class="hljs-function">(<span class="hljs-params">s=e,a=<span class="hljs-keyword">new</span> n</span>):"<span class="hljs-params">string</span>"==<span class="hljs-params">typeof</span> <span class="hljs-params">e</span>&amp;&amp;(<span class="hljs-params">s=Buffer.<span class="hljs-keyword">from</span>(e</span>),<span class="hljs-params">a</span>=<span class="hljs-params">new</span> <span class="hljs-params">n</span>);<span class="hljs-params">let</span> <span class="hljs-params">o</span>=<span class="hljs-params">this</span>.<span class="hljs-params">options</span>;<span class="hljs-params">t</span>&amp;&amp;<span class="hljs-params">Object</span>.<span class="hljs-params">keys</span>(<span class="hljs-params">t</span>).<span class="hljs-params">length</span>&amp;&amp;(<span class="hljs-params">o={},<span class="hljs-built_in">Object</span>.keys(<span class="hljs-keyword">this</span>.options||{}</span>).<span class="hljs-params">forEach</span>(<span class="hljs-params">e=&gt;{o[e]=<span class="hljs-keyword">this</span>.options[e]}</span>),<span class="hljs-params">Object</span>.<span class="hljs-params">keys</span>(<span class="hljs-params">t||{}</span>).<span class="hljs-params">forEach</span>(<span class="hljs-params">e=&gt;{e <span class="hljs-keyword">in</span> o||(o[e]=t[e]</span>)}));<span class="hljs-params">let</span> <span class="hljs-params">r</span>=<span class="hljs-params">new</span> <span class="hljs-params">l</span>(<span class="hljs-params">o,<span class="hljs-keyword">this</span>.keys,a,i</span>);<span class="hljs-params">return</span> <span class="hljs-params">setImmediate</span>(<span class="hljs-params">(</span>)=&gt;</span>{r.signStream(),s&amp;&amp;setImmediate(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{a.end(s)})}),i}}},<span class="hljs-number">55004</span>,(e,t,i)=&gt;{t.exports=e.x(<span class="hljs-string">"tls"</span>,()=&gt;<span class="hljs-built_in">require</span>(<span class="hljs-string">"tls"</span>))},<span class="hljs-number">75303</span>,(e,t,i)=&gt;{<span class="hljs-string">"use strict"</span>;<span class="hljs-keyword">let</span> a=e.r(<span class="hljs-number">4446</span>),s=e.r(<span class="hljs-number">55004</span>),o=e.r(<span class="hljs-number">92509</span>);t.exports=<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">e</span>(<span class="hljs-params">t,i,n,r</span>)</span>{<span class="hljs-keyword">let</span> p,c,l,d=o.parse(t);p={<span class="hljs-attr">host</span>:d.hostname,<span class="hljs-attr">port</span>:<span class="hljs-built_in">Number</span>(d.port)?<span class="hljs-built_in">Number</span>(d.port):<span class="hljs-string">"https:"</span>===d.protocol?<span class="hljs-number">443</span>:<span class="hljs-number">80</span>},<span class="hljs-string">"https:"</span>===d.protocol?<span class="hljs-function">(<span class="hljs-params">p.rejectUnauthorized=!<span class="hljs-number">1</span>,c=s.connect.bind(s</span>)):<span class="hljs-params">c</span>=<span class="hljs-params">a</span>.<span class="hljs-params">connect</span>.<span class="hljs-params">bind</span>(<span class="hljs-params">a</span>);<span class="hljs-params">let</span> <span class="hljs-params">m</span>=!1,<span class="hljs-params">h</span>=<span class="hljs-params">e</span>=&gt;</span>{<span class="hljs-keyword">if</span>(!m){m=!<span class="hljs-number">0</span>;<span class="hljs-keyword">try</span>{l.destroy()}<span class="hljs-keyword">catch</span>(e){}r(e)}},u=<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{<span class="hljs-keyword">let</span> e=<span class="hljs-built_in">Error</span>(<span class="hljs-string">"Proxy socket timed out"</span>);e.code=<span class="hljs-string">"ETIMEDOUT"</span>,h(e)};<span class="hljs-function">(<span class="hljs-params">l=c(p,(</span>)=&gt;</span>{<span class="hljs-keyword">if</span>(m)<span class="hljs-keyword">return</span>;<span class="hljs-keyword">let</span> e={<span class="hljs-attr">Host</span>:n+<span class="hljs-string">":"</span>+i,<span class="hljs-attr">Connection</span>:<span class="hljs-string">"close"</span>};d.auth&amp;&amp;<span class="hljs-function">(<span class="hljs-params">e[<span class="hljs-string">"Proxy-Authorization"</span>]=<span class="hljs-string">"Basic "</span>+Buffer.<span class="hljs-keyword">from</span>(d.auth</span>).<span class="hljs-params">toString</span>(<span class="hljs-params"><span class="hljs-string">"base64"</span></span>)),<span class="hljs-params">l</span>.<span class="hljs-params">write</span>(<span class="hljs-params"><span class="hljs-string">"CONNECT "</span>+n+<span class="hljs-string">":"</span>+i+<span class="hljs-string">" HTTP/1.1\r\n"</span>+<span class="hljs-built_in">Object</span>.keys(e</span>).<span class="hljs-params">map</span>(<span class="hljs-params">t=&gt;t+<span class="hljs-string">": "</span>+e[t]</span>).<span class="hljs-params">join</span>(<span class="hljs-params"><span class="hljs-string">"\r\n"</span></span>)+"\<span class="hljs-params">r</span>\<span class="hljs-params">n</span>\<span class="hljs-params">r</span>\<span class="hljs-params">n</span>");<span class="hljs-params">let</span> <span class="hljs-params">t</span>="",<span class="hljs-params">a</span>=<span class="hljs-params">e</span>=&gt;</span>{<span class="hljs-keyword">let</span> i,s;<span class="hljs-keyword">if</span>(!m&amp;&amp;<span class="hljs-function">(<span class="hljs-params">t+=e.toString(<span class="hljs-string">"binary"</span></span>),<span class="hljs-params">i</span>=<span class="hljs-params">t</span>.<span class="hljs-params">match</span>(<span class="hljs-params"><span class="hljs-regexp">/\r\n\r\n/</span></span>))){<span class="hljs-params">if</span>(<span class="hljs-params">l.removeListener(<span class="hljs-string">"data"</span>,a</span>),<span class="hljs-params">s</span>=<span class="hljs-params">t</span>.<span class="hljs-params">substr</span>(<span class="hljs-params">i.index+i[<span class="hljs-number">0</span>].length</span>),<span class="hljs-params">t</span>=<span class="hljs-params">t</span>.<span class="hljs-params">substr</span>(<span class="hljs-params"><span class="hljs-number">0</span>,i.index</span>),<span class="hljs-params">s</span>&amp;&amp;<span class="hljs-params">l</span>.<span class="hljs-params">unshift</span>(<span class="hljs-params">Buffer.<span class="hljs-keyword">from</span>(s,<span class="hljs-string">"binary"</span></span>)),<span class="hljs-params">m</span>=!0,!(<span class="hljs-params">i=t.match(<span class="hljs-regexp">/^HTTP\/\d+\.\d+ (\d+)/i</span></span>))||"2"!==(<span class="hljs-params">i[<span class="hljs-number">1</span>]||<span class="hljs-string">""</span></span>).<span class="hljs-params">charAt</span>(<span class="hljs-params"><span class="hljs-number">0</span></span>)){<span class="hljs-params">try</span>{<span class="hljs-params">l</span>.<span class="hljs-params">destroy</span><span class="hljs-params">()</span>}<span class="hljs-params">catch</span>(<span class="hljs-params">e</span>){}<span class="hljs-params">return</span> <span class="hljs-params">r</span>(<span class="hljs-params"><span class="hljs-built_in">Error</span>(<span class="hljs-string">"Invalid response from proxy"</span>+(i&amp;&amp;<span class="hljs-string">": "</span>+i[<span class="hljs-number">1</span>]||<span class="hljs-string">""</span></span>)))}<span class="hljs-params">return</span> <span class="hljs-params">l</span>.<span class="hljs-params">removeListener</span>(<span class="hljs-params"><span class="hljs-string">"error"</span>,h</span>),<span class="hljs-params">l</span>.<span class="hljs-params">removeListener</span>(<span class="hljs-params"><span class="hljs-string">"timeout"</span>,u</span>),<span class="hljs-params">l</span>.<span class="hljs-params">setTimeout</span>(<span class="hljs-params"><span class="hljs-number">0</span></span>),<span class="hljs-params">r</span>(<span class="hljs-params"><span class="hljs-literal">null</span>,l</span>)}};<span class="hljs-params">l</span>.<span class="hljs-params">on</span>(<span class="hljs-params"><span class="hljs-string">"data"</span>,a</span>)})).<span class="hljs-params">setTimeout</span>(<span class="hljs-params">e.timeout||<span class="hljs-number">3e4</span></span>),<span class="hljs-params">l</span>.<span class="hljs-params">on</span>(<span class="hljs-params"><span class="hljs-string">"timeout"</span>,u</span>),<span class="hljs-params">l</span>.<span class="hljs-params">once</span>(<span class="hljs-params"><span class="hljs-string">"error"</span>,h</span>)}},81144,(<span class="hljs-params">e,t,i</span>)=&gt;</span>{<span class="hljs-string">"use strict"</span>;<span class="hljs-keyword">let</span> a=e.r(<span class="hljs-number">17049</span>),s=e.r(<span class="hljs-number">13473</span>),o=e.r(<span class="hljs-number">4447</span>);t.exports=<span class="hljs-class"><span class="hljs-keyword">class</span></span>{<span class="hljs-keyword">constructor</span>(e,t){<span class="hljs-keyword">this</span>.mailer=e,<span class="hljs-keyword">this</span>.data={},<span class="hljs-keyword">this</span>.message=<span class="hljs-literal">null</span>,t=t||{};<span class="hljs-keyword">let</span> i=e.options||{},a=e._defaults||{};<span class="hljs-built_in">Object</span>.keys(t).forEach(<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>{<span class="hljs-keyword">this</span>.data[e]=t[e]}),<span class="hljs-keyword">this</span>.data.headers=<span class="hljs-keyword">this</span>.data.headers||{},<span class="hljs-built_in">Object</span>.keys(a).forEach(<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>{e <span class="hljs-keyword">in</span> <span class="hljs-keyword">this</span>.data?<span class="hljs-string">"headers"</span>===e&amp;&amp;<span class="hljs-built_in">Object</span>.keys(a.headers).forEach(<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>{e <span class="hljs-keyword">in</span> <span class="hljs-keyword">this</span>.data.headers||<span class="hljs-function">(<span class="hljs-params"><span class="hljs-keyword">this</span>.data.headers[e]=a.headers[e]</span>)}):<span class="hljs-params">this</span>.<span class="hljs-params">data</span>[<span class="hljs-params">e</span>]=<span class="hljs-params">a</span>[<span class="hljs-params">e</span>]}),["<span class="hljs-params">disableFileAccess</span>","<span class="hljs-params">disableUrlAccess</span>","<span class="hljs-params">normalizeHeaderKey</span>"].<span class="hljs-params">forEach</span>(<span class="hljs-params">e=&gt;{e <span class="hljs-keyword">in</span> i&amp;&amp;(<span class="hljs-keyword">this</span>.data[e]=i[e]</span>)})}<span class="hljs-params">resolveContent</span>(<span class="hljs-params">...e</span>){<span class="hljs-params">return</span> <span class="hljs-params">a</span>.<span class="hljs-params">resolveContent</span>(<span class="hljs-params">...e</span>)}<span class="hljs-params">resolveAll</span>(<span class="hljs-params">e</span>){<span class="hljs-params">let</span> <span class="hljs-params">t</span>=[[<span class="hljs-params">this</span>.<span class="hljs-params">data</span>,"<span class="hljs-params">html</span>"],[<span class="hljs-params">this</span>.<span class="hljs-params">data</span>,"<span class="hljs-params">text</span>"],[<span class="hljs-params">this</span>.<span class="hljs-params">data</span>,"<span class="hljs-params">watchHtml</span>"],[<span class="hljs-params">this</span>.<span class="hljs-params">data</span>,"<span class="hljs-params">amp</span>"],[<span class="hljs-params">this</span>.<span class="hljs-params">data</span>,"<span class="hljs-params">icalEvent</span>"]];<span class="hljs-params">this</span>.<span class="hljs-params">data</span>.<span class="hljs-params">alternatives</span>&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">data</span>.<span class="hljs-params">alternatives</span>.<span class="hljs-params">length</span>&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">data</span>.<span class="hljs-params">alternatives</span>.<span class="hljs-params">forEach</span>(<span class="hljs-params">(e,i</span>)=&gt;</span>{t.push([<span class="hljs-keyword">this</span>.data.alternatives,i])}),<span class="hljs-keyword">this</span>.data.attachments&amp;&amp;<span class="hljs-keyword">this</span>.data.attachments.length&amp;&amp;<span class="hljs-keyword">this</span>.data.attachments.forEach(<span class="hljs-function">(<span class="hljs-params">e,i</span>)=&gt;</span>{!e.filename&amp;&amp;<span class="hljs-function">(<span class="hljs-params">e.filename=(e.path||e.href||<span class="hljs-string">""</span></span>).<span class="hljs-params">split</span>(<span class="hljs-params"><span class="hljs-string">"/"</span></span>).<span class="hljs-params">pop</span><span class="hljs-params">()</span>.<span class="hljs-params">split</span>(<span class="hljs-params"><span class="hljs-string">"?"</span></span>).<span class="hljs-params">shift</span><span class="hljs-params">()</span>||"<span class="hljs-params">attachment</span>-"+(<span class="hljs-params">i+<span class="hljs-number">1</span></span>),0&gt;<span class="hljs-params">e</span>.<span class="hljs-params">filename</span>.<span class="hljs-params">indexOf</span>(<span class="hljs-params"><span class="hljs-string">"."</span></span>)&amp;&amp;(<span class="hljs-params">e.filename+=<span class="hljs-string">"."</span>+o.detectExtension(e.contentType</span>))),<span class="hljs-params">e</span>.<span class="hljs-params">contentType</span>||(<span class="hljs-params">e.contentType=o.detectMimeType(e.filename||e.path||e.href||<span class="hljs-string">"bin"</span></span>)),<span class="hljs-params">t</span>.<span class="hljs-params">push</span>(<span class="hljs-params">[<span class="hljs-keyword">this</span>.data.attachments,i]</span>)});<span class="hljs-params">let</span> <span class="hljs-params">i</span>=<span class="hljs-params">new</span> <span class="hljs-params">s</span>;["<span class="hljs-params">from</span>","<span class="hljs-params">to</span>","<span class="hljs-params">cc</span>","<span class="hljs-params">bcc</span>","<span class="hljs-params">sender</span>","<span class="hljs-params">replyTo</span>"].<span class="hljs-params">forEach</span>(<span class="hljs-params">e=&gt;{<span class="hljs-keyword">let</span> t;<span class="hljs-keyword">this</span>.message?t=[].concat(i._parseAddresses(<span class="hljs-keyword">this</span>.message.getHeader(<span class="hljs-string">"replyTo"</span>===e?<span class="hljs-string">"reply-to"</span>:e</span>))||[]):<span class="hljs-params">this</span>.<span class="hljs-params">data</span>[<span class="hljs-params">e</span>]&amp;&amp;(<span class="hljs-params">t=[].concat(i._parseAddresses(<span class="hljs-keyword">this</span>.data[e]</span>)||[])),<span class="hljs-params">t</span>&amp;&amp;<span class="hljs-params">t</span>.<span class="hljs-params">length</span>?<span class="hljs-params">this</span>.<span class="hljs-params">data</span>[<span class="hljs-params">e</span>]=<span class="hljs-params">t</span>:<span class="hljs-params">e</span> <span class="hljs-params">in</span> <span class="hljs-params">this</span>.<span class="hljs-params">data</span>&amp;&amp;(<span class="hljs-params"><span class="hljs-keyword">this</span>.data[e]=<span class="hljs-literal">null</span></span>)}),["<span class="hljs-params">from</span>","<span class="hljs-params">sender</span>"].<span class="hljs-params">forEach</span>(<span class="hljs-params">e=&gt;{<span class="hljs-keyword">this</span>.data[e]&amp;&amp;(<span class="hljs-keyword">this</span>.data[e]=<span class="hljs-keyword">this</span>.data[e].shift(</span>))});<span class="hljs-params">let</span> <span class="hljs-params">n</span>=0,<span class="hljs-params">r</span>=<span class="hljs-params">()</span>=&gt;</span>{<span class="hljs-keyword">if</span>(n&gt;=t.length)<span class="hljs-keyword">return</span> e(<span class="hljs-literal">null</span>,<span class="hljs-keyword">this</span>.data);<span class="hljs-keyword">let</span> i=t[n++];<span class="hljs-keyword">if</span>(!i[<span class="hljs-number">0</span>]||!i[<span class="hljs-number">0</span>][i[<span class="hljs-number">1</span>]])<span class="hljs-keyword">return</span> r();a.resolveContent(...i,(t,a)=&gt;{<span class="hljs-keyword">if</span>(t)<span class="hljs-keyword">return</span> e(t);<span class="hljs-keyword">let</span> s={<span class="hljs-attr">content</span>:a};i[<span class="hljs-number">0</span>][i[<span class="hljs-number">1</span>]]&amp;&amp;<span class="hljs-string">"object"</span>==<span class="hljs-keyword">typeof</span> i[<span class="hljs-number">0</span>][i[<span class="hljs-number">1</span>]]&amp;&amp;!Buffer.isBuffer(i[<span class="hljs-number">0</span>][i[<span class="hljs-number">1</span>]])&amp;&amp;<span class="hljs-built_in">Object</span>.keys(i[<span class="hljs-number">0</span>][i[<span class="hljs-number">1</span>]]).forEach(<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>{e <span class="hljs-keyword">in</span> s||[<span class="hljs-string">"content"</span>,<span class="hljs-string">"path"</span>,<span class="hljs-string">"href"</span>,<span class="hljs-string">"raw"</span>].includes(e)||<span class="hljs-function">(<span class="hljs-params">s[e]=i[<span class="hljs-number">0</span>][i[<span class="hljs-number">1</span>]][e]</span>)}),<span class="hljs-params">i</span>[0][<span class="hljs-params">i</span>[1]]=<span class="hljs-params">s</span>,<span class="hljs-params">r</span><span class="hljs-params">()</span>})};<span class="hljs-params">setImmediate</span>(<span class="hljs-params">(</span>)=&gt;</span>r())}normalize(e){<span class="hljs-keyword">let</span> t=<span class="hljs-keyword">this</span>.data.envelope||<span class="hljs-keyword">this</span>.message.getEnvelope(),i=<span class="hljs-keyword">this</span>.message.messageId();<span class="hljs-keyword">this</span>.resolveAll(<span class="hljs-function">(<span class="hljs-params">a,s</span>)=&gt;</span>a?e(a):<span class="hljs-function">(<span class="hljs-params">s.envelope=t,s.messageId=i,[<span class="hljs-string">"html"</span>,<span class="hljs-string">"text"</span>,<span class="hljs-string">"watchHtml"</span>,<span class="hljs-string">"amp"</span>].forEach(e=&gt;{s[e]&amp;&amp;s[e].content&amp;&amp;(<span class="hljs-string">"string"</span>==<span class="hljs-keyword">typeof</span> s[e].content?s[e]=s[e].content:Buffer.isBuffer(s[e].content</span>)&amp;&amp;(<span class="hljs-params">s[e]=s[e].content.toString(</span>)))}),<span class="hljs-params">s</span>.<span class="hljs-params">icalEvent</span>&amp;&amp;<span class="hljs-params">Buffer</span>.<span class="hljs-params">isBuffer</span>(<span class="hljs-params">s.icalEvent.content</span>)&amp;&amp;(<span class="hljs-params">s.icalEvent.content=s.icalEvent.content.toString(<span class="hljs-string">"base64"</span></span>),<span class="hljs-params">s</span>.<span class="hljs-params">icalEvent</span>.<span class="hljs-params">encoding</span>="<span class="hljs-params">base64</span>"),<span class="hljs-params">s</span>.<span class="hljs-params">alternatives</span>&amp;&amp;<span class="hljs-params">s</span>.<span class="hljs-params">alternatives</span>.<span class="hljs-params">length</span>&amp;&amp;<span class="hljs-params">s</span>.<span class="hljs-params">alternatives</span>.<span class="hljs-params">forEach</span>(<span class="hljs-params">e=&gt;{e&amp;&amp;e.content&amp;&amp;Buffer.isBuffer(e.content</span>)&amp;&amp;(<span class="hljs-params">e.content=e.content.toString(<span class="hljs-string">"base64"</span></span>),<span class="hljs-params">e</span>.<span class="hljs-params">encoding</span>="<span class="hljs-params">base64</span>")}),<span class="hljs-params">s</span>.<span class="hljs-params">attachments</span>&amp;&amp;<span class="hljs-params">s</span>.<span class="hljs-params">attachments</span>.<span class="hljs-params">length</span>&amp;&amp;<span class="hljs-params">s</span>.<span class="hljs-params">attachments</span>.<span class="hljs-params">forEach</span>(<span class="hljs-params">e=&gt;{e&amp;&amp;e.content&amp;&amp;Buffer.isBuffer(e.content</span>)&amp;&amp;(<span class="hljs-params">e.content=e.content.toString(<span class="hljs-string">"base64"</span></span>),<span class="hljs-params">e</span>.<span class="hljs-params">encoding</span>="<span class="hljs-params">base64</span>")}),<span class="hljs-params">s</span>.<span class="hljs-params">normalizedHeaders</span>={},<span class="hljs-params">Object</span>.<span class="hljs-params">keys</span>(<span class="hljs-params">s.headers||{}</span>).<span class="hljs-params">forEach</span>(<span class="hljs-params">e=&gt;{<span class="hljs-keyword">let</span> t=[].concat(s.headers[e]||[]</span>).<span class="hljs-params">shift</span><span class="hljs-params">()</span>;(<span class="hljs-params">t=t&amp;&amp;t.value||t</span>)&amp;&amp;(<span class="hljs-params">[<span class="hljs-string">"references"</span>,<span class="hljs-string">"in-reply-to"</span>,<span class="hljs-string">"message-id"</span>,<span class="hljs-string">"content-id"</span>].includes(e</span>)&amp;&amp;(<span class="hljs-params">t=<span class="hljs-keyword">this</span>.message._encodeHeaderValue(e,t</span>)),<span class="hljs-params">s</span>.<span class="hljs-params">normalizedHeaders</span>[<span class="hljs-params">e</span>]=<span class="hljs-params">t</span>)}),<span class="hljs-params">s</span>.<span class="hljs-params">list</span>&amp;&amp;"<span class="hljs-params">object</span>"==<span class="hljs-params">typeof</span> <span class="hljs-params">s</span>.<span class="hljs-params">list</span>&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">_getListHeaders</span>(<span class="hljs-params">s.list</span>).<span class="hljs-params">forEach</span>(<span class="hljs-params">e=&gt;{s.normalizedHeaders[e.key]=e.value.map(e=&gt;e&amp;&amp;e.value||e</span>).<span class="hljs-params">join</span>(<span class="hljs-params"><span class="hljs-string">", "</span></span>)}),<span class="hljs-params">s</span>.<span class="hljs-params">references</span>&amp;&amp;(<span class="hljs-params">s.normalizedHeaders.references=<span class="hljs-keyword">this</span>.message._encodeHeaderValue(<span class="hljs-string">"references"</span>,s.references</span>)),<span class="hljs-params">s</span>.<span class="hljs-params">inReplyTo</span>&amp;&amp;(<span class="hljs-params">s.normalizedHeaders[<span class="hljs-string">"in-reply-to"</span>]=<span class="hljs-keyword">this</span>.message._encodeHeaderValue(<span class="hljs-string">"in-reply-to"</span>,s.inReplyTo</span>)),<span class="hljs-params">e</span>(<span class="hljs-params"><span class="hljs-literal">null</span>,s</span>)))}<span class="hljs-params">setMailerHeader</span><span class="hljs-params">()</span>{<span class="hljs-params">this</span>.<span class="hljs-params">message</span>&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">data</span>.<span class="hljs-params">xMailer</span>&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">message</span>.<span class="hljs-params">setHeader</span>(<span class="hljs-params"><span class="hljs-string">"X-Mailer"</span>,<span class="hljs-keyword">this</span>.data.xMailer</span>)}<span class="hljs-params">setPriorityHeaders</span><span class="hljs-params">()</span>{<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>.message&amp;&amp;<span class="hljs-keyword">this</span>.data.priority</span>)<span class="hljs-params">switch</span>(<span class="hljs-params">(<span class="hljs-keyword">this</span>.data.priority||<span class="hljs-string">""</span></span>).<span class="hljs-params">toString</span><span class="hljs-params">()</span>.<span class="hljs-params">toLowerCase</span><span class="hljs-params">()</span>){<span class="hljs-params">case</span>"<span class="hljs-params">high</span>":<span class="hljs-params">this</span>.<span class="hljs-params">message</span>.<span class="hljs-params">setHeader</span>(<span class="hljs-params"><span class="hljs-string">"X-Priority"</span>,<span class="hljs-string">"1 (Highest)"</span></span>),<span class="hljs-params">this</span>.<span class="hljs-params">message</span>.<span class="hljs-params">setHeader</span>(<span class="hljs-params"><span class="hljs-string">"X-MSMail-Priority"</span>,<span class="hljs-string">"High"</span></span>),<span class="hljs-params">this</span>.<span class="hljs-params">message</span>.<span class="hljs-params">setHeader</span>(<span class="hljs-params"><span class="hljs-string">"Importance"</span>,<span class="hljs-string">"High"</span></span>);<span class="hljs-params">break</span>;<span class="hljs-params">case</span>"<span class="hljs-params">low</span>":<span class="hljs-params">this</span>.<span class="hljs-params">message</span>.<span class="hljs-params">setHeader</span>(<span class="hljs-params"><span class="hljs-string">"X-Priority"</span>,<span class="hljs-string">"5 (Lowest)"</span></span>),<span class="hljs-params">this</span>.<span class="hljs-params">message</span>.<span class="hljs-params">setHeader</span>(<span class="hljs-params"><span class="hljs-string">"X-MSMail-Priority"</span>,<span class="hljs-string">"Low"</span></span>),<span class="hljs-params">this</span>.<span class="hljs-params">message</span>.<span class="hljs-params">setHeader</span>(<span class="hljs-params"><span class="hljs-string">"Importance"</span>,<span class="hljs-string">"Low"</span></span>)}}<span class="hljs-params">setListHeaders</span><span class="hljs-params">()</span>{<span class="hljs-params">this</span>.<span class="hljs-params">message</span>&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">data</span>.<span class="hljs-params">list</span>&amp;&amp;"<span class="hljs-params">object</span>"==<span class="hljs-params">typeof</span> <span class="hljs-params">this</span>.<span class="hljs-params">data</span>.<span class="hljs-params">list</span>&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">data</span>.<span class="hljs-params">list</span>&amp;&amp;"<span class="hljs-params">object</span>"==<span class="hljs-params">typeof</span> <span class="hljs-params">this</span>.<span class="hljs-params">data</span>.<span class="hljs-params">list</span>&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">_getListHeaders</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>.data.list</span>).<span class="hljs-params">forEach</span>(<span class="hljs-params">e=&gt;{e.value.forEach(t=&gt;{<span class="hljs-keyword">this</span>.message.addHeader(e.key,t</span>)})})}<span class="hljs-params">_getListHeaders</span>(<span class="hljs-params">e</span>){<span class="hljs-params">return</span> <span class="hljs-params">Object</span>.<span class="hljs-params">keys</span>(<span class="hljs-params">e</span>).<span class="hljs-params">map</span>(<span class="hljs-params">t=&gt;({key:<span class="hljs-string">"list-"</span>+t.toLowerCase(</span>).<span class="hljs-params">trim</span><span class="hljs-params">()</span>,<span class="hljs-params">value</span>:[].<span class="hljs-params">concat</span>(<span class="hljs-params">e[t]||[]</span>).<span class="hljs-params">map</span>(<span class="hljs-params">e=&gt;({prepared:!<span class="hljs-number">0</span>,foldLines:!<span class="hljs-number">0</span>,value:[].concat(e||[]</span>).<span class="hljs-params">map</span>(<span class="hljs-params">e=&gt;{<span class="hljs-keyword">if</span>(<span class="hljs-string">"string"</span>==<span class="hljs-keyword">typeof</span> e&amp;&amp;(e={url:e}</span>),<span class="hljs-params">e</span>&amp;&amp;<span class="hljs-params">e</span>.<span class="hljs-params">url</span>){<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-string">"id"</span>===t.toLowerCase(</span>).<span class="hljs-params">trim</span><span class="hljs-params">()</span>){<span class="hljs-params">let</span> <span class="hljs-params">t</span>=<span class="hljs-params">e</span>.<span class="hljs-params">comment</span>||"";<span class="hljs-params">return</span> <span class="hljs-params">t</span>=<span class="hljs-params">o</span>.<span class="hljs-params">isPlainText</span>(<span class="hljs-params">t</span>)?'"'+<span class="hljs-params">t</span>+'"':<span class="hljs-params">o</span>.<span class="hljs-params">encodeWord</span>(<span class="hljs-params">t</span>),(<span class="hljs-params">e.comment?t+<span class="hljs-string">" "</span>:<span class="hljs-string">""</span></span>)+<span class="hljs-params">this</span>.<span class="hljs-params">_formatListUrl</span>(<span class="hljs-params">e.url</span>).<span class="hljs-params">replace</span>(<span class="hljs-params"><span class="hljs-regexp">/^&lt;[^:]+\/{,2}/</span>,<span class="hljs-string">""</span></span>)}<span class="hljs-params">let</span> <span class="hljs-params">i</span>=<span class="hljs-params">e</span>.<span class="hljs-params">comment</span>||"";<span class="hljs-params">return</span> <span class="hljs-params">o</span>.<span class="hljs-params">isPlainText</span>(<span class="hljs-params">i</span>)||(<span class="hljs-params">i=o.encodeWord(i</span>)),<span class="hljs-params">this</span>.<span class="hljs-params">_formatListUrl</span>(<span class="hljs-params">e.url</span>)+(<span class="hljs-params">e.comment?<span class="hljs-string">" ("</span>+i+<span class="hljs-string">")"</span>:<span class="hljs-string">""</span></span>)}<span class="hljs-params">return</span>""}).<span class="hljs-params">filter</span>(<span class="hljs-params">e=&gt;e</span>).<span class="hljs-params">join</span>(<span class="hljs-params"><span class="hljs-string">", "</span></span>)}))}))}<span class="hljs-params">_formatListUrl</span>(<span class="hljs-params">e</span>){<span class="hljs-params">return</span>(<span class="hljs-params">e=e.replace(<span class="hljs-regexp">/[\s&lt;]+|[\s&gt;]+/g</span>,<span class="hljs-string">""</span></span>),/^(<span class="hljs-params">https?|mailto|ftp</span>):/.<span class="hljs-params">test</span>(<span class="hljs-params">e</span>))?"&lt;"+<span class="hljs-params">e</span>+"&gt;":/^[^@]+@[^@]+<span class="hljs-params">$</span>/.<span class="hljs-params">test</span>(<span class="hljs-params">e</span>)?"&lt;<span class="hljs-params">mailto</span>:"+<span class="hljs-params">e</span>+"&gt;":"&lt;<span class="hljs-params">http</span>://"+<span class="hljs-params">e</span>+"&gt;"}}},65638,(<span class="hljs-params">e,t,i</span>)=&gt;</span>{<span class="hljs-string">"use strict"</span>;<span class="hljs-keyword">let</span> a=e.r(<span class="hljs-number">27699</span>),s=e.r(<span class="hljs-number">17049</span>),o=e.r(<span class="hljs-number">97364</span>),n=e.r(<span class="hljs-number">89437</span>),r=e.r(<span class="hljs-number">82267</span>),p=e.r(<span class="hljs-number">75303</span>),c=e.r(<span class="hljs-number">24361</span>),l=e.r(<span class="hljs-number">92509</span>),d=e.r(<span class="hljs-number">39913</span>),m=e.r(<span class="hljs-number">81144</span>),h=e.r(<span class="hljs-number">4446</span>),u=e.r(<span class="hljs-number">79594</span>),x=e.r(<span class="hljs-number">54799</span>);t.exports=<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">a</span></span>{<span class="hljs-keyword">constructor</span>(e,t,i){<span class="hljs-keyword">super</span>(),<span class="hljs-keyword">this</span>.options=t||{},<span class="hljs-keyword">this</span>._defaults=i||{},<span class="hljs-keyword">this</span>._defaultPlugins={<span class="hljs-attr">compile</span>:[<span class="hljs-function">(<span class="hljs-params">...e</span>)=&gt;</span><span class="hljs-keyword">this</span>._convertDataImages(...e)],<span class="hljs-attr">stream</span>:[]},<span class="hljs-keyword">this</span>._userPlugins={<span class="hljs-attr">compile</span>:[],<span class="hljs-attr">stream</span>:[]},<span class="hljs-keyword">this</span>.meta=<span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>,<span class="hljs-keyword">this</span>.dkim=!!<span class="hljs-keyword">this</span>.options.dkim&amp;&amp;<span class="hljs-keyword">new</span> r(<span class="hljs-keyword">this</span>.options.dkim),<span class="hljs-keyword">this</span>.transporter=e,<span class="hljs-keyword">this</span>.transporter.mailer=<span class="hljs-keyword">this</span>,<span class="hljs-keyword">this</span>.logger=s.getLogger(<span class="hljs-keyword">this</span>.options,{<span class="hljs-attr">component</span>:<span class="hljs-keyword">this</span>.options.component||<span class="hljs-string">"mail"</span>}),<span class="hljs-keyword">this</span>.logger.debug({<span class="hljs-attr">tnx</span>:<span class="hljs-string">"create"</span>},<span class="hljs-string">"Creating transport: %s"</span>,<span class="hljs-keyword">this</span>.getVersionString()),<span class="hljs-string">"function"</span>==<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.transporter.on&amp;&amp;<span class="hljs-function">(<span class="hljs-params"><span class="hljs-keyword">this</span>.transporter.on(<span class="hljs-string">"log"</span>,e=&gt;{<span class="hljs-keyword">this</span>.logger.debug({tnx:<span class="hljs-string">"transport"</span>},<span class="hljs-string">"%s: %s"</span>,e.type,e.message</span>)}),<span class="hljs-params">this</span>.<span class="hljs-params">transporter</span>.<span class="hljs-params">on</span>(<span class="hljs-params"><span class="hljs-string">"error"</span>,e=&gt;{<span class="hljs-keyword">this</span>.logger.error({err:e,tnx:<span class="hljs-string">"transport"</span>},<span class="hljs-string">"Transport Error: %s"</span>,e.message</span>),<span class="hljs-params">this</span>.<span class="hljs-params">emit</span>(<span class="hljs-params"><span class="hljs-string">"error"</span>,e</span>)}),<span class="hljs-params">this</span>.<span class="hljs-params">transporter</span>.<span class="hljs-params">on</span>(<span class="hljs-params"><span class="hljs-string">"idle"</span>,(...e</span>)=&gt;</span>{<span class="hljs-keyword">this</span>.emit(<span class="hljs-string">"idle"</span>,...e)}),<span class="hljs-keyword">this</span>.transporter.on(<span class="hljs-string">"clear"</span>,(...e)=&gt;{<span class="hljs-keyword">this</span>.emit(<span class="hljs-string">"clear"</span>,...e)})),[<span class="hljs-string">"close"</span>,<span class="hljs-string">"isIdle"</span>,<span class="hljs-string">"verify"</span>].forEach(<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>{<span class="hljs-keyword">this</span>[e]=<span class="hljs-function">(<span class="hljs-params">...t</span>)=&gt;</span><span class="hljs-string">"function"</span>==<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.transporter[e]?<span class="hljs-function">(<span class="hljs-params"><span class="hljs-string">"verify"</span>===e&amp;&amp;<span class="hljs-string">"function"</span>==<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.getSocket&amp;&amp;(<span class="hljs-keyword">this</span>.transporter.getSocket=<span class="hljs-keyword">this</span>.getSocket,<span class="hljs-keyword">this</span>.getSocket=!<span class="hljs-number">1</span></span>),<span class="hljs-params">this</span>.<span class="hljs-params">transporter</span>[<span class="hljs-params">e</span>](<span class="hljs-params">...t</span>)):(<span class="hljs-params"><span class="hljs-keyword">this</span>.logger.warn({tnx:<span class="hljs-string">"transport"</span>,methodName:e},<span class="hljs-string">"Non existing method %s called for transport"</span>,e</span>),!1)}),<span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">proxy</span>&amp;&amp;"<span class="hljs-params">string</span>"==<span class="hljs-params">typeof</span> <span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">proxy</span>&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">setupProxy</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>.options.proxy</span>)}<span class="hljs-params">use</span>(<span class="hljs-params">e,t</span>){<span class="hljs-params">return</span> <span class="hljs-params">e</span>=(<span class="hljs-params">e||<span class="hljs-string">""</span></span>).<span class="hljs-params">toString</span><span class="hljs-params">()</span>,<span class="hljs-params">this</span>.<span class="hljs-params">_userPlugins</span>.<span class="hljs-params">hasOwnProperty</span>(<span class="hljs-params">e</span>)?<span class="hljs-params">this</span>.<span class="hljs-params">_userPlugins</span>[<span class="hljs-params">e</span>].<span class="hljs-params">push</span>(<span class="hljs-params">t</span>):<span class="hljs-params">this</span>.<span class="hljs-params">_userPlugins</span>[<span class="hljs-params">e</span>]=[<span class="hljs-params">t</span>],<span class="hljs-params">this</span>}<span class="hljs-params">sendMail</span>(<span class="hljs-params">e,t=<span class="hljs-literal">null</span></span>){<span class="hljs-params">let</span> <span class="hljs-params">i</span>;<span class="hljs-params">t</span>||(<span class="hljs-params">i=<span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>((e,i</span>)=&gt;</span>{t=s.callbackPromise(e,i)})),<span class="hljs-string">"function"</span>==<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.getSocket&amp;&amp;<span class="hljs-function">(<span class="hljs-params"><span class="hljs-keyword">this</span>.transporter.getSocket=<span class="hljs-keyword">this</span>.getSocket,<span class="hljs-keyword">this</span>.getSocket=!<span class="hljs-number">1</span></span>);<span class="hljs-params">let</span> <span class="hljs-params">a</span>=<span class="hljs-params">new</span> <span class="hljs-params">m</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>,e</span>);<span class="hljs-params">return</span> <span class="hljs-params">this</span>.<span class="hljs-params">logger</span>.<span class="hljs-params">debug</span>(<span class="hljs-params">{tnx:<span class="hljs-string">"transport"</span>,name:<span class="hljs-keyword">this</span>.transporter.name,version:<span class="hljs-keyword">this</span>.transporter.version,action:<span class="hljs-string">"send"</span>},<span class="hljs-string">"Sending mail using %s/%s"</span>,<span class="hljs-keyword">this</span>.transporter.name,<span class="hljs-keyword">this</span>.transporter.version</span>),<span class="hljs-params">this</span>.<span class="hljs-params">_processPlugins</span>(<span class="hljs-params"><span class="hljs-string">"compile"</span>,a,e=&gt;{<span class="hljs-keyword">if</span>(e</span>)<span class="hljs-params">return</span> <span class="hljs-params">this</span>.<span class="hljs-params">logger</span>.<span class="hljs-params">error</span>(<span class="hljs-params">{err:e,tnx:<span class="hljs-string">"plugin"</span>,action:<span class="hljs-string">"compile"</span>},<span class="hljs-string">"PluginCompile Error: %s"</span>,e.message</span>),<span class="hljs-params">t</span>(<span class="hljs-params">e</span>);<span class="hljs-params">a</span>.<span class="hljs-params">message</span>=<span class="hljs-params">new</span> <span class="hljs-params">n</span>(<span class="hljs-params">a.data</span>).<span class="hljs-params">compile</span><span class="hljs-params">()</span>,<span class="hljs-params">a</span>.<span class="hljs-params">setMailerHeader</span><span class="hljs-params">()</span>,<span class="hljs-params">a</span>.<span class="hljs-params">setPriorityHeaders</span><span class="hljs-params">()</span>,<span class="hljs-params">a</span>.<span class="hljs-params">setListHeaders</span><span class="hljs-params">()</span>,<span class="hljs-params">this</span>.<span class="hljs-params">_processPlugins</span>(<span class="hljs-params"><span class="hljs-string">"stream"</span>,a,e=&gt;{<span class="hljs-keyword">if</span>(e</span>)<span class="hljs-params">return</span> <span class="hljs-params">this</span>.<span class="hljs-params">logger</span>.<span class="hljs-params">error</span>(<span class="hljs-params">{err:e,tnx:<span class="hljs-string">"plugin"</span>,action:<span class="hljs-string">"stream"</span>},<span class="hljs-string">"PluginStream Error: %s"</span>,e.message</span>),<span class="hljs-params">t</span>(<span class="hljs-params">e</span>);(<span class="hljs-params">a.data.dkim||<span class="hljs-keyword">this</span>.dkim</span>)&amp;&amp;<span class="hljs-params">a</span>.<span class="hljs-params">message</span>.<span class="hljs-params">processFunc</span>(<span class="hljs-params">e=&gt;{<span class="hljs-keyword">let</span> t=a.data.dkim?<span class="hljs-keyword">new</span> r(a.data.dkim</span>):<span class="hljs-params">this</span>.<span class="hljs-params">dkim</span>;<span class="hljs-params">return</span> <span class="hljs-params">this</span>.<span class="hljs-params">logger</span>.<span class="hljs-params">debug</span>(<span class="hljs-params">{tnx:<span class="hljs-string">"DKIM"</span>,messageId:a.message.messageId(</span>),<span class="hljs-params">dkimDomains</span>:<span class="hljs-params">t</span>.<span class="hljs-params">keys</span>.<span class="hljs-params">map</span>(<span class="hljs-params">e=&gt;e.keySelector+<span class="hljs-string">"."</span>+e.domainName</span>).<span class="hljs-params">join</span>(<span class="hljs-params"><span class="hljs-string">", "</span></span>)},"<span class="hljs-params">Signing</span> <span class="hljs-params">outgoing</span> <span class="hljs-params">message</span> <span class="hljs-params">with</span> %<span class="hljs-params">s</span> <span class="hljs-params">keys</span>",<span class="hljs-params">t</span>.<span class="hljs-params">keys</span>.<span class="hljs-params">length</span>),<span class="hljs-params">t</span>.<span class="hljs-params">sign</span>(<span class="hljs-params">e,a.data._dkim</span>)}),<span class="hljs-params">this</span>.<span class="hljs-params">transporter</span>.<span class="hljs-params">send</span>(<span class="hljs-params">a,(...e</span>)=&gt;</span>{e[<span class="hljs-number">0</span>]&amp;&amp;<span class="hljs-keyword">this</span>.logger.error({<span class="hljs-attr">err</span>:e[<span class="hljs-number">0</span>],<span class="hljs-attr">tnx</span>:<span class="hljs-string">"transport"</span>,<span class="hljs-attr">action</span>:<span class="hljs-string">"send"</span>},<span class="hljs-string">"Send Error: %s"</span>,e[<span class="hljs-number">0</span>].message),t(...e)})})}),i}getVersionString(){<span class="hljs-keyword">return</span> c.format(<span class="hljs-string">"%s (%s; +%s; %s/%s)"</span>,d.name,d.version,d.homepage,<span class="hljs-keyword">this</span>.transporter.name,<span class="hljs-keyword">this</span>.transporter.version)}_processPlugins(e,t,i){<span class="hljs-keyword">if</span>(e=<span class="hljs-function">(<span class="hljs-params">e||<span class="hljs-string">""</span></span>).<span class="hljs-params">toString</span><span class="hljs-params">()</span>,!<span class="hljs-params">this</span>.<span class="hljs-params">_userPlugins</span>.<span class="hljs-params">hasOwnProperty</span>(<span class="hljs-params">e</span>))<span class="hljs-params">return</span> <span class="hljs-params">i</span><span class="hljs-params">()</span>;<span class="hljs-params">let</span> <span class="hljs-params">a</span>=<span class="hljs-params">this</span>.<span class="hljs-params">_userPlugins</span>[<span class="hljs-params">e</span>]||[],<span class="hljs-params">s</span>=<span class="hljs-params">this</span>.<span class="hljs-params">_defaultPlugins</span>[<span class="hljs-params">e</span>]||[];<span class="hljs-params">if</span>(<span class="hljs-params">a.length&amp;&amp;<span class="hljs-keyword">this</span>.logger.debug({tnx:<span class="hljs-string">"transaction"</span>,pluginCount:a.length,step:e},<span class="hljs-string">"Using %s plugins for %s"</span>,a.length,e</span>),<span class="hljs-params">a</span>.<span class="hljs-params">length</span>+<span class="hljs-params">s</span>.<span class="hljs-params">length</span>===0)<span class="hljs-params">return</span> <span class="hljs-params">i</span><span class="hljs-params">()</span>;<span class="hljs-params">let</span> <span class="hljs-params">o</span>=0,<span class="hljs-params">n</span>="<span class="hljs-params">default</span>",<span class="hljs-params">r</span>=<span class="hljs-params">()</span>=&gt;</span>{<span class="hljs-keyword">let</span> e=<span class="hljs-string">"default"</span>===n?s:a;<span class="hljs-keyword">if</span>(o&gt;=e.length)<span class="hljs-keyword">if</span>(<span class="hljs-string">"default"</span>!==n||!a.length)<span class="hljs-keyword">return</span> i();<span class="hljs-keyword">else</span> n=<span class="hljs-string">"user"</span>,o=<span class="hljs-number">0</span>,e=a;<span class="hljs-function">(<span class="hljs-params"><span class="hljs-number">0</span>,e[o++]</span>)(<span class="hljs-params">t,e=&gt;{<span class="hljs-keyword">if</span>(e</span>)<span class="hljs-params">return</span> <span class="hljs-params">i</span>(<span class="hljs-params">e</span>);<span class="hljs-params">r</span><span class="hljs-params">()</span>})};<span class="hljs-params">r</span><span class="hljs-params">()</span>}<span class="hljs-params">setupProxy</span>(<span class="hljs-params">e</span>){<span class="hljs-params">let</span> <span class="hljs-params">t</span>=<span class="hljs-params">l</span>.<span class="hljs-params">parse</span>(<span class="hljs-params">e</span>);<span class="hljs-params">this</span>.<span class="hljs-params">getSocket</span>=(<span class="hljs-params">e,i</span>)=&gt;</span>{<span class="hljs-keyword">let</span> a=t.protocol.replace(<span class="hljs-regexp">/:$/</span>,<span class="hljs-string">""</span>).toLowerCase();<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.meta.has(<span class="hljs-string">"proxy_handler_"</span>+a))<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.meta.get(<span class="hljs-string">"proxy_handler_"</span>+a)(t,e,i);<span class="hljs-keyword">switch</span>(a){<span class="hljs-keyword">case</span><span class="hljs-string">"http"</span>:<span class="hljs-keyword">case</span><span class="hljs-string">"https"</span>:p(t.href,e.port,e.host,(e,t)=&gt;e?i(e):i(<span class="hljs-literal">null</span>,{<span class="hljs-attr">connection</span>:t}));<span class="hljs-keyword">return</span>;<span class="hljs-keyword">case</span><span class="hljs-string">"socks"</span>:<span class="hljs-keyword">case</span><span class="hljs-string">"socks5"</span>:<span class="hljs-keyword">case</span><span class="hljs-string">"socks4"</span>:<span class="hljs-keyword">case</span><span class="hljs-string">"socks4a"</span>:{<span class="hljs-keyword">if</span>(!<span class="hljs-keyword">this</span>.meta.has(<span class="hljs-string">"proxy_socks_module"</span>))<span class="hljs-keyword">return</span> i(<span class="hljs-built_in">Error</span>(<span class="hljs-string">"Socks module not loaded"</span>));<span class="hljs-keyword">let</span> a=<span class="hljs-function"><span class="hljs-params">a</span>=&gt;</span>{<span class="hljs-keyword">let</span> s=!!<span class="hljs-keyword">this</span>.meta.get(<span class="hljs-string">"proxy_socks_module"</span>).SocksClient,o=s?<span class="hljs-keyword">this</span>.meta.get(<span class="hljs-string">"proxy_socks_module"</span>).SocksClient:<span class="hljs-keyword">this</span>.meta.get(<span class="hljs-string">"proxy_socks_module"</span>),n=<span class="hljs-built_in">Number</span>(t.protocol.replace(<span class="hljs-regexp">/\D/g</span>,<span class="hljs-string">""</span>))||<span class="hljs-number">5</span>,r={<span class="hljs-attr">proxy</span>:{<span class="hljs-attr">ipaddress</span>:a,<span class="hljs-attr">port</span>:<span class="hljs-built_in">Number</span>(t.port),<span class="hljs-attr">type</span>:n},[s?<span class="hljs-string">"destination"</span>:<span class="hljs-string">"target"</span>]:{<span class="hljs-attr">host</span>:e.host,<span class="hljs-attr">port</span>:e.port},<span class="hljs-attr">command</span>:<span class="hljs-string">"connect"</span>};<span class="hljs-keyword">if</span>(t.auth){<span class="hljs-keyword">let</span> e=<span class="hljs-built_in">decodeURIComponent</span>(t.auth.split(<span class="hljs-string">":"</span>).shift()),i=<span class="hljs-built_in">decodeURIComponent</span>(t.auth.split(<span class="hljs-string">":"</span>).pop());s?<span class="hljs-function">(<span class="hljs-params">r.proxy.userId=e,r.proxy.password=i</span>):4===<span class="hljs-params">n</span>?<span class="hljs-params">r</span>.<span class="hljs-params">userid</span>=<span class="hljs-params">e</span>:<span class="hljs-params">r</span>.<span class="hljs-params">authentication</span>={<span class="hljs-params">username</span>:<span class="hljs-params">e</span>,<span class="hljs-params">password</span>:<span class="hljs-params">i</span>}}<span class="hljs-params">o</span>.<span class="hljs-params">createConnection</span>(<span class="hljs-params">r,(e,t</span>)=&gt;</span>e?i(e):i(<span class="hljs-literal">null</span>,{<span class="hljs-attr">connection</span>:t.socket||t}))};<span class="hljs-keyword">if</span>(h.isIP(t.hostname))<span class="hljs-keyword">return</span> a(t.hostname);<span class="hljs-keyword">return</span> u.resolve(t.hostname,(e,t)=&gt;{<span class="hljs-keyword">if</span>(e)<span class="hljs-keyword">return</span> i(e);a(<span class="hljs-built_in">Array</span>.isArray(t)?t[<span class="hljs-number">0</span>]:t)})}}i(<span class="hljs-built_in">Error</span>(<span class="hljs-string">"Unknown proxy configuration"</span>))}}_convertDataImages(e,t){<span class="hljs-keyword">if</span>(!<span class="hljs-keyword">this</span>.options.attachDataUrls&amp;&amp;!e.data.attachDataUrls||!e.data.html)<span class="hljs-keyword">return</span> t();e.resolveContent(e.data,<span class="hljs-string">"html"</span>,(i,a)=&gt;{<span class="hljs-keyword">if</span>(i)<span class="hljs-keyword">return</span> t(i);<span class="hljs-keyword">let</span> s=<span class="hljs-number">0</span>;a=<span class="hljs-function">(<span class="hljs-params">a||<span class="hljs-string">""</span></span>).<span class="hljs-params">toString</span><span class="hljs-params">()</span>.<span class="hljs-params">replace</span>(<span class="hljs-params"><span class="hljs-regexp">/(&lt;img\b[^&lt;&gt;]{0,1024} src\s{0,20}=[\s"']{0,20})(data:([^;]+);[^"'&gt;\s]+)/gi</span>,(t,i,a,n</span>)=&gt;</span>{<span class="hljs-keyword">let</span> r=x.randomBytes(<span class="hljs-number">10</span>).toString(<span class="hljs-string">"hex"</span>)+<span class="hljs-string">"@localhost"</span>;<span class="hljs-keyword">return</span> e.data.attachments||<span class="hljs-function">(<span class="hljs-params">e.data.attachments=[]</span>),<span class="hljs-params">Array</span>.<span class="hljs-params">isArray</span>(<span class="hljs-params">e.data.attachments</span>)||(<span class="hljs-params">e.data.attachments=[].concat(e.data.attachments||[]</span>)),<span class="hljs-params">e</span>.<span class="hljs-params">data</span>.<span class="hljs-params">attachments</span>.<span class="hljs-params">push</span>(<span class="hljs-params">{path:a,cid:r,filename:<span class="hljs-string">"image-"</span>+ ++s+<span class="hljs-string">"."</span>+o.detectExtension(n</span>)}),<span class="hljs-params">i</span>+"<span class="hljs-params">cid</span>:"+<span class="hljs-params">r</span>}),<span class="hljs-params">e</span>.<span class="hljs-params">data</span>.<span class="hljs-params">html</span>=<span class="hljs-params">a</span>,<span class="hljs-params">t</span><span class="hljs-params">()</span>})}<span class="hljs-params">set</span>(<span class="hljs-params">e,t</span>){<span class="hljs-params">return</span> <span class="hljs-params">this</span>.<span class="hljs-params">meta</span>.<span class="hljs-params">set</span>(<span class="hljs-params">e,t</span>)}<span class="hljs-params">get</span>(<span class="hljs-params">e</span>){<span class="hljs-params">return</span> <span class="hljs-params">this</span>.<span class="hljs-params">meta</span>.<span class="hljs-params">get</span>(<span class="hljs-params">e</span>)}}},72180,(<span class="hljs-params">e,t,i</span>)=&gt;</span>{<span class="hljs-string">"use strict"</span>;<span class="hljs-keyword">let</span> a=e.r(<span class="hljs-number">88947</span>).Transform;t.exports=<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">a</span></span>{<span class="hljs-keyword">constructor</span>(e){<span class="hljs-keyword">super</span>(e),<span class="hljs-keyword">this</span>.options=e||{},<span class="hljs-keyword">this</span>._curLine=<span class="hljs-string">""</span>,<span class="hljs-keyword">this</span>.inByteCount=<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>.outByteCount=<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>.lastByte=!<span class="hljs-number">1</span>}_transform(e,t,i){<span class="hljs-keyword">let</span> a,s=[],o=<span class="hljs-number">0</span>,n,r,p=<span class="hljs-number">0</span>;<span class="hljs-keyword">if</span>(!e||!e.length)<span class="hljs-keyword">return</span> i();<span class="hljs-keyword">for</span>(<span class="hljs-string">"string"</span>==<span class="hljs-keyword">typeof</span> e&amp;&amp;<span class="hljs-function">(<span class="hljs-params">e=Buffer.<span class="hljs-keyword">from</span>(e</span>)),<span class="hljs-params">this</span>.<span class="hljs-params">inByteCount</span>+=<span class="hljs-params">e</span>.<span class="hljs-params">length</span>,<span class="hljs-params">n</span>=0,<span class="hljs-params">r</span>=<span class="hljs-params">e</span>.<span class="hljs-params">length</span>;<span class="hljs-params">n</span>&lt;<span class="hljs-params">r</span>;<span class="hljs-params">n</span>++)46===<span class="hljs-params">e</span>[<span class="hljs-params">n</span>]?(<span class="hljs-params">!n||<span class="hljs-number">10</span>!==e[n<span class="hljs-number">-1</span>]</span>)&amp;&amp;(<span class="hljs-params">n||<span class="hljs-keyword">this</span>.lastByte&amp;&amp;<span class="hljs-number">10</span>!==<span class="hljs-keyword">this</span>.lastByte</span>)||(<span class="hljs-params">a=e.slice(p,n+<span class="hljs-number">1</span></span>),<span class="hljs-params">s</span>.<span class="hljs-params">push</span>(<span class="hljs-params">a</span>),<span class="hljs-params">s</span>.<span class="hljs-params">push</span>(<span class="hljs-params">Buffer.<span class="hljs-keyword">from</span>(<span class="hljs-string">"."</span></span>)),<span class="hljs-params">o</span>+=<span class="hljs-params">a</span>.<span class="hljs-params">length</span>+1,<span class="hljs-params">p</span>=<span class="hljs-params">n</span>+1):10===<span class="hljs-params">e</span>[<span class="hljs-params">n</span>]&amp;&amp;(<span class="hljs-params">n&amp;&amp;<span class="hljs-number">13</span>!==e[n<span class="hljs-number">-1</span>]||!n&amp;&amp;<span class="hljs-number">13</span>!==<span class="hljs-keyword">this</span>.lastByte</span>)&amp;&amp;(<span class="hljs-params">n&gt;p?(a=e.slice(p,n</span>),<span class="hljs-params">s</span>.<span class="hljs-params">push</span>(<span class="hljs-params">a</span>),<span class="hljs-params">o</span>+=<span class="hljs-params">a</span>.<span class="hljs-params">length</span>+2):<span class="hljs-params">o</span>+=2,<span class="hljs-params">s</span>.<span class="hljs-params">push</span>(<span class="hljs-params">Buffer.<span class="hljs-keyword">from</span>(<span class="hljs-string">"\r\n"</span></span>)),<span class="hljs-params">p</span>=<span class="hljs-params">n</span>+1);<span class="hljs-params">o</span>?(<span class="hljs-params">p&lt;e.length&amp;&amp;(a=e.slice(p</span>),<span class="hljs-params">s</span>.<span class="hljs-params">push</span>(<span class="hljs-params">a</span>),<span class="hljs-params">o</span>+=<span class="hljs-params">a</span>.<span class="hljs-params">length</span>),<span class="hljs-params">this</span>.<span class="hljs-params">outByteCount</span>+=<span class="hljs-params">o</span>,<span class="hljs-params">this</span>.<span class="hljs-params">push</span>(<span class="hljs-params">Buffer.concat(s,o</span>))):(<span class="hljs-params"><span class="hljs-keyword">this</span>.outByteCount+=e.length,<span class="hljs-keyword">this</span>.push(e</span>)),<span class="hljs-params">this</span>.<span class="hljs-params">lastByte</span>=<span class="hljs-params">e</span>[<span class="hljs-params">e</span>.<span class="hljs-params">length</span>-1],<span class="hljs-params">i</span><span class="hljs-params">()</span>}<span class="hljs-params">_flush</span>(<span class="hljs-params">e</span>){<span class="hljs-params">let</span> <span class="hljs-params">t</span>;<span class="hljs-params">t</span>=10===<span class="hljs-params">this</span>.<span class="hljs-params">lastByte</span>?<span class="hljs-params">Buffer</span>.<span class="hljs-params">from</span>(<span class="hljs-params"><span class="hljs-string">".\r\n"</span></span>):13===<span class="hljs-params">this</span>.<span class="hljs-params">lastByte</span>?<span class="hljs-params">Buffer</span>.<span class="hljs-params">from</span>(<span class="hljs-params"><span class="hljs-string">"\n.\r\n"</span></span>):<span class="hljs-params">Buffer</span>.<span class="hljs-params">from</span>(<span class="hljs-params"><span class="hljs-string">"\r\n.\r\n"</span></span>),<span class="hljs-params">this</span>.<span class="hljs-params">outByteCount</span>+=<span class="hljs-params">t</span>.<span class="hljs-params">length</span>,<span class="hljs-params">this</span>.<span class="hljs-params">push</span>(<span class="hljs-params">t</span>),<span class="hljs-params">e</span><span class="hljs-params">()</span>}}},30340,(<span class="hljs-params">e,t,i</span>)=&gt;</span>{<span class="hljs-string">"use strict"</span>;<span class="hljs-keyword">let</span> a=e.r(<span class="hljs-number">39913</span>),s=e.r(<span class="hljs-number">27699</span>).EventEmitter,o=e.r(<span class="hljs-number">4446</span>),n=e.r(<span class="hljs-number">55004</span>),r=e.r(<span class="hljs-number">46786</span>),p=e.r(<span class="hljs-number">54799</span>),c=e.r(<span class="hljs-number">72180</span>),l=e.r(<span class="hljs-number">88947</span>).PassThrough,d=e.r(<span class="hljs-number">17049</span>);t.exports=<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">s</span></span>{<span class="hljs-keyword">constructor</span>(e){<span class="hljs-keyword">super</span>(e),<span class="hljs-keyword">this</span>.id=p.randomBytes(<span class="hljs-number">8</span>).toString(<span class="hljs-string">"base64"</span>).replace(<span class="hljs-regexp">/\W/g</span>,<span class="hljs-string">""</span>),<span class="hljs-keyword">this</span>.stage=<span class="hljs-string">"init"</span>,<span class="hljs-keyword">this</span>.options=e||{},<span class="hljs-keyword">this</span>.secureConnection=!!<span class="hljs-keyword">this</span>.options.secure,<span class="hljs-keyword">this</span>.alreadySecured=!!<span class="hljs-keyword">this</span>.options.secured,<span class="hljs-keyword">this</span>.port=<span class="hljs-built_in">Number</span>(<span class="hljs-keyword">this</span>.options.port)||<span class="hljs-function">(<span class="hljs-params"><span class="hljs-keyword">this</span>.secureConnection?<span class="hljs-number">465</span>:<span class="hljs-number">587</span></span>),<span class="hljs-params">this</span>.<span class="hljs-params">host</span>=<span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">host</span>||"<span class="hljs-params">localhost</span>",<span class="hljs-params">this</span>.<span class="hljs-params">servername</span>=<span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">servername</span>?<span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">servername</span>:!<span class="hljs-params">o</span>.<span class="hljs-params">isIP</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>.host</span>)&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">host</span>,<span class="hljs-params">this</span>.<span class="hljs-params">allowInternalNetworkInterfaces</span>=<span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">allowInternalNetworkInterfaces</span>||!1,<span class="hljs-params">void</span> 0===<span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">secure</span>&amp;&amp;465===<span class="hljs-params">this</span>.<span class="hljs-params">port</span>&amp;&amp;(<span class="hljs-params"><span class="hljs-keyword">this</span>.secureConnection=!<span class="hljs-number">0</span></span>),<span class="hljs-params">this</span>.<span class="hljs-params">name</span>=<span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">name</span>||<span class="hljs-params">this</span>.<span class="hljs-params">_getHostname</span><span class="hljs-params">()</span>,<span class="hljs-params">this</span>.<span class="hljs-params">logger</span>=<span class="hljs-params">d</span>.<span class="hljs-params">getLogger</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>.options,{component:<span class="hljs-keyword">this</span>.options.component||<span class="hljs-string">"smtp-connection"</span>,sid:<span class="hljs-keyword">this</span>.id}</span>),<span class="hljs-params">this</span>.<span class="hljs-params">customAuth</span>=<span class="hljs-params">new</span> <span class="hljs-params">Map</span>,<span class="hljs-params">Object</span>.<span class="hljs-params">keys</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>.options.customAuth||{}</span>).<span class="hljs-params">forEach</span>(<span class="hljs-params">e=&gt;{<span class="hljs-keyword">let</span> t=(e||<span class="hljs-string">""</span></span>).<span class="hljs-params">toString</span><span class="hljs-params">()</span>.<span class="hljs-params">trim</span><span class="hljs-params">()</span>.<span class="hljs-params">toUpperCase</span><span class="hljs-params">()</span>;<span class="hljs-params">t</span>&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">customAuth</span>.<span class="hljs-params">set</span>(<span class="hljs-params">t,<span class="hljs-keyword">this</span>.options.customAuth[e]</span>)}),<span class="hljs-params">this</span>.<span class="hljs-params">version</span>=<span class="hljs-params">a</span>.<span class="hljs-params">version</span>,<span class="hljs-params">this</span>.<span class="hljs-params">authenticated</span>=!1,<span class="hljs-params">this</span>.<span class="hljs-params">destroyed</span>=!1,<span class="hljs-params">this</span>.<span class="hljs-params">secure</span>=!!<span class="hljs-params">this</span>.<span class="hljs-params">secureConnection</span>,<span class="hljs-params">this</span>.<span class="hljs-params">_remainder</span>="",<span class="hljs-params">this</span>.<span class="hljs-params">_responseQueue</span>=[],<span class="hljs-params">this</span>.<span class="hljs-params">lastServerResponse</span>=!1,<span class="hljs-params">this</span>.<span class="hljs-params">_socket</span>=!1,<span class="hljs-params">this</span>.<span class="hljs-params">_supportedAuth</span>=[],<span class="hljs-params">this</span>.<span class="hljs-params">allowsAuth</span>=!1,<span class="hljs-params">this</span>.<span class="hljs-params">_envelope</span>=!1,<span class="hljs-params">this</span>.<span class="hljs-params">_supportedExtensions</span>=[],<span class="hljs-params">this</span>.<span class="hljs-params">_maxAllowedSize</span>=0,<span class="hljs-params">this</span>.<span class="hljs-params">_responseActions</span>=[],<span class="hljs-params">this</span>.<span class="hljs-params">_recipientQueue</span>=[],<span class="hljs-params">this</span>.<span class="hljs-params">_greetingTimeout</span>=!1,<span class="hljs-params">this</span>.<span class="hljs-params">_connectionTimeout</span>=!1,<span class="hljs-params">this</span>.<span class="hljs-params">_destroyed</span>=!1,<span class="hljs-params">this</span>.<span class="hljs-params">_closing</span>=!1,<span class="hljs-params">this</span>.<span class="hljs-params">_onSocketData</span>=<span class="hljs-params">e</span>=&gt;</span><span class="hljs-keyword">this</span>._onData(e),<span class="hljs-keyword">this</span>._onSocketError=<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span><span class="hljs-keyword">this</span>._onError(e,<span class="hljs-string">"ESOCKET"</span>,!<span class="hljs-number">1</span>,<span class="hljs-string">"CONN"</span>),<span class="hljs-keyword">this</span>._onSocketClose=<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span><span class="hljs-keyword">this</span>._onClose(),<span class="hljs-keyword">this</span>._onSocketEnd=<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span><span class="hljs-keyword">this</span>._onEnd(),<span class="hljs-keyword">this</span>._onSocketTimeout=<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span><span class="hljs-keyword">this</span>._onTimeout()}connect(e){<span class="hljs-keyword">if</span>(<span class="hljs-string">"function"</span>==<span class="hljs-keyword">typeof</span> e){<span class="hljs-keyword">this</span>.once(<span class="hljs-string">"connect"</span>,()=&gt;{<span class="hljs-keyword">this</span>.logger.debug({<span class="hljs-attr">tnx</span>:<span class="hljs-string">"smtp"</span>},<span class="hljs-string">"SMTP handshake finished"</span>),e()});<span class="hljs-keyword">let</span> t=<span class="hljs-keyword">this</span>._isDestroyedMessage(<span class="hljs-string">"connect"</span>);<span class="hljs-keyword">if</span>(t)<span class="hljs-keyword">return</span> e(<span class="hljs-keyword">this</span>._formatError(t,<span class="hljs-string">"ECONNECTION"</span>,!<span class="hljs-number">1</span>,<span class="hljs-string">"CONN"</span>))}<span class="hljs-keyword">let</span> t={<span class="hljs-attr">port</span>:<span class="hljs-keyword">this</span>.port,<span class="hljs-attr">host</span>:<span class="hljs-keyword">this</span>.host,<span class="hljs-attr">allowInternalNetworkInterfaces</span>:<span class="hljs-keyword">this</span>.allowInternalNetworkInterfaces,<span class="hljs-attr">timeout</span>:<span class="hljs-keyword">this</span>.options.dnsTimeout||<span class="hljs-number">3e4</span>};<span class="hljs-keyword">this</span>.options.localAddress&amp;&amp;<span class="hljs-function">(<span class="hljs-params">t.localAddress=<span class="hljs-keyword">this</span>.options.localAddress</span>);<span class="hljs-params">let</span> <span class="hljs-params">i</span>=<span class="hljs-params">()</span>=&gt;</span>{<span class="hljs-keyword">this</span>._connectionTimeout=setTimeout(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{<span class="hljs-keyword">this</span>._onError(<span class="hljs-string">"Connection timeout"</span>,<span class="hljs-string">"ETIMEDOUT"</span>,!<span class="hljs-number">1</span>,<span class="hljs-string">"CONN"</span>)},<span class="hljs-keyword">this</span>.options.connectionTimeout||<span class="hljs-number">12e4</span>),<span class="hljs-keyword">this</span>._socket.on(<span class="hljs-string">"error"</span>,<span class="hljs-keyword">this</span>._onSocketError)};<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.options.connection){<span class="hljs-keyword">this</span>._socket=<span class="hljs-keyword">this</span>.options.connection,i(),<span class="hljs-keyword">this</span>.secureConnection&amp;&amp;!<span class="hljs-keyword">this</span>.alreadySecured?setImmediate(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span><span class="hljs-keyword">this</span>._upgradeConnection(<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>{e?<span class="hljs-keyword">this</span>._onError(<span class="hljs-built_in">Error</span>(<span class="hljs-string">"Error initiating TLS - "</span>+<span class="hljs-function">(<span class="hljs-params">e.message||e</span>)),"<span class="hljs-params">ETLS</span>",!1,"<span class="hljs-params">CONN</span>"):<span class="hljs-params">this</span>.<span class="hljs-params">_onConnect</span><span class="hljs-params">()</span>})):<span class="hljs-params">setImmediate</span>(<span class="hljs-params">(</span>)=&gt;</span><span class="hljs-keyword">this</span>._onConnect());<span class="hljs-keyword">return</span>}<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.options.socket?<span class="hljs-function">(<span class="hljs-params"><span class="hljs-keyword">this</span>._socket=<span class="hljs-keyword">this</span>.options.socket,d.resolveHostname(t,(e,a</span>)=&gt;</span>{<span class="hljs-keyword">if</span>(e)<span class="hljs-keyword">return</span> setImmediate(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span><span class="hljs-keyword">this</span>._onError(e,<span class="hljs-string">"EDNS"</span>,!<span class="hljs-number">1</span>,<span class="hljs-string">"CONN"</span>));<span class="hljs-keyword">this</span>.logger.debug({<span class="hljs-attr">tnx</span>:<span class="hljs-string">"dns"</span>,<span class="hljs-attr">source</span>:t.host,<span class="hljs-attr">resolved</span>:a.host,<span class="hljs-attr">cached</span>:!!a.cached},<span class="hljs-string">"Resolved %s as %s [cache %s]"</span>,t.host,a.host,a.cached?<span class="hljs-string">"hit"</span>:<span class="hljs-string">"miss"</span>),<span class="hljs-built_in">Object</span>.keys(a).forEach(<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>{<span class="hljs-string">"_"</span>!==e.charAt(<span class="hljs-number">0</span>)&amp;&amp;a[e]&amp;&amp;<span class="hljs-function">(<span class="hljs-params">t[e]=a[e]</span>)});<span class="hljs-params">try</span>{<span class="hljs-params">this</span>.<span class="hljs-params">_socket</span>.<span class="hljs-params">connect</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>.port,<span class="hljs-keyword">this</span>.host,(</span>)=&gt;</span>{<span class="hljs-keyword">this</span>._socket.setKeepAlive(!<span class="hljs-number">0</span>),<span class="hljs-keyword">this</span>._onConnect()}),i()}<span class="hljs-keyword">catch</span>(e){<span class="hljs-keyword">return</span> setImmediate(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span><span class="hljs-keyword">this</span>._onError(e,<span class="hljs-string">"ECONNECTION"</span>,!<span class="hljs-number">1</span>,<span class="hljs-string">"CONN"</span>))}})):<span class="hljs-keyword">this</span>.secureConnection?<span class="hljs-function">(<span class="hljs-params"><span class="hljs-keyword">this</span>.options.tls&amp;&amp;<span class="hljs-built_in">Object</span>.keys(<span class="hljs-keyword">this</span>.options.tls</span>).<span class="hljs-params">forEach</span>(<span class="hljs-params">e=&gt;{t[e]=<span class="hljs-keyword">this</span>.options.tls[e]}</span>),<span class="hljs-params">this</span>.<span class="hljs-params">servername</span>&amp;&amp;!<span class="hljs-params">t</span>.<span class="hljs-params">servername</span>&amp;&amp;(<span class="hljs-params">t.servername=<span class="hljs-keyword">this</span>.servername</span>),<span class="hljs-params">d</span>.<span class="hljs-params">resolveHostname</span>(<span class="hljs-params">t,(e,a</span>)=&gt;</span>{<span class="hljs-keyword">if</span>(e)<span class="hljs-keyword">return</span> setImmediate(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span><span class="hljs-keyword">this</span>._onError(e,<span class="hljs-string">"EDNS"</span>,!<span class="hljs-number">1</span>,<span class="hljs-string">"CONN"</span>));<span class="hljs-keyword">this</span>.logger.debug({<span class="hljs-attr">tnx</span>:<span class="hljs-string">"dns"</span>,<span class="hljs-attr">source</span>:t.host,<span class="hljs-attr">resolved</span>:a.host,<span class="hljs-attr">cached</span>:!!a.cached},<span class="hljs-string">"Resolved %s as %s [cache %s]"</span>,t.host,a.host,a.cached?<span class="hljs-string">"hit"</span>:<span class="hljs-string">"miss"</span>),<span class="hljs-built_in">Object</span>.keys(a).forEach(<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>{<span class="hljs-string">"_"</span>!==e.charAt(<span class="hljs-number">0</span>)&amp;&amp;a[e]&amp;&amp;<span class="hljs-function">(<span class="hljs-params">t[e]=a[e]</span>)});<span class="hljs-params">try</span>{<span class="hljs-params">this</span>.<span class="hljs-params">_socket</span>=<span class="hljs-params">n</span>.<span class="hljs-params">connect</span>(<span class="hljs-params">t,(</span>)=&gt;</span>{<span class="hljs-keyword">this</span>._socket.setKeepAlive(!<span class="hljs-number">0</span>),<span class="hljs-keyword">this</span>._onConnect()}),i()}<span class="hljs-keyword">catch</span>(e){<span class="hljs-keyword">return</span> setImmediate(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span><span class="hljs-keyword">this</span>._onError(e,<span class="hljs-string">"ECONNECTION"</span>,!<span class="hljs-number">1</span>,<span class="hljs-string">"CONN"</span>))}})):d.resolveHostname(t,(e,a)=&gt;{<span class="hljs-keyword">if</span>(e)<span class="hljs-keyword">return</span> setImmediate(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span><span class="hljs-keyword">this</span>._onError(e,<span class="hljs-string">"EDNS"</span>,!<span class="hljs-number">1</span>,<span class="hljs-string">"CONN"</span>));<span class="hljs-keyword">this</span>.logger.debug({<span class="hljs-attr">tnx</span>:<span class="hljs-string">"dns"</span>,<span class="hljs-attr">source</span>:t.host,<span class="hljs-attr">resolved</span>:a.host,<span class="hljs-attr">cached</span>:!!a.cached},<span class="hljs-string">"Resolved %s as %s [cache %s]"</span>,t.host,a.host,a.cached?<span class="hljs-string">"hit"</span>:<span class="hljs-string">"miss"</span>),<span class="hljs-built_in">Object</span>.keys(a).forEach(<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>{<span class="hljs-string">"_"</span>!==e.charAt(<span class="hljs-number">0</span>)&amp;&amp;a[e]&amp;&amp;<span class="hljs-function">(<span class="hljs-params">t[e]=a[e]</span>)});<span class="hljs-params">try</span>{<span class="hljs-params">this</span>.<span class="hljs-params">_socket</span>=<span class="hljs-params">o</span>.<span class="hljs-params">connect</span>(<span class="hljs-params">t,(</span>)=&gt;</span>{<span class="hljs-keyword">this</span>._socket.setKeepAlive(!<span class="hljs-number">0</span>),<span class="hljs-keyword">this</span>._onConnect()}),i()}<span class="hljs-keyword">catch</span>(e){<span class="hljs-keyword">return</span> setImmediate(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span><span class="hljs-keyword">this</span>._onError(e,<span class="hljs-string">"ECONNECTION"</span>,!<span class="hljs-number">1</span>,<span class="hljs-string">"CONN"</span>))}})}quit(){<span class="hljs-keyword">this</span>._sendCommand(<span class="hljs-string">"QUIT"</span>),<span class="hljs-keyword">this</span>._responseActions.push(<span class="hljs-keyword">this</span>.close)}close(){<span class="hljs-keyword">if</span>(clearTimeout(<span class="hljs-keyword">this</span>._connectionTimeout),clearTimeout(<span class="hljs-keyword">this</span>._greetingTimeout),<span class="hljs-keyword">this</span>._responseActions=[],<span class="hljs-keyword">this</span>._closing)<span class="hljs-keyword">return</span>;<span class="hljs-keyword">this</span>._closing=!<span class="hljs-number">0</span>;<span class="hljs-keyword">let</span> e=<span class="hljs-string">"end"</span>;<span class="hljs-string">"init"</span>===<span class="hljs-keyword">this</span>.stage&amp;&amp;<span class="hljs-function">(<span class="hljs-params">e=<span class="hljs-string">"destroy"</span></span>),<span class="hljs-params">this</span>.<span class="hljs-params">logger</span>.<span class="hljs-params">debug</span>(<span class="hljs-params">{tnx:<span class="hljs-string">"smtp"</span>},<span class="hljs-string">'Closing connection to the server using "%s"'</span>,e</span>);<span class="hljs-params">let</span> <span class="hljs-params">t</span>=<span class="hljs-params">this</span>.<span class="hljs-params">_socket</span>&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">_socket</span>.<span class="hljs-params">socket</span>||<span class="hljs-params">this</span>.<span class="hljs-params">_socket</span>;<span class="hljs-params">if</span>(<span class="hljs-params">t&amp;&amp;!t.destroyed</span>)<span class="hljs-params">try</span>{<span class="hljs-params">t</span>[<span class="hljs-params">e</span>]<span class="hljs-params">()</span>}<span class="hljs-params">catch</span>(<span class="hljs-params">e</span>){}<span class="hljs-params">this</span>.<span class="hljs-params">_destroy</span><span class="hljs-params">()</span>}<span class="hljs-params">login</span>(<span class="hljs-params">e,t</span>){<span class="hljs-params">let</span> <span class="hljs-params">i</span>=<span class="hljs-params">this</span>.<span class="hljs-params">_isDestroyedMessage</span>(<span class="hljs-params"><span class="hljs-string">"login"</span></span>);<span class="hljs-params">if</span>(<span class="hljs-params">i</span>)<span class="hljs-params">return</span> <span class="hljs-params">t</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>._formatError(i,<span class="hljs-string">"ECONNECTION"</span>,!<span class="hljs-number">1</span>,<span class="hljs-string">"API"</span></span>));<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>._auth=e||{},<span class="hljs-keyword">this</span>._authMethod=(<span class="hljs-keyword">this</span>._auth.method||<span class="hljs-string">""</span></span>).<span class="hljs-params">toString</span><span class="hljs-params">()</span>.<span class="hljs-params">trim</span><span class="hljs-params">()</span>.<span class="hljs-params">toUpperCase</span><span class="hljs-params">()</span>||!1,<span class="hljs-params">this</span>.<span class="hljs-params">_authMethod</span>||!<span class="hljs-params">this</span>.<span class="hljs-params">_auth</span>.<span class="hljs-params">oauth2</span>||<span class="hljs-params">this</span>.<span class="hljs-params">_auth</span>.<span class="hljs-params">credentials</span>?<span class="hljs-params">this</span>.<span class="hljs-params">_authMethod</span>&amp;&amp;(<span class="hljs-params"><span class="hljs-string">"XOAUTH2"</span>!==<span class="hljs-keyword">this</span>._authMethod||<span class="hljs-keyword">this</span>._auth.oauth2</span>)||(<span class="hljs-params"><span class="hljs-keyword">this</span>._authMethod=(<span class="hljs-keyword">this</span>._supportedAuth[<span class="hljs-number">0</span>]||<span class="hljs-string">"PLAIN"</span></span>).<span class="hljs-params">toUpperCase</span><span class="hljs-params">()</span>.<span class="hljs-params">trim</span><span class="hljs-params">()</span>):<span class="hljs-params">this</span>.<span class="hljs-params">_authMethod</span>="<span class="hljs-params">XOAUTH2</span>","<span class="hljs-params">XOAUTH2</span>"!==<span class="hljs-params">this</span>.<span class="hljs-params">_authMethod</span>&amp;&amp;(<span class="hljs-params">!<span class="hljs-keyword">this</span>._auth.credentials||!<span class="hljs-keyword">this</span>._auth.credentials.user||!<span class="hljs-keyword">this</span>._auth.credentials.pass</span>))<span class="hljs-params">if</span>(<span class="hljs-params">!(<span class="hljs-keyword">this</span>._auth.user&amp;&amp;<span class="hljs-keyword">this</span>._auth.pass||<span class="hljs-keyword">this</span>.customAuth.has(<span class="hljs-keyword">this</span>._authMethod</span>)))<span class="hljs-params">return</span> <span class="hljs-params">t</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>._formatError(<span class="hljs-string">'Missing credentials for "'</span>+<span class="hljs-keyword">this</span>._authMethod+<span class="hljs-string">'"'</span>,<span class="hljs-string">"EAUTH"</span>,!<span class="hljs-number">1</span>,<span class="hljs-string">"API"</span></span>));<span class="hljs-params">else</span> <span class="hljs-params">this</span>.<span class="hljs-params">_auth</span>.<span class="hljs-params">credentials</span>={<span class="hljs-params">user</span>:<span class="hljs-params">this</span>.<span class="hljs-params">_auth</span>.<span class="hljs-params">user</span>,<span class="hljs-params">pass</span>:<span class="hljs-params">this</span>.<span class="hljs-params">_auth</span>.<span class="hljs-params">pass</span>,<span class="hljs-params">options</span>:<span class="hljs-params">this</span>.<span class="hljs-params">_auth</span>.<span class="hljs-params">options</span>};<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>.customAuth.has(<span class="hljs-keyword">this</span>._authMethod</span>)){<span class="hljs-params">let</span> <span class="hljs-params">e</span>,<span class="hljs-params">i</span>=<span class="hljs-params">this</span>.<span class="hljs-params">customAuth</span>.<span class="hljs-params">get</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>._authMethod</span>),<span class="hljs-params">a</span>=!1,<span class="hljs-params">s</span>=<span class="hljs-params">()</span>=&gt;</span>{a||<span class="hljs-function">(<span class="hljs-params">a=!<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>.logger.info({tnx:<span class="hljs-string">"smtp"</span>,username:<span class="hljs-keyword">this</span>._auth.user,action:<span class="hljs-string">"authenticated"</span>,method:<span class="hljs-keyword">this</span>._authMethod},<span class="hljs-string">"User %s authenticated"</span>,<span class="hljs-built_in">JSON</span>.stringify(<span class="hljs-keyword">this</span>._auth.user</span>)),<span class="hljs-params">this</span>.<span class="hljs-params">authenticated</span>=!0,<span class="hljs-params">t</span>(<span class="hljs-params"><span class="hljs-literal">null</span>,!<span class="hljs-number">0</span></span>))},<span class="hljs-params">o</span>=<span class="hljs-params">i</span>=&gt;</span>{a||<span class="hljs-function">(<span class="hljs-params">a=!<span class="hljs-number">0</span>,t(<span class="hljs-keyword">this</span>._formatError(i,<span class="hljs-string">"EAUTH"</span>,e,<span class="hljs-string">"AUTH "</span>+<span class="hljs-keyword">this</span>._authMethod</span>)))},<span class="hljs-params">n</span>=<span class="hljs-params">i</span>(<span class="hljs-params">{auth:<span class="hljs-keyword">this</span>._auth,method:<span class="hljs-keyword">this</span>._authMethod,extensions:[].concat(<span class="hljs-keyword">this</span>._supportedExtensions</span>),<span class="hljs-params">authMethods</span>:[].<span class="hljs-params">concat</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>._supportedAuth</span>),<span class="hljs-params">maxAllowedSize</span>:<span class="hljs-params">this</span>.<span class="hljs-params">_maxAllowedSize</span>||!1,<span class="hljs-params">sendCommand</span>:(<span class="hljs-params">t,i</span>)=&gt;</span>{<span class="hljs-keyword">let</span> a;<span class="hljs-keyword">return</span> i||<span class="hljs-function">(<span class="hljs-params">a=<span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>((e,t</span>)=&gt;</span>{i=d.callbackPromise(e,t)})),<span class="hljs-keyword">this</span>._responseActions.push(<span class="hljs-function"><span class="hljs-params">a</span>=&gt;</span>{e=a;<span class="hljs-keyword">let</span> s=a.match(<span class="hljs-regexp">/^(\d+)(?:\s(\d+\.\d+\.\d+))?\s/</span>),o={<span class="hljs-attr">command</span>:t,<span class="hljs-attr">response</span>:a};s?<span class="hljs-function">(<span class="hljs-params">o.status=<span class="hljs-built_in">Number</span>(s[<span class="hljs-number">1</span>]</span>)||0,<span class="hljs-params">s</span>[2]&amp;&amp;(<span class="hljs-params">o.code=s[<span class="hljs-number">2</span>]</span>),<span class="hljs-params">o</span>.<span class="hljs-params">text</span>=<span class="hljs-params">a</span>.<span class="hljs-params">substr</span>(<span class="hljs-params">s[<span class="hljs-number">0</span>].length</span>)):(<span class="hljs-params">o.text=a,o.status=<span class="hljs-number">0</span></span>),<span class="hljs-params">i</span>(<span class="hljs-params"><span class="hljs-literal">null</span>,o</span>)}),<span class="hljs-params">setImmediate</span>(<span class="hljs-params">(</span>)=&gt;</span><span class="hljs-keyword">this</span>._sendCommand(t)),a},<span class="hljs-attr">resolve</span>:s,<span class="hljs-attr">reject</span>:o});n&amp;&amp;<span class="hljs-string">"function"</span>==<span class="hljs-keyword">typeof</span> n.catch&amp;&amp;n.then(s).catch(o);<span class="hljs-keyword">return</span>}<span class="hljs-keyword">switch</span>(<span class="hljs-keyword">this</span>._authMethod){<span class="hljs-keyword">case</span><span class="hljs-string">"XOAUTH2"</span>:<span class="hljs-keyword">this</span>._handleXOauth2Token(!<span class="hljs-number">1</span>,t);<span class="hljs-keyword">return</span>;<span class="hljs-keyword">case</span><span class="hljs-string">"LOGIN"</span>:<span class="hljs-keyword">this</span>._responseActions.push(<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>{<span class="hljs-keyword">this</span>._actionAUTH_LOGIN_USER(e,t)}),<span class="hljs-keyword">this</span>._sendCommand(<span class="hljs-string">"AUTH LOGIN"</span>);<span class="hljs-keyword">return</span>;<span class="hljs-keyword">case</span><span class="hljs-string">"PLAIN"</span>:<span class="hljs-keyword">this</span>._responseActions.push(<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>{<span class="hljs-keyword">this</span>._actionAUTHComplete(e,t)}),<span class="hljs-keyword">this</span>._sendCommand(<span class="hljs-string">"AUTH PLAIN "</span>+Buffer.from(<span class="hljs-string">"\0"</span>+<span class="hljs-keyword">this</span>._auth.credentials.user+<span class="hljs-string">"\0"</span>+<span class="hljs-keyword">this</span>._auth.credentials.pass,<span class="hljs-string">"utf-8"</span>).toString(<span class="hljs-string">"base64"</span>),<span class="hljs-string">"AUTH PLAIN "</span>+Buffer.from(<span class="hljs-string">"\0"</span>+<span class="hljs-keyword">this</span>._auth.credentials.user+<span class="hljs-string">"\0/* secret */"</span>,<span class="hljs-string">"utf-8"</span>).toString(<span class="hljs-string">"base64"</span>));<span class="hljs-keyword">return</span>;<span class="hljs-keyword">case</span><span class="hljs-string">"CRAM-MD5"</span>:<span class="hljs-keyword">this</span>._responseActions.push(<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>{<span class="hljs-keyword">this</span>._actionAUTH_CRAM_MD5(e,t)}),<span class="hljs-keyword">this</span>._sendCommand(<span class="hljs-string">"AUTH CRAM-MD5"</span>);<span class="hljs-keyword">return</span>}<span class="hljs-keyword">return</span> t(<span class="hljs-keyword">this</span>._formatError(<span class="hljs-string">'Unknown authentication method "'</span>+<span class="hljs-keyword">this</span>._authMethod+<span class="hljs-string">'"'</span>,<span class="hljs-string">"EAUTH"</span>,!<span class="hljs-number">1</span>,<span class="hljs-string">"API"</span>))}send(e,t,i){<span class="hljs-keyword">if</span>(!t)<span class="hljs-keyword">return</span> i(<span class="hljs-keyword">this</span>._formatError(<span class="hljs-string">"Empty message"</span>,<span class="hljs-string">"EMESSAGE"</span>,!<span class="hljs-number">1</span>,<span class="hljs-string">"API"</span>));<span class="hljs-keyword">let</span> a=<span class="hljs-keyword">this</span>._isDestroyedMessage(<span class="hljs-string">"send message"</span>);<span class="hljs-keyword">if</span>(a)<span class="hljs-keyword">return</span> i(<span class="hljs-keyword">this</span>._formatError(a,<span class="hljs-string">"ECONNECTION"</span>,!<span class="hljs-number">1</span>,<span class="hljs-string">"API"</span>));<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>._maxAllowedSize&amp;&amp;e.size&gt;<span class="hljs-keyword">this</span>._maxAllowedSize)<span class="hljs-keyword">return</span> setImmediate(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{i(<span class="hljs-keyword">this</span>._formatError(<span class="hljs-string">"Message size larger than allowed "</span>+<span class="hljs-keyword">this</span>._maxAllowedSize,<span class="hljs-string">"EMESSAGE"</span>,!<span class="hljs-number">1</span>,<span class="hljs-string">"MAIL FROM"</span>))});<span class="hljs-keyword">let</span> s=!<span class="hljs-number">1</span>,o=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{s||<span class="hljs-function">(<span class="hljs-params">s=!<span class="hljs-number">0</span>,i(...<span class="hljs-built_in">arguments</span></span>))};"<span class="hljs-params">function</span>"==<span class="hljs-params">typeof</span> <span class="hljs-params">t</span>.<span class="hljs-params">on</span>&amp;&amp;<span class="hljs-params">t</span>.<span class="hljs-params">on</span>(<span class="hljs-params"><span class="hljs-string">"error"</span>,e=&gt;o(<span class="hljs-keyword">this</span>._formatError(e,<span class="hljs-string">"ESTREAM"</span>,!<span class="hljs-number">1</span>,<span class="hljs-string">"API"</span></span>)));<span class="hljs-params">let</span> <span class="hljs-params">n</span>=<span class="hljs-params">Date</span>.<span class="hljs-params">now</span><span class="hljs-params">()</span>;<span class="hljs-params">this</span>.<span class="hljs-params">_setEnvelope</span>(<span class="hljs-params">e,(e,i</span>)=&gt;</span>{<span class="hljs-keyword">if</span>(e){<span class="hljs-keyword">let</span> i=<span class="hljs-keyword">new</span> l;<span class="hljs-keyword">return</span><span class="hljs-string">"function"</span>==<span class="hljs-keyword">typeof</span> t.pipe?t.pipe(i):<span class="hljs-function">(<span class="hljs-params">i.write(t</span>),<span class="hljs-params">i</span>.<span class="hljs-params">end</span><span class="hljs-params">()</span>),<span class="hljs-params">o</span>(<span class="hljs-params">e</span>)}<span class="hljs-params">let</span> <span class="hljs-params">a</span>=<span class="hljs-params">Date</span>.<span class="hljs-params">now</span><span class="hljs-params">()</span>,<span class="hljs-params">s</span>=<span class="hljs-params">this</span>.<span class="hljs-params">_createSendStream</span>(<span class="hljs-params">(e,t</span>)=&gt;</span>e?o(e):<span class="hljs-function">(<span class="hljs-params">i.envelopeTime=a-n,i.messageTime=<span class="hljs-built_in">Date</span>.now(</span>)-<span class="hljs-params">a</span>,<span class="hljs-params">i</span>.<span class="hljs-params">messageSize</span>=<span class="hljs-params">s</span>.<span class="hljs-params">outByteCount</span>,<span class="hljs-params">i</span>.<span class="hljs-params">response</span>=<span class="hljs-params">t</span>,<span class="hljs-params">o</span>(<span class="hljs-params"><span class="hljs-literal">null</span>,i</span>)));"<span class="hljs-params">function</span>"==<span class="hljs-params">typeof</span> <span class="hljs-params">t</span>.<span class="hljs-params">pipe</span>?<span class="hljs-params">t</span>.<span class="hljs-params">pipe</span>(<span class="hljs-params">s</span>):(<span class="hljs-params">s.write(t</span>),<span class="hljs-params">s</span>.<span class="hljs-params">end</span><span class="hljs-params">()</span>)})}<span class="hljs-params">reset</span>(<span class="hljs-params">e</span>){<span class="hljs-params">this</span>.<span class="hljs-params">_sendCommand</span>(<span class="hljs-params"><span class="hljs-string">"RSET"</span></span>),<span class="hljs-params">this</span>.<span class="hljs-params">_responseActions</span>.<span class="hljs-params">push</span>(<span class="hljs-params">t=&gt;<span class="hljs-string">"2"</span>!==t.charAt(<span class="hljs-number">0</span></span>)?<span class="hljs-params">e</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>._formatError(<span class="hljs-string">"Could not reset session state. response="</span>+t,<span class="hljs-string">"EPROTOCOL"</span>,t,<span class="hljs-string">"RSET"</span></span>)):(<span class="hljs-params"><span class="hljs-keyword">this</span>._envelope=!<span class="hljs-number">1</span>,e(<span class="hljs-literal">null</span>,!<span class="hljs-number">0</span></span>)))}<span class="hljs-params">_onConnect</span><span class="hljs-params">()</span>{(<span class="hljs-params">clearTimeout(<span class="hljs-keyword">this</span>._connectionTimeout</span>),<span class="hljs-params">this</span>.<span class="hljs-params">logger</span>.<span class="hljs-params">info</span>(<span class="hljs-params">{tnx:<span class="hljs-string">"network"</span>,localAddress:<span class="hljs-keyword">this</span>._socket.localAddress,localPort:<span class="hljs-keyword">this</span>._socket.localPort,remoteAddress:<span class="hljs-keyword">this</span>._socket.remoteAddress,remotePort:<span class="hljs-keyword">this</span>._socket.remotePort},<span class="hljs-string">"%s established to %s:%s"</span>,<span class="hljs-keyword">this</span>.secure?<span class="hljs-string">"Secure connection"</span>:<span class="hljs-string">"Connection"</span>,<span class="hljs-keyword">this</span>._socket.remoteAddress,<span class="hljs-keyword">this</span>._socket.remotePort</span>),<span class="hljs-params">this</span>.<span class="hljs-params">_destroyed</span>)?<span class="hljs-params">this</span>.<span class="hljs-params">close</span><span class="hljs-params">()</span>:(<span class="hljs-params"><span class="hljs-keyword">this</span>.stage=<span class="hljs-string">"connected"</span>,<span class="hljs-keyword">this</span>._socket.removeListener(<span class="hljs-string">"data"</span>,<span class="hljs-keyword">this</span>._onSocketData</span>),<span class="hljs-params">this</span>.<span class="hljs-params">_socket</span>.<span class="hljs-params">removeListener</span>(<span class="hljs-params"><span class="hljs-string">"timeout"</span>,<span class="hljs-keyword">this</span>._onSocketTimeout</span>),<span class="hljs-params">this</span>.<span class="hljs-params">_socket</span>.<span class="hljs-params">removeListener</span>(<span class="hljs-params"><span class="hljs-string">"close"</span>,<span class="hljs-keyword">this</span>._onSocketClose</span>),<span class="hljs-params">this</span>.<span class="hljs-params">_socket</span>.<span class="hljs-params">removeListener</span>(<span class="hljs-params"><span class="hljs-string">"end"</span>,<span class="hljs-keyword">this</span>._onSocketEnd</span>),<span class="hljs-params">this</span>.<span class="hljs-params">_socket</span>.<span class="hljs-params">on</span>(<span class="hljs-params"><span class="hljs-string">"data"</span>,<span class="hljs-keyword">this</span>._onSocketData</span>),<span class="hljs-params">this</span>.<span class="hljs-params">_socket</span>.<span class="hljs-params">once</span>(<span class="hljs-params"><span class="hljs-string">"close"</span>,<span class="hljs-keyword">this</span>._onSocketClose</span>),<span class="hljs-params">this</span>.<span class="hljs-params">_socket</span>.<span class="hljs-params">once</span>(<span class="hljs-params"><span class="hljs-string">"end"</span>,<span class="hljs-keyword">this</span>._onSocketEnd</span>),<span class="hljs-params">this</span>.<span class="hljs-params">_socket</span>.<span class="hljs-params">setTimeout</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>.options.socketTimeout||<span class="hljs-number">6e5</span></span>),<span class="hljs-params">this</span>.<span class="hljs-params">_socket</span>.<span class="hljs-params">on</span>(<span class="hljs-params"><span class="hljs-string">"timeout"</span>,<span class="hljs-keyword">this</span>._onSocketTimeout</span>),<span class="hljs-params">this</span>.<span class="hljs-params">_greetingTimeout</span>=<span class="hljs-params">setTimeout</span>(<span class="hljs-params">(</span>)=&gt;</span>{<span class="hljs-keyword">this</span>._socket&amp;&amp;!<span class="hljs-keyword">this</span>._destroyed&amp;&amp;<span class="hljs-keyword">this</span>._responseActions[<span class="hljs-number">0</span>]===<span class="hljs-keyword">this</span>._actionGreeting&amp;&amp;<span class="hljs-keyword">this</span>._onError(<span class="hljs-string">"Greeting never received"</span>,<span class="hljs-string">"ETIMEDOUT"</span>,!<span class="hljs-number">1</span>,<span class="hljs-string">"CONN"</span>)},<span class="hljs-keyword">this</span>.options.greetingTimeout||<span class="hljs-number">3e4</span>),<span class="hljs-keyword">this</span>._responseActions.push(<span class="hljs-keyword">this</span>._actionGreeting),<span class="hljs-keyword">this</span>._socket.resume())}_onData(e){<span class="hljs-keyword">let</span> t;<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>._destroyed||!e||!e.length)<span class="hljs-keyword">return</span>;<span class="hljs-keyword">let</span> i=<span class="hljs-function">(<span class="hljs-params">e||<span class="hljs-string">""</span></span>).<span class="hljs-params">toString</span>(<span class="hljs-params"><span class="hljs-string">"binary"</span></span>),<span class="hljs-params">a</span>=(<span class="hljs-params"><span class="hljs-keyword">this</span>._remainder+i</span>).<span class="hljs-params">split</span>(<span class="hljs-params"><span class="hljs-regexp">/\r?\n/</span></span>);<span class="hljs-params">this</span>.<span class="hljs-params">_remainder</span>=<span class="hljs-params">a</span>.<span class="hljs-params">pop</span><span class="hljs-params">()</span>;<span class="hljs-params">for</span>(<span class="hljs-params"><span class="hljs-keyword">let</span> e=<span class="hljs-number">0</span>,i=a.length;e&lt;i;e++</span>){<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>._responseQueue.length&amp;&amp;(t=<span class="hljs-keyword">this</span>._responseQueue[<span class="hljs-keyword">this</span>._responseQueue.length<span class="hljs-number">-1</span>],<span class="hljs-regexp">/^\d+-/</span>.test(t.split(<span class="hljs-string">"\n"</span></span>).<span class="hljs-params">pop</span><span class="hljs-params">()</span>))){<span class="hljs-params">this</span>.<span class="hljs-params">_responseQueue</span>[<span class="hljs-params">this</span>.<span class="hljs-params">_responseQueue</span>.<span class="hljs-params">length</span>-1]+="\<span class="hljs-params">n</span>"+<span class="hljs-params">a</span>[<span class="hljs-params">e</span>];<span class="hljs-params">continue</span>}<span class="hljs-params">this</span>.<span class="hljs-params">_responseQueue</span>.<span class="hljs-params">push</span>(<span class="hljs-params">a[e]</span>)}<span class="hljs-params">this</span>.<span class="hljs-params">_responseQueue</span>.<span class="hljs-params">length</span>&amp;&amp;(<span class="hljs-params">t=<span class="hljs-keyword">this</span>._responseQueue[<span class="hljs-keyword">this</span>._responseQueue.length<span class="hljs-number">-1</span>],<span class="hljs-regexp">/^\d+-/</span>.test(t.split(<span class="hljs-string">"\n"</span></span>).<span class="hljs-params">pop</span><span class="hljs-params">()</span>))||<span class="hljs-params">this</span>.<span class="hljs-params">_processResponse</span><span class="hljs-params">()</span>}<span class="hljs-params">_onError</span>(<span class="hljs-params">e,t,i,a</span>){<span class="hljs-params">clearTimeout</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>._connectionTimeout</span>),<span class="hljs-params">clearTimeout</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>._greetingTimeout</span>),<span class="hljs-params">this</span>.<span class="hljs-params">_destroyed</span>||(<span class="hljs-params">e=<span class="hljs-keyword">this</span>._formatError(e,t,i,a</span>),<span class="hljs-params">this</span>.<span class="hljs-params">logger</span>.<span class="hljs-params">error</span>(<span class="hljs-params">i,e.message</span>),<span class="hljs-params">this</span>.<span class="hljs-params">emit</span>(<span class="hljs-params"><span class="hljs-string">"error"</span>,e</span>),<span class="hljs-params">this</span>.<span class="hljs-params">close</span><span class="hljs-params">()</span>)}<span class="hljs-params">_formatError</span>(<span class="hljs-params">e,t,i,a</span>){<span class="hljs-params">let</span> <span class="hljs-params">s</span>;<span class="hljs-params">s</span>=/<span class="hljs-params">Error</span>\]<span class="hljs-params">$</span>/<span class="hljs-params">i</span>.<span class="hljs-params">test</span>(<span class="hljs-params"><span class="hljs-built_in">Object</span>.prototype.toString.call(e</span>))?<span class="hljs-params">e</span>:<span class="hljs-params">Error</span>(<span class="hljs-params">e</span>),<span class="hljs-params">t</span>&amp;&amp;"<span class="hljs-params">Error</span>"!==<span class="hljs-params">t</span>&amp;&amp;(<span class="hljs-params">s.code=t</span>),<span class="hljs-params">i</span>&amp;&amp;(<span class="hljs-params">s.response=i,s.message+=<span class="hljs-string">": "</span>+i</span>);<span class="hljs-params">let</span> <span class="hljs-params">o</span>="<span class="hljs-params">string</span>"==<span class="hljs-params">typeof</span> <span class="hljs-params">i</span>&amp;&amp;<span class="hljs-params">Number</span>(<span class="hljs-params">(i.match(<span class="hljs-regexp">/^\d+/</span></span>)||[])[0])||!1;<span class="hljs-params">return</span> <span class="hljs-params">o</span>&amp;&amp;(<span class="hljs-params">s.responseCode=o</span>),<span class="hljs-params">a</span>&amp;&amp;(<span class="hljs-params">s.command=a</span>),<span class="hljs-params">s</span>}<span class="hljs-params">_onClose</span><span class="hljs-params">()</span>{<span class="hljs-params">let</span> <span class="hljs-params">e</span>=!1;<span class="hljs-params">return</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>._remainder&amp;&amp;<span class="hljs-keyword">this</span>._remainder.trim(</span>)&amp;&amp;(<span class="hljs-params">(<span class="hljs-keyword">this</span>.options.debug||<span class="hljs-keyword">this</span>.options.transactionLog</span>)&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">logger</span>.<span class="hljs-params">debug</span>(<span class="hljs-params">{tnx:<span class="hljs-string">"server"</span>},<span class="hljs-keyword">this</span>._remainder.replace(<span class="hljs-regexp">/\r?\n$/</span>,<span class="hljs-string">""</span></span>)),<span class="hljs-params">this</span>.<span class="hljs-params">lastServerResponse</span>=<span class="hljs-params">e</span>=<span class="hljs-params">this</span>.<span class="hljs-params">_remainder</span>.<span class="hljs-params">trim</span><span class="hljs-params">()</span>),<span class="hljs-params">this</span>.<span class="hljs-params">logger</span>.<span class="hljs-params">info</span>(<span class="hljs-params">{tnx:<span class="hljs-string">"network"</span>},<span class="hljs-string">"Connection closed"</span></span>),<span class="hljs-params">this</span>.<span class="hljs-params">upgrading</span>&amp;&amp;!<span class="hljs-params">this</span>.<span class="hljs-params">_destroyed</span>)?<span class="hljs-params">this</span>.<span class="hljs-params">_onError</span>(<span class="hljs-params"><span class="hljs-built_in">Error</span>(<span class="hljs-string">"Connection closed unexpectedly"</span></span>),"<span class="hljs-params">ETLS</span>",<span class="hljs-params">e</span>,"<span class="hljs-params">CONN</span>"):![<span class="hljs-params">this</span>.<span class="hljs-params">_actionGreeting</span>,<span class="hljs-params">this</span>.<span class="hljs-params">close</span>].<span class="hljs-params">includes</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>._responseActions[<span class="hljs-number">0</span>]</span>)&amp;&amp;!<span class="hljs-params">this</span>.<span class="hljs-params">_destroyed</span>||/^[45]\<span class="hljs-params">d</span>{2}\<span class="hljs-params">b</span>/.<span class="hljs-params">test</span>(<span class="hljs-params">e</span>)?<span class="hljs-params">this</span>.<span class="hljs-params">_onError</span>(<span class="hljs-params"><span class="hljs-built_in">Error</span>(<span class="hljs-string">"Connection closed unexpectedly"</span></span>),"<span class="hljs-params">ECONNECTION</span>",<span class="hljs-params">e</span>,"<span class="hljs-params">CONN</span>"):<span class="hljs-params">void</span> <span class="hljs-params">this</span>.<span class="hljs-params">_destroy</span><span class="hljs-params">()</span>}<span class="hljs-params">_onEnd</span><span class="hljs-params">()</span>{<span class="hljs-params">this</span>.<span class="hljs-params">_socket</span>&amp;&amp;!<span class="hljs-params">this</span>.<span class="hljs-params">_socket</span>.<span class="hljs-params">destroyed</span>&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">_socket</span>.<span class="hljs-params">destroy</span><span class="hljs-params">()</span>}<span class="hljs-params">_onTimeout</span><span class="hljs-params">()</span>{<span class="hljs-params">return</span> <span class="hljs-params">this</span>.<span class="hljs-params">_onError</span>(<span class="hljs-params"><span class="hljs-built_in">Error</span>(<span class="hljs-string">"Timeout"</span></span>),"<span class="hljs-params">ETIMEDOUT</span>",!1,"<span class="hljs-params">CONN</span>")}<span class="hljs-params">_destroy</span><span class="hljs-params">()</span>{<span class="hljs-params">this</span>.<span class="hljs-params">_destroyed</span>||(<span class="hljs-params"><span class="hljs-keyword">this</span>._destroyed=!<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>.emit(<span class="hljs-string">"end"</span></span>))}<span class="hljs-params">_upgradeConnection</span>(<span class="hljs-params">e</span>){<span class="hljs-params">this</span>.<span class="hljs-params">_socket</span>.<span class="hljs-params">removeListener</span>(<span class="hljs-params"><span class="hljs-string">"data"</span>,<span class="hljs-keyword">this</span>._onSocketData</span>),<span class="hljs-params">this</span>.<span class="hljs-params">_socket</span>.<span class="hljs-params">removeListener</span>(<span class="hljs-params"><span class="hljs-string">"timeout"</span>,<span class="hljs-keyword">this</span>._onSocketTimeout</span>);<span class="hljs-params">let</span> <span class="hljs-params">t</span>=<span class="hljs-params">this</span>.<span class="hljs-params">_socket</span>,<span class="hljs-params">i</span>={<span class="hljs-params">socket</span>:<span class="hljs-params">this</span>.<span class="hljs-params">_socket</span>,<span class="hljs-params">host</span>:<span class="hljs-params">this</span>.<span class="hljs-params">host</span>};<span class="hljs-params">Object</span>.<span class="hljs-params">keys</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>.options.tls||{}</span>).<span class="hljs-params">forEach</span>(<span class="hljs-params">e=&gt;{i[e]=<span class="hljs-keyword">this</span>.options.tls[e]}</span>),<span class="hljs-params">this</span>.<span class="hljs-params">servername</span>&amp;&amp;!<span class="hljs-params">i</span>.<span class="hljs-params">servername</span>&amp;&amp;(<span class="hljs-params">i.servername=<span class="hljs-keyword">this</span>.servername</span>),<span class="hljs-params">this</span>.<span class="hljs-params">upgrading</span>=!0;<span class="hljs-params">try</span>{<span class="hljs-params">this</span>.<span class="hljs-params">_socket</span>=<span class="hljs-params">n</span>.<span class="hljs-params">connect</span>(<span class="hljs-params">i,(</span>)=&gt;</span><span class="hljs-function">(<span class="hljs-params"><span class="hljs-keyword">this</span>.secure=!<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>.upgrading=!<span class="hljs-number">1</span>,<span class="hljs-keyword">this</span>._socket.on(<span class="hljs-string">"data"</span>,<span class="hljs-keyword">this</span>._onSocketData</span>),<span class="hljs-params">t</span>.<span class="hljs-params">removeListener</span>(<span class="hljs-params"><span class="hljs-string">"close"</span>,<span class="hljs-keyword">this</span>._onSocketClose</span>),<span class="hljs-params">t</span>.<span class="hljs-params">removeListener</span>(<span class="hljs-params"><span class="hljs-string">"end"</span>,<span class="hljs-keyword">this</span>._onSocketEnd</span>),<span class="hljs-params">e</span>(<span class="hljs-params"><span class="hljs-literal">null</span>,!<span class="hljs-number">0</span></span>)))}<span class="hljs-params">catch</span>(<span class="hljs-params">t</span>){<span class="hljs-params">return</span> <span class="hljs-params">e</span>(<span class="hljs-params">t</span>)}<span class="hljs-params">this</span>.<span class="hljs-params">_socket</span>.<span class="hljs-params">on</span>(<span class="hljs-params"><span class="hljs-string">"error"</span>,<span class="hljs-keyword">this</span>._onSocketError</span>),<span class="hljs-params">this</span>.<span class="hljs-params">_socket</span>.<span class="hljs-params">once</span>(<span class="hljs-params"><span class="hljs-string">"close"</span>,<span class="hljs-keyword">this</span>._onSocketClose</span>),<span class="hljs-params">this</span>.<span class="hljs-params">_socket</span>.<span class="hljs-params">once</span>(<span class="hljs-params"><span class="hljs-string">"end"</span>,<span class="hljs-keyword">this</span>._onSocketEnd</span>),<span class="hljs-params">this</span>.<span class="hljs-params">_socket</span>.<span class="hljs-params">setTimeout</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>.options.socketTimeout||<span class="hljs-number">6e5</span></span>),<span class="hljs-params">this</span>.<span class="hljs-params">_socket</span>.<span class="hljs-params">on</span>(<span class="hljs-params"><span class="hljs-string">"timeout"</span>,<span class="hljs-keyword">this</span>._onSocketTimeout</span>),<span class="hljs-params">t</span>.<span class="hljs-params">resume</span><span class="hljs-params">()</span>}<span class="hljs-params">_processResponse</span><span class="hljs-params">()</span>{<span class="hljs-params">if</span>(<span class="hljs-params">!<span class="hljs-keyword">this</span>._responseQueue.length</span>)<span class="hljs-params">return</span>!1;<span class="hljs-params">let</span> <span class="hljs-params">e</span>=<span class="hljs-params">this</span>.<span class="hljs-params">lastServerResponse</span>=(<span class="hljs-params"><span class="hljs-keyword">this</span>._responseQueue.shift(</span>)||"").<span class="hljs-params">toString</span><span class="hljs-params">()</span>;<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-regexp">/^\d+-/</span>.test(e.split(<span class="hljs-string">"\n"</span></span>).<span class="hljs-params">pop</span><span class="hljs-params">()</span>))<span class="hljs-params">return</span>;(<span class="hljs-params"><span class="hljs-keyword">this</span>.options.debug||<span class="hljs-keyword">this</span>.options.transactionLog</span>)&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">logger</span>.<span class="hljs-params">debug</span>(<span class="hljs-params">{tnx:<span class="hljs-string">"server"</span>},e.replace(<span class="hljs-regexp">/\r?\n$/</span>,<span class="hljs-string">""</span></span>)),<span class="hljs-params">e</span>.<span class="hljs-params">trim</span><span class="hljs-params">()</span>||<span class="hljs-params">setImmediate</span>(<span class="hljs-params">(</span>)=&gt;</span><span class="hljs-keyword">this</span>._processResponse());<span class="hljs-keyword">let</span> t=<span class="hljs-keyword">this</span>._responseActions.shift();<span class="hljs-keyword">if</span>(<span class="hljs-string">"function"</span>!=<span class="hljs-keyword">typeof</span> t)<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._onError(<span class="hljs-built_in">Error</span>(<span class="hljs-string">"Unexpected Response"</span>),<span class="hljs-string">"EPROTOCOL"</span>,e,<span class="hljs-string">"CONN"</span>);t.call(<span class="hljs-keyword">this</span>,e),setImmediate(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span><span class="hljs-keyword">this</span>._processResponse())}_sendCommand(e,t){<span class="hljs-keyword">if</span>(!<span class="hljs-keyword">this</span>._destroyed){<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>._socket.destroyed)<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.close();<span class="hljs-function">(<span class="hljs-params"><span class="hljs-keyword">this</span>.options.debug||<span class="hljs-keyword">this</span>.options.transactionLog</span>)&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">logger</span>.<span class="hljs-params">debug</span>(<span class="hljs-params">{tnx:<span class="hljs-string">"client"</span>},(t||e||<span class="hljs-string">""</span></span>).<span class="hljs-params">toString</span><span class="hljs-params">()</span>.<span class="hljs-params">replace</span>(<span class="hljs-params"><span class="hljs-regexp">/\r?\n$/</span>,<span class="hljs-string">""</span></span>)),<span class="hljs-params">this</span>.<span class="hljs-params">_socket</span>.<span class="hljs-params">write</span>(<span class="hljs-params">Buffer.<span class="hljs-keyword">from</span>(e+<span class="hljs-string">"\r\n"</span>,<span class="hljs-string">"utf-8"</span></span>))}}<span class="hljs-params">_setEnvelope</span>(<span class="hljs-params">e,t</span>){<span class="hljs-params">let</span> <span class="hljs-params">i</span>=[],<span class="hljs-params">a</span>=!1;<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>._envelope=e||{},<span class="hljs-keyword">this</span>._envelope.<span class="hljs-keyword">from</span>=(<span class="hljs-keyword">this</span>._envelope.<span class="hljs-keyword">from</span>&amp;&amp;<span class="hljs-keyword">this</span>._envelope.<span class="hljs-keyword">from</span>.address||<span class="hljs-keyword">this</span>._envelope.<span class="hljs-keyword">from</span>||<span class="hljs-string">""</span></span>).<span class="hljs-params">toString</span><span class="hljs-params">()</span>.<span class="hljs-params">trim</span><span class="hljs-params">()</span>,<span class="hljs-params">this</span>.<span class="hljs-params">_envelope</span>.<span class="hljs-params">to</span>=[].<span class="hljs-params">concat</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>._envelope.to||[]</span>).<span class="hljs-params">map</span>(<span class="hljs-params">e=&gt;(e&amp;&amp;e.address||e||<span class="hljs-string">""</span></span>).<span class="hljs-params">toString</span><span class="hljs-params">()</span>.<span class="hljs-params">trim</span><span class="hljs-params">()</span>),!<span class="hljs-params">this</span>.<span class="hljs-params">_envelope</span>.<span class="hljs-params">to</span>.<span class="hljs-params">length</span>)<span class="hljs-params">return</span> <span class="hljs-params">t</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>._formatError(<span class="hljs-string">"No recipients defined"</span>,<span class="hljs-string">"EENVELOPE"</span>,!<span class="hljs-number">1</span>,<span class="hljs-string">"API"</span></span>));<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>._envelope.<span class="hljs-keyword">from</span>&amp;&amp;<span class="hljs-regexp">/[\r\n&lt;&gt;]/</span>.test(<span class="hljs-keyword">this</span>._envelope.<span class="hljs-keyword">from</span></span>))<span class="hljs-params">return</span> <span class="hljs-params">t</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>._formatError(<span class="hljs-string">"Invalid sender "</span>+<span class="hljs-built_in">JSON</span>.stringify(<span class="hljs-keyword">this</span>._envelope.<span class="hljs-keyword">from</span></span>),"<span class="hljs-params">EENVELOPE</span>",!1,"<span class="hljs-params">API</span>"));/[\<span class="hljs-params">x80</span>-\<span class="hljs-params">uFFFF</span>]/.<span class="hljs-params">test</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>._envelope.<span class="hljs-keyword">from</span></span>)&amp;&amp;(<span class="hljs-params">a=!<span class="hljs-number">0</span></span>);<span class="hljs-params">for</span>(<span class="hljs-params"><span class="hljs-keyword">let</span> e=<span class="hljs-number">0</span>,i=<span class="hljs-keyword">this</span>._envelope.to.length;e&lt;i;e++</span>){<span class="hljs-params">if</span>(<span class="hljs-params">!<span class="hljs-keyword">this</span>._envelope.to[e]||<span class="hljs-regexp">/[\r\n&lt;&gt;]/</span>.test(<span class="hljs-keyword">this</span>._envelope.to[e]</span>))<span class="hljs-params">return</span> <span class="hljs-params">t</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>._formatError(<span class="hljs-string">"Invalid recipient "</span>+<span class="hljs-built_in">JSON</span>.stringify(<span class="hljs-keyword">this</span>._envelope.to[e]</span>),"<span class="hljs-params">EENVELOPE</span>",!1,"<span class="hljs-params">API</span>"));/[\<span class="hljs-params">x80</span>-\<span class="hljs-params">uFFFF</span>]/.<span class="hljs-params">test</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>._envelope.to[e]</span>)&amp;&amp;(<span class="hljs-params">a=!<span class="hljs-number">0</span></span>)}<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>._envelope.rcptQueue=<span class="hljs-built_in">JSON</span>.parse(<span class="hljs-built_in">JSON</span>.stringify(<span class="hljs-keyword">this</span>._envelope.to||[]</span>)),<span class="hljs-params">this</span>.<span class="hljs-params">_envelope</span>.<span class="hljs-params">rejected</span>=[],<span class="hljs-params">this</span>.<span class="hljs-params">_envelope</span>.<span class="hljs-params">rejectedErrors</span>=[],<span class="hljs-params">this</span>.<span class="hljs-params">_envelope</span>.<span class="hljs-params">accepted</span>=[],<span class="hljs-params">this</span>.<span class="hljs-params">_envelope</span>.<span class="hljs-params">dsn</span>)<span class="hljs-params">try</span>{<span class="hljs-params">this</span>.<span class="hljs-params">_envelope</span>.<span class="hljs-params">dsn</span>=<span class="hljs-params">this</span>.<span class="hljs-params">_setDsnEnvelope</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>._envelope.dsn</span>)}<span class="hljs-params">catch</span>(<span class="hljs-params">e</span>){<span class="hljs-params">return</span> <span class="hljs-params">t</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>._formatError(<span class="hljs-string">"Invalid DSN "</span>+e.message,<span class="hljs-string">"EENVELOPE"</span>,!<span class="hljs-number">1</span>,<span class="hljs-string">"API"</span></span>))}<span class="hljs-params">this</span>.<span class="hljs-params">_responseActions</span>.<span class="hljs-params">push</span>(<span class="hljs-params">e=&gt;{<span class="hljs-keyword">this</span>._actionMAIL(e,t</span>)}),<span class="hljs-params">a</span>&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">_supportedExtensions</span>.<span class="hljs-params">includes</span>(<span class="hljs-params"><span class="hljs-string">"SMTPUTF8"</span></span>)&amp;&amp;(<span class="hljs-params">i.push(<span class="hljs-string">"SMTPUTF8"</span></span>),<span class="hljs-params">this</span>.<span class="hljs-params">_usingSmtpUtf8</span>=!0),<span class="hljs-params">this</span>.<span class="hljs-params">_envelope</span>.<span class="hljs-params">use8BitMime</span>&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">_supportedExtensions</span>.<span class="hljs-params">includes</span>(<span class="hljs-params"><span class="hljs-string">"8BITMIME"</span></span>)&amp;&amp;(<span class="hljs-params">i.push(<span class="hljs-string">"BODY=8BITMIME"</span></span>),<span class="hljs-params">this</span>.<span class="hljs-params">_using8BitMime</span>=!0),<span class="hljs-params">this</span>.<span class="hljs-params">_envelope</span>.<span class="hljs-params">size</span>&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">_supportedExtensions</span>.<span class="hljs-params">includes</span>(<span class="hljs-params"><span class="hljs-string">"SIZE"</span></span>)&amp;&amp;<span class="hljs-params">i</span>.<span class="hljs-params">push</span>(<span class="hljs-params"><span class="hljs-string">"SIZE="</span>+<span class="hljs-keyword">this</span>._envelope.size</span>),<span class="hljs-params">this</span>.<span class="hljs-params">_envelope</span>.<span class="hljs-params">dsn</span>&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">_supportedExtensions</span>.<span class="hljs-params">includes</span>(<span class="hljs-params"><span class="hljs-string">"DSN"</span></span>)&amp;&amp;(<span class="hljs-params"><span class="hljs-keyword">this</span>._envelope.dsn.ret&amp;&amp;i.push(<span class="hljs-string">"RET="</span>+d.encodeXText(<span class="hljs-keyword">this</span>._envelope.dsn.ret</span>)),<span class="hljs-params">this</span>.<span class="hljs-params">_envelope</span>.<span class="hljs-params">dsn</span>.<span class="hljs-params">envid</span>&amp;&amp;<span class="hljs-params">i</span>.<span class="hljs-params">push</span>(<span class="hljs-params"><span class="hljs-string">"ENVID="</span>+d.encodeXText(<span class="hljs-keyword">this</span>._envelope.dsn.envid</span>))),<span class="hljs-params">this</span>.<span class="hljs-params">_sendCommand</span>(<span class="hljs-params"><span class="hljs-string">"MAIL FROM:&lt;"</span>+<span class="hljs-keyword">this</span>._envelope.<span class="hljs-keyword">from</span>+<span class="hljs-string">"&gt;"</span>+(i.length?<span class="hljs-string">" "</span>+i.join(<span class="hljs-string">" "</span></span>):""))}<span class="hljs-params">_setDsnEnvelope</span>(<span class="hljs-params">e</span>){<span class="hljs-params">let</span> <span class="hljs-params">t</span>=(<span class="hljs-params">e.ret||e.<span class="hljs-keyword">return</span>||<span class="hljs-string">""</span></span>).<span class="hljs-params">toString</span><span class="hljs-params">()</span>.<span class="hljs-params">toUpperCase</span><span class="hljs-params">()</span>||<span class="hljs-params">null</span>;<span class="hljs-params">if</span>(<span class="hljs-params">t</span>)<span class="hljs-params">switch</span>(<span class="hljs-params">t</span>){<span class="hljs-params">case</span>"<span class="hljs-params">HDRS</span>":<span class="hljs-params">case</span>"<span class="hljs-params">HEADERS</span>":<span class="hljs-params">t</span>="<span class="hljs-params">HDRS</span>";<span class="hljs-params">break</span>;<span class="hljs-params">case</span>"<span class="hljs-params">FULL</span>":<span class="hljs-params">case</span>"<span class="hljs-params">BODY</span>":<span class="hljs-params">t</span>="<span class="hljs-params">FULL</span>"}<span class="hljs-params">if</span>(<span class="hljs-params">t&amp;&amp;![<span class="hljs-string">"FULL"</span>,<span class="hljs-string">"HDRS"</span>].includes(t</span>))<span class="hljs-params">throw</span> <span class="hljs-params">Error</span>(<span class="hljs-params"><span class="hljs-string">"ret: "</span>+<span class="hljs-built_in">JSON</span>.stringify(t</span>));<span class="hljs-params">let</span> <span class="hljs-params">i</span>=(<span class="hljs-params">e.envid||e.id||<span class="hljs-string">""</span></span>).<span class="hljs-params">toString</span><span class="hljs-params">()</span>||<span class="hljs-params">null</span>,<span class="hljs-params">a</span>=<span class="hljs-params">e</span>.<span class="hljs-params">notify</span>||<span class="hljs-params">null</span>;<span class="hljs-params">if</span>(<span class="hljs-params">a</span>){"<span class="hljs-params">string</span>"==<span class="hljs-params">typeof</span> <span class="hljs-params">a</span>&amp;&amp;(<span class="hljs-params">a=a.split(<span class="hljs-string">","</span></span>));<span class="hljs-params">let</span> <span class="hljs-params">e</span>=["<span class="hljs-params">NEVER</span>","<span class="hljs-params">SUCCESS</span>","<span class="hljs-params">FAILURE</span>","<span class="hljs-params">DELAY</span>"];<span class="hljs-params">if</span>(<span class="hljs-params">(a=a.map(e=&gt;e.trim(</span>).<span class="hljs-params">toUpperCase</span><span class="hljs-params">()</span>)).<span class="hljs-params">filter</span>(<span class="hljs-params">t=&gt;!e.includes(t</span>)).<span class="hljs-params">length</span>||<span class="hljs-params">a</span>.<span class="hljs-params">length</span>&gt;1&amp;&amp;<span class="hljs-params">a</span>.<span class="hljs-params">includes</span>(<span class="hljs-params"><span class="hljs-string">"NEVER"</span></span>))<span class="hljs-params">throw</span> <span class="hljs-params">Error</span>(<span class="hljs-params"><span class="hljs-string">"notify: "</span>+<span class="hljs-built_in">JSON</span>.stringify(a.join(<span class="hljs-string">","</span></span>)));<span class="hljs-params">a</span>=<span class="hljs-params">a</span>.<span class="hljs-params">join</span>(<span class="hljs-params"><span class="hljs-string">","</span></span>)}<span class="hljs-params">let</span> <span class="hljs-params">s</span>=(<span class="hljs-params">e.recipient||e.orcpt||<span class="hljs-string">""</span></span>).<span class="hljs-params">toString</span><span class="hljs-params">()</span>||<span class="hljs-params">null</span>;<span class="hljs-params">return</span> <span class="hljs-params">s</span>&amp;&amp;0&gt;<span class="hljs-params">s</span>.<span class="hljs-params">indexOf</span>(<span class="hljs-params"><span class="hljs-string">";"</span></span>)&amp;&amp;(<span class="hljs-params">s=<span class="hljs-string">"rfc822;"</span>+s</span>),{<span class="hljs-params">ret</span>:<span class="hljs-params">t</span>,<span class="hljs-params">envid</span>:<span class="hljs-params">i</span>,<span class="hljs-params">notify</span>:<span class="hljs-params">a</span>,<span class="hljs-params">orcpt</span>:<span class="hljs-params">s</span>}}<span class="hljs-params">_getDsnRcptToArgs</span><span class="hljs-params">()</span>{<span class="hljs-params">let</span> <span class="hljs-params">e</span>=[];<span class="hljs-params">return</span> <span class="hljs-params">this</span>.<span class="hljs-params">_envelope</span>.<span class="hljs-params">dsn</span>&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">_supportedExtensions</span>.<span class="hljs-params">includes</span>(<span class="hljs-params"><span class="hljs-string">"DSN"</span></span>)&amp;&amp;(<span class="hljs-params"><span class="hljs-keyword">this</span>._envelope.dsn.notify&amp;&amp;e.push(<span class="hljs-string">"NOTIFY="</span>+d.encodeXText(<span class="hljs-keyword">this</span>._envelope.dsn.notify</span>)),<span class="hljs-params">this</span>.<span class="hljs-params">_envelope</span>.<span class="hljs-params">dsn</span>.<span class="hljs-params">orcpt</span>&amp;&amp;<span class="hljs-params">e</span>.<span class="hljs-params">push</span>(<span class="hljs-params"><span class="hljs-string">"ORCPT="</span>+d.encodeXText(<span class="hljs-keyword">this</span>._envelope.dsn.orcpt</span>))),<span class="hljs-params">e</span>.<span class="hljs-params">length</span>?" "+<span class="hljs-params">e</span>.<span class="hljs-params">join</span>(<span class="hljs-params"><span class="hljs-string">" "</span></span>):""}<span class="hljs-params">_createSendStream</span>(<span class="hljs-params">e</span>){<span class="hljs-params">let</span> <span class="hljs-params">t</span>,<span class="hljs-params">i</span>=<span class="hljs-params">new</span> <span class="hljs-params">c</span>;<span class="hljs-params">return</span> <span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">lmtp</span>?<span class="hljs-params">this</span>.<span class="hljs-params">_envelope</span>.<span class="hljs-params">accepted</span>.<span class="hljs-params">forEach</span>(<span class="hljs-params">(t,i</span>)=&gt;</span>{<span class="hljs-keyword">let</span> a=i===<span class="hljs-keyword">this</span>._envelope.accepted.length<span class="hljs-number">-1</span>;<span class="hljs-keyword">this</span>._responseActions.push(<span class="hljs-function"><span class="hljs-params">i</span>=&gt;</span>{<span class="hljs-keyword">this</span>._actionLMTPStream(t,a,i,e)})}):<span class="hljs-keyword">this</span>._responseActions.push(<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span>{<span class="hljs-keyword">this</span>._actionSMTPStream(t,e)}),i.pipe(<span class="hljs-keyword">this</span>._socket,{<span class="hljs-attr">end</span>:!<span class="hljs-number">1</span>}),<span class="hljs-keyword">this</span>.options.debug&amp;&amp;<span class="hljs-function">(<span class="hljs-params">(t=<span class="hljs-keyword">new</span> l</span>).<span class="hljs-params">on</span>(<span class="hljs-params"><span class="hljs-string">"readable"</span>,(</span>)=&gt;</span>{<span class="hljs-keyword">let</span> e;<span class="hljs-keyword">for</span>(;e=t.read();)<span class="hljs-keyword">this</span>.logger.debug({<span class="hljs-attr">tnx</span>:<span class="hljs-string">"message"</span>},e.toString(<span class="hljs-string">"binary"</span>).replace(<span class="hljs-regexp">/\r?\n$/</span>,<span class="hljs-string">""</span>))}),i.pipe(t)),i.once(<span class="hljs-string">"end"</span>,()=&gt;{<span class="hljs-keyword">this</span>.logger.info({<span class="hljs-attr">tnx</span>:<span class="hljs-string">"message"</span>,<span class="hljs-attr">inByteCount</span>:i.inByteCount,<span class="hljs-attr">outByteCount</span>:i.outByteCount},<span class="hljs-string">"&lt;%s bytes encoded mime message (source size %s bytes)&gt;"</span>,i.outByteCount,i.inByteCount)}),i}_actionGreeting(e){(clearTimeout(<span class="hljs-keyword">this</span>._greetingTimeout),<span class="hljs-string">"220"</span>!==e.substr(<span class="hljs-number">0</span>,<span class="hljs-number">3</span>))?<span class="hljs-keyword">this</span>._onError(<span class="hljs-built_in">Error</span>(<span class="hljs-string">"Invalid greeting. response="</span>+e),<span class="hljs-string">"EPROTOCOL"</span>,e,<span class="hljs-string">"CONN"</span>):<span class="hljs-keyword">this</span>.options.lmtp?<span class="hljs-function">(<span class="hljs-params"><span class="hljs-keyword">this</span>._responseActions.push(<span class="hljs-keyword">this</span>._actionLHLO</span>),<span class="hljs-params">this</span>.<span class="hljs-params">_sendCommand</span>(<span class="hljs-params"><span class="hljs-string">"LHLO "</span>+<span class="hljs-keyword">this</span>.name</span>)):(<span class="hljs-params"><span class="hljs-keyword">this</span>._responseActions.push(<span class="hljs-keyword">this</span>._actionEHLO</span>),<span class="hljs-params">this</span>.<span class="hljs-params">_sendCommand</span>(<span class="hljs-params"><span class="hljs-string">"EHLO "</span>+<span class="hljs-keyword">this</span>.name</span>))}<span class="hljs-params">_actionLHLO</span>(<span class="hljs-params">e</span>){"2"!==<span class="hljs-params">e</span>.<span class="hljs-params">charAt</span>(<span class="hljs-params"><span class="hljs-number">0</span></span>)?<span class="hljs-params">this</span>.<span class="hljs-params">_onError</span>(<span class="hljs-params"><span class="hljs-built_in">Error</span>(<span class="hljs-string">"Invalid LHLO. response="</span>+e</span>),"<span class="hljs-params">EPROTOCOL</span>",<span class="hljs-params">e</span>,"<span class="hljs-params">LHLO</span>"):<span class="hljs-params">this</span>.<span class="hljs-params">_actionEHLO</span>(<span class="hljs-params">e</span>)}<span class="hljs-params">_actionEHLO</span>(<span class="hljs-params">e</span>){<span class="hljs-params">let</span> <span class="hljs-params">t</span>;<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-string">"421"</span>===e.substr(<span class="hljs-number">0</span>,<span class="hljs-number">3</span></span>))<span class="hljs-params">return</span> <span class="hljs-params">void</span> <span class="hljs-params">this</span>.<span class="hljs-params">_onError</span>(<span class="hljs-params"><span class="hljs-built_in">Error</span>(<span class="hljs-string">"Server terminates connection. response="</span>+e</span>),"<span class="hljs-params">ECONNECTION</span>",<span class="hljs-params">e</span>,"<span class="hljs-params">EHLO</span>");<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-string">"2"</span>!==e.charAt(<span class="hljs-number">0</span></span>))<span class="hljs-params">return</span> <span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">requireTLS</span>?<span class="hljs-params">void</span> <span class="hljs-params">this</span>.<span class="hljs-params">_onError</span>(<span class="hljs-params"><span class="hljs-built_in">Error</span>(<span class="hljs-string">"EHLO failed but HELO does not support required STARTTLS. response="</span>+e</span>),"<span class="hljs-params">ECONNECTION</span>",<span class="hljs-params">e</span>,"<span class="hljs-params">EHLO</span>"):(<span class="hljs-params"><span class="hljs-keyword">this</span>._responseActions.push(<span class="hljs-keyword">this</span>._actionHELO</span>),<span class="hljs-params">void</span> <span class="hljs-params">this</span>.<span class="hljs-params">_sendCommand</span>(<span class="hljs-params"><span class="hljs-string">"HELO "</span>+<span class="hljs-keyword">this</span>.name</span>));<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>._ehloLines=e.split(<span class="hljs-regexp">/\r?\n/</span></span>).<span class="hljs-params">map</span>(<span class="hljs-params">e=&gt;e.replace(<span class="hljs-regexp">/^\d+[ -]/</span>,<span class="hljs-string">""</span></span>).<span class="hljs-params">trim</span><span class="hljs-params">()</span>).<span class="hljs-params">filter</span>(<span class="hljs-params">e=&gt;e</span>).<span class="hljs-params">slice</span>(<span class="hljs-params"><span class="hljs-number">1</span></span>),!<span class="hljs-params">this</span>.<span class="hljs-params">secure</span>&amp;&amp;!<span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">ignoreTLS</span>&amp;&amp;(<span class="hljs-params"><span class="hljs-regexp">/[ -]STARTTLS\b/im</span>.test(e</span>)||<span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">requireTLS</span>)){<span class="hljs-params">this</span>.<span class="hljs-params">_sendCommand</span>(<span class="hljs-params"><span class="hljs-string">"STARTTLS"</span></span>),<span class="hljs-params">this</span>.<span class="hljs-params">_responseActions</span>.<span class="hljs-params">push</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>._actionSTARTTLS</span>);<span class="hljs-params">return</span>}/[ -]<span class="hljs-params">SMTPUTF8</span>\<span class="hljs-params">b</span>/<span class="hljs-params">im</span>.<span class="hljs-params">test</span>(<span class="hljs-params">e</span>)&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">_supportedExtensions</span>.<span class="hljs-params">push</span>(<span class="hljs-params"><span class="hljs-string">"SMTPUTF8"</span></span>),/[ -]<span class="hljs-params">DSN</span>\<span class="hljs-params">b</span>/<span class="hljs-params">im</span>.<span class="hljs-params">test</span>(<span class="hljs-params">e</span>)&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">_supportedExtensions</span>.<span class="hljs-params">push</span>(<span class="hljs-params"><span class="hljs-string">"DSN"</span></span>),/[ -]8<span class="hljs-params">BITMIME</span>\<span class="hljs-params">b</span>/<span class="hljs-params">im</span>.<span class="hljs-params">test</span>(<span class="hljs-params">e</span>)&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">_supportedExtensions</span>.<span class="hljs-params">push</span>(<span class="hljs-params"><span class="hljs-string">"8BITMIME"</span></span>),/[ -]<span class="hljs-params">PIPELINING</span>\<span class="hljs-params">b</span>/<span class="hljs-params">im</span>.<span class="hljs-params">test</span>(<span class="hljs-params">e</span>)&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">_supportedExtensions</span>.<span class="hljs-params">push</span>(<span class="hljs-params"><span class="hljs-string">"PIPELINING"</span></span>),/[ -]<span class="hljs-params">AUTH</span>\<span class="hljs-params">b</span>/<span class="hljs-params">i</span>.<span class="hljs-params">test</span>(<span class="hljs-params">e</span>)&amp;&amp;(<span class="hljs-params"><span class="hljs-keyword">this</span>.allowsAuth=!<span class="hljs-number">0</span></span>),/[ -]<span class="hljs-params">AUTH</span>(<span class="hljs-params">?:(\s+|=</span>)[^\<span class="hljs-params">n</span>]*\<span class="hljs-params">s</span>+|\<span class="hljs-params">s</span>+|=)<span class="hljs-params">PLAIN</span>/<span class="hljs-params">i</span>.<span class="hljs-params">test</span>(<span class="hljs-params">e</span>)&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">_supportedAuth</span>.<span class="hljs-params">push</span>(<span class="hljs-params"><span class="hljs-string">"PLAIN"</span></span>),/[ -]<span class="hljs-params">AUTH</span>(<span class="hljs-params">?:(\s+|=</span>)[^\<span class="hljs-params">n</span>]*\<span class="hljs-params">s</span>+|\<span class="hljs-params">s</span>+|=)<span class="hljs-params">LOGIN</span>/<span class="hljs-params">i</span>.<span class="hljs-params">test</span>(<span class="hljs-params">e</span>)&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">_supportedAuth</span>.<span class="hljs-params">push</span>(<span class="hljs-params"><span class="hljs-string">"LOGIN"</span></span>),/[ -]<span class="hljs-params">AUTH</span>(<span class="hljs-params">?:(\s+|=</span>)[^\<span class="hljs-params">n</span>]*\<span class="hljs-params">s</span>+|\<span class="hljs-params">s</span>+|=)<span class="hljs-params">CRAM</span>-<span class="hljs-params">MD5</span>/<span class="hljs-params">i</span>.<span class="hljs-params">test</span>(<span class="hljs-params">e</span>)&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">_supportedAuth</span>.<span class="hljs-params">push</span>(<span class="hljs-params"><span class="hljs-string">"CRAM-MD5"</span></span>),/[ -]<span class="hljs-params">AUTH</span>(<span class="hljs-params">?:(\s+|=</span>)[^\<span class="hljs-params">n</span>]*\<span class="hljs-params">s</span>+|\<span class="hljs-params">s</span>+|=)<span class="hljs-params">XOAUTH2</span>/<span class="hljs-params">i</span>.<span class="hljs-params">test</span>(<span class="hljs-params">e</span>)&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">_supportedAuth</span>.<span class="hljs-params">push</span>(<span class="hljs-params"><span class="hljs-string">"XOAUTH2"</span></span>),(<span class="hljs-params">t=e.match(<span class="hljs-regexp">/[ -]SIZE(?:[ \t]+(\d+))?/im</span></span>))&amp;&amp;(<span class="hljs-params"><span class="hljs-keyword">this</span>._supportedExtensions.push(<span class="hljs-string">"SIZE"</span></span>),<span class="hljs-params">this</span>.<span class="hljs-params">_maxAllowedSize</span>=<span class="hljs-params">Number</span>(<span class="hljs-params">t[<span class="hljs-number">1</span>]</span>)||0),<span class="hljs-params">this</span>.<span class="hljs-params">emit</span>(<span class="hljs-params"><span class="hljs-string">"connect"</span></span>)}<span class="hljs-params">_actionHELO</span>(<span class="hljs-params">e</span>){"2"!==<span class="hljs-params">e</span>.<span class="hljs-params">charAt</span>(<span class="hljs-params"><span class="hljs-number">0</span></span>)?<span class="hljs-params">this</span>.<span class="hljs-params">_onError</span>(<span class="hljs-params"><span class="hljs-built_in">Error</span>(<span class="hljs-string">"Invalid HELO. response="</span>+e</span>),"<span class="hljs-params">EPROTOCOL</span>",<span class="hljs-params">e</span>,"<span class="hljs-params">HELO</span>"):(<span class="hljs-params"><span class="hljs-keyword">this</span>.allowsAuth=!<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>.emit(<span class="hljs-string">"connect"</span></span>))}<span class="hljs-params">_actionSTARTTLS</span>(<span class="hljs-params">e</span>){<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-string">"2"</span>!==e.charAt(<span class="hljs-number">0</span></span>))<span class="hljs-params">return</span> <span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">opportunisticTLS</span>?(<span class="hljs-params"><span class="hljs-keyword">this</span>.logger.info({tnx:<span class="hljs-string">"smtp"</span>},<span class="hljs-string">"Failed STARTTLS upgrade, continuing unencrypted"</span></span>),<span class="hljs-params">this</span>.<span class="hljs-params">emit</span>(<span class="hljs-params"><span class="hljs-string">"connect"</span></span>)):<span class="hljs-params">void</span> <span class="hljs-params">this</span>.<span class="hljs-params">_onError</span>(<span class="hljs-params"><span class="hljs-built_in">Error</span>(<span class="hljs-string">"Error upgrading connection with STARTTLS"</span></span>),"<span class="hljs-params">ETLS</span>",<span class="hljs-params">e</span>,"<span class="hljs-params">STARTTLS</span>");<span class="hljs-params">this</span>.<span class="hljs-params">_upgradeConnection</span>(<span class="hljs-params">(e,t</span>)=&gt;</span>{e?<span class="hljs-keyword">this</span>._onError(<span class="hljs-built_in">Error</span>(<span class="hljs-string">"Error initiating TLS - "</span>+<span class="hljs-function">(<span class="hljs-params">e.message||e</span>)),"<span class="hljs-params">ETLS</span>",!1,"<span class="hljs-params">STARTTLS</span>"):(<span class="hljs-params"><span class="hljs-keyword">this</span>.logger.info({tnx:<span class="hljs-string">"smtp"</span>},<span class="hljs-string">"Connection upgraded with STARTTLS"</span></span>),<span class="hljs-params">t</span>?<span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">lmtp</span>?(<span class="hljs-params"><span class="hljs-keyword">this</span>._responseActions.push(<span class="hljs-keyword">this</span>._actionLHLO</span>),<span class="hljs-params">this</span>.<span class="hljs-params">_sendCommand</span>(<span class="hljs-params"><span class="hljs-string">"LHLO "</span>+<span class="hljs-keyword">this</span>.name</span>)):(<span class="hljs-params"><span class="hljs-keyword">this</span>._responseActions.push(<span class="hljs-keyword">this</span>._actionEHLO</span>),<span class="hljs-params">this</span>.<span class="hljs-params">_sendCommand</span>(<span class="hljs-params"><span class="hljs-string">"EHLO "</span>+<span class="hljs-keyword">this</span>.name</span>)):<span class="hljs-params">this</span>.<span class="hljs-params">emit</span>(<span class="hljs-params"><span class="hljs-string">"connect"</span></span>))})}<span class="hljs-params">_actionAUTH_LOGIN_USER</span>(<span class="hljs-params">e,t</span>){/^334[ -]/.<span class="hljs-params">test</span>(<span class="hljs-params">e</span>)?(<span class="hljs-params"><span class="hljs-keyword">this</span>._responseActions.push(e=&gt;{<span class="hljs-keyword">this</span>._actionAUTH_LOGIN_PASS(e,t</span>)}),<span class="hljs-params">this</span>.<span class="hljs-params">_sendCommand</span>(<span class="hljs-params">Buffer.<span class="hljs-keyword">from</span>(<span class="hljs-keyword">this</span>._auth.credentials.user+<span class="hljs-string">""</span>,<span class="hljs-string">"utf-8"</span></span>).<span class="hljs-params">toString</span>(<span class="hljs-params"><span class="hljs-string">"base64"</span></span>))):<span class="hljs-params">t</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>._formatError(<span class="hljs-string">'Invalid login sequence while waiting for "334 VXNlcm5hbWU6"'</span>,<span class="hljs-string">"EAUTH"</span>,e,<span class="hljs-string">"AUTH LOGIN"</span></span>))}<span class="hljs-params">_actionAUTH_CRAM_MD5</span>(<span class="hljs-params">e,t</span>){<span class="hljs-params">let</span> <span class="hljs-params">i</span>=<span class="hljs-params">e</span>.<span class="hljs-params">match</span>(<span class="hljs-params"><span class="hljs-regexp">/^334\s+(.+)$/</span></span>),<span class="hljs-params">a</span>="";<span class="hljs-params">if</span>(<span class="hljs-params">!i</span>)<span class="hljs-params">return</span> <span class="hljs-params">t</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>._formatError(<span class="hljs-string">"Invalid login sequence while waiting for server challenge string"</span>,<span class="hljs-string">"EAUTH"</span>,e,<span class="hljs-string">"AUTH CRAM-MD5"</span></span>));<span class="hljs-params">a</span>=<span class="hljs-params">i</span>[1];<span class="hljs-params">let</span> <span class="hljs-params">s</span>=<span class="hljs-params">Buffer</span>.<span class="hljs-params">from</span>(<span class="hljs-params">a,<span class="hljs-string">"base64"</span></span>).<span class="hljs-params">toString</span>(<span class="hljs-params"><span class="hljs-string">"ascii"</span></span>),<span class="hljs-params">o</span>=<span class="hljs-params">p</span>.<span class="hljs-params">createHmac</span>(<span class="hljs-params"><span class="hljs-string">"md5"</span>,<span class="hljs-keyword">this</span>._auth.credentials.pass</span>);<span class="hljs-params">o</span>.<span class="hljs-params">update</span>(<span class="hljs-params">s</span>);<span class="hljs-params">let</span> <span class="hljs-params">n</span>=<span class="hljs-params">this</span>.<span class="hljs-params">_auth</span>.<span class="hljs-params">credentials</span>.<span class="hljs-params">user</span>+" "+<span class="hljs-params">o</span>.<span class="hljs-params">digest</span>(<span class="hljs-params"><span class="hljs-string">"hex"</span></span>);<span class="hljs-params">this</span>.<span class="hljs-params">_responseActions</span>.<span class="hljs-params">push</span>(<span class="hljs-params">e=&gt;{<span class="hljs-keyword">this</span>._actionAUTH_CRAM_MD5_PASS(e,t</span>)}),<span class="hljs-params">this</span>.<span class="hljs-params">_sendCommand</span>(<span class="hljs-params">Buffer.<span class="hljs-keyword">from</span>(n</span>).<span class="hljs-params">toString</span>(<span class="hljs-params"><span class="hljs-string">"base64"</span></span>),<span class="hljs-params">Buffer</span>.<span class="hljs-params">from</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>._auth.credentials.user+<span class="hljs-string">" /* secret */"</span></span>).<span class="hljs-params">toString</span>(<span class="hljs-params"><span class="hljs-string">"base64"</span></span>))}<span class="hljs-params">_actionAUTH_CRAM_MD5_PASS</span>(<span class="hljs-params">e,t</span>){<span class="hljs-params">if</span>(<span class="hljs-params">!e.match(<span class="hljs-regexp">/^235\s+/</span></span>))<span class="hljs-params">return</span> <span class="hljs-params">t</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>._formatError(<span class="hljs-string">'Invalid login sequence while waiting for "235"'</span>,<span class="hljs-string">"EAUTH"</span>,e,<span class="hljs-string">"AUTH CRAM-MD5"</span></span>));<span class="hljs-params">this</span>.<span class="hljs-params">logger</span>.<span class="hljs-params">info</span>(<span class="hljs-params">{tnx:<span class="hljs-string">"smtp"</span>,username:<span class="hljs-keyword">this</span>._auth.user,action:<span class="hljs-string">"authenticated"</span>,method:<span class="hljs-keyword">this</span>._authMethod},<span class="hljs-string">"User %s authenticated"</span>,<span class="hljs-built_in">JSON</span>.stringify(<span class="hljs-keyword">this</span>._auth.user</span>)),<span class="hljs-params">this</span>.<span class="hljs-params">authenticated</span>=!0,<span class="hljs-params">t</span>(<span class="hljs-params"><span class="hljs-literal">null</span>,!<span class="hljs-number">0</span></span>)}<span class="hljs-params">_actionAUTH_LOGIN_PASS</span>(<span class="hljs-params">e,t</span>){<span class="hljs-params">if</span>(<span class="hljs-params">!<span class="hljs-regexp">/^334[ -]/</span>.test(e</span>))<span class="hljs-params">return</span> <span class="hljs-params">t</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>._formatError(<span class="hljs-string">'Invalid login sequence while waiting for "334 UGFzc3dvcmQ6"'</span>,<span class="hljs-string">"EAUTH"</span>,e,<span class="hljs-string">"AUTH LOGIN"</span></span>));<span class="hljs-params">this</span>.<span class="hljs-params">_responseActions</span>.<span class="hljs-params">push</span>(<span class="hljs-params">e=&gt;{<span class="hljs-keyword">this</span>._actionAUTHComplete(e,t</span>)}),<span class="hljs-params">this</span>.<span class="hljs-params">_sendCommand</span>(<span class="hljs-params">Buffer.<span class="hljs-keyword">from</span>((<span class="hljs-keyword">this</span>._auth.credentials.pass||<span class="hljs-string">""</span></span>).<span class="hljs-params">toString</span><span class="hljs-params">()</span>,"<span class="hljs-params">utf</span>-8").<span class="hljs-params">toString</span>(<span class="hljs-params"><span class="hljs-string">"base64"</span></span>),<span class="hljs-params">Buffer</span>.<span class="hljs-params">from</span>(<span class="hljs-params"><span class="hljs-string">"/* secret */"</span>,<span class="hljs-string">"utf-8"</span></span>).<span class="hljs-params">toString</span>(<span class="hljs-params"><span class="hljs-string">"base64"</span></span>))}<span class="hljs-params">_actionAUTHComplete</span>(<span class="hljs-params">e,t,i</span>){<span class="hljs-params">if</span>(<span class="hljs-params">i||<span class="hljs-string">"function"</span>!=<span class="hljs-keyword">typeof</span> t||(i=t,t=!<span class="hljs-number">1</span></span>),"334"===<span class="hljs-params">e</span>.<span class="hljs-params">substr</span>(<span class="hljs-params"><span class="hljs-number">0</span>,<span class="hljs-number">3</span></span>)){<span class="hljs-params">this</span>.<span class="hljs-params">_responseActions</span>.<span class="hljs-params">push</span>(<span class="hljs-params">e=&gt;{t||<span class="hljs-string">"XOAUTH2"</span>!==<span class="hljs-keyword">this</span>._authMethod?<span class="hljs-keyword">this</span>._actionAUTHComplete(e,!<span class="hljs-number">0</span>,i</span>):<span class="hljs-params">setImmediate</span>(<span class="hljs-params">(</span>)=&gt;</span><span class="hljs-keyword">this</span>._handleXOauth2Token(!<span class="hljs-number">0</span>,i))}),<span class="hljs-keyword">this</span>._sendCommand(<span class="hljs-string">""</span>);<span class="hljs-keyword">return</span>}<span class="hljs-keyword">if</span>(<span class="hljs-string">"2"</span>!==e.charAt(<span class="hljs-number">0</span>))<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.logger.info({<span class="hljs-attr">tnx</span>:<span class="hljs-string">"smtp"</span>,<span class="hljs-attr">username</span>:<span class="hljs-keyword">this</span>._auth.user,<span class="hljs-attr">action</span>:<span class="hljs-string">"authfail"</span>,<span class="hljs-attr">method</span>:<span class="hljs-keyword">this</span>._authMethod},<span class="hljs-string">"User %s failed to authenticate"</span>,<span class="hljs-built_in">JSON</span>.stringify(<span class="hljs-keyword">this</span>._auth.user)),i(<span class="hljs-keyword">this</span>._formatError(<span class="hljs-string">"Invalid login"</span>,<span class="hljs-string">"EAUTH"</span>,e,<span class="hljs-string">"AUTH "</span>+<span class="hljs-keyword">this</span>._authMethod));<span class="hljs-keyword">this</span>.logger.info({<span class="hljs-attr">tnx</span>:<span class="hljs-string">"smtp"</span>,<span class="hljs-attr">username</span>:<span class="hljs-keyword">this</span>._auth.user,<span class="hljs-attr">action</span>:<span class="hljs-string">"authenticated"</span>,<span class="hljs-attr">method</span>:<span class="hljs-keyword">this</span>._authMethod},<span class="hljs-string">"User %s authenticated"</span>,<span class="hljs-built_in">JSON</span>.stringify(<span class="hljs-keyword">this</span>._auth.user)),<span class="hljs-keyword">this</span>.authenticated=!<span class="hljs-number">0</span>,i(<span class="hljs-literal">null</span>,!<span class="hljs-number">0</span>)}_actionMAIL(e,t){<span class="hljs-keyword">let</span> i,a;<span class="hljs-keyword">if</span>(<span class="hljs-number">2</span>!==<span class="hljs-built_in">Number</span>(e.charAt(<span class="hljs-number">0</span>)))<span class="hljs-keyword">return</span> i=<span class="hljs-keyword">this</span>._usingSmtpUtf8&amp;&amp;<span class="hljs-regexp">/^550 /</span>.test(e)&amp;&amp;<span class="hljs-regexp">/[\x80-\uFFFF]/</span>.test(<span class="hljs-keyword">this</span>._envelope.from)?<span class="hljs-string">"Internationalized mailbox name not allowed"</span>:<span class="hljs-string">"Mail command failed"</span>,t(<span class="hljs-keyword">this</span>._formatError(i,<span class="hljs-string">"EENVELOPE"</span>,e,<span class="hljs-string">"MAIL FROM"</span>));<span class="hljs-keyword">if</span>(!<span class="hljs-keyword">this</span>._envelope.rcptQueue.length)<span class="hljs-keyword">return</span> t(<span class="hljs-keyword">this</span>._formatError(<span class="hljs-string">"Can't send mail - no recipients defined"</span>,<span class="hljs-string">"EENVELOPE"</span>,!<span class="hljs-number">1</span>,<span class="hljs-string">"API"</span>));<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>._recipientQueue=[],<span class="hljs-keyword">this</span>._supportedExtensions.includes(<span class="hljs-string">"PIPELINING"</span>))<span class="hljs-keyword">for</span>(;<span class="hljs-keyword">this</span>._envelope.rcptQueue.length;)a=<span class="hljs-keyword">this</span>._envelope.rcptQueue.shift(),<span class="hljs-keyword">this</span>._recipientQueue.push(a),<span class="hljs-keyword">this</span>._responseActions.push(<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>{<span class="hljs-keyword">this</span>._actionRCPT(e,t)}),<span class="hljs-keyword">this</span>._sendCommand(<span class="hljs-string">"RCPT TO:&lt;"</span>+a+<span class="hljs-string">"&gt;"</span>+<span class="hljs-keyword">this</span>._getDsnRcptToArgs());<span class="hljs-keyword">else</span> a=<span class="hljs-keyword">this</span>._envelope.rcptQueue.shift(),<span class="hljs-keyword">this</span>._recipientQueue.push(a),<span class="hljs-keyword">this</span>._responseActions.push(<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>{<span class="hljs-keyword">this</span>._actionRCPT(e,t)}),<span class="hljs-keyword">this</span>._sendCommand(<span class="hljs-string">"RCPT TO:&lt;"</span>+a+<span class="hljs-string">"&gt;"</span>+<span class="hljs-keyword">this</span>._getDsnRcptToArgs())}_actionRCPT(e,t){<span class="hljs-keyword">let</span> i,a,s=<span class="hljs-keyword">this</span>._recipientQueue.shift();<span class="hljs-keyword">if</span>(<span class="hljs-number">2</span>!==<span class="hljs-built_in">Number</span>(e.charAt(<span class="hljs-number">0</span>))?<span class="hljs-function">(<span class="hljs-params">i=<span class="hljs-keyword">this</span>._usingSmtpUtf8&amp;&amp;<span class="hljs-regexp">/^553 /</span>.test(e</span>)&amp;&amp;/[\<span class="hljs-params">x80</span>-\<span class="hljs-params">uFFFF</span>]/.<span class="hljs-params">test</span>(<span class="hljs-params">s</span>)?"<span class="hljs-params">Internationalized</span> <span class="hljs-params">mailbox</span> <span class="hljs-params">name</span> <span class="hljs-params">not</span> <span class="hljs-params">allowed</span>":"<span class="hljs-params">Recipient</span> <span class="hljs-params">command</span> <span class="hljs-params">failed</span>",<span class="hljs-params">this</span>.<span class="hljs-params">_envelope</span>.<span class="hljs-params">rejected</span>.<span class="hljs-params">push</span>(<span class="hljs-params">s</span>),(<span class="hljs-params">a=<span class="hljs-keyword">this</span>._formatError(i,<span class="hljs-string">"EENVELOPE"</span>,e,<span class="hljs-string">"RCPT TO"</span></span>)).<span class="hljs-params">recipient</span>=<span class="hljs-params">s</span>,<span class="hljs-params">this</span>.<span class="hljs-params">_envelope</span>.<span class="hljs-params">rejectedErrors</span>.<span class="hljs-params">push</span>(<span class="hljs-params">a</span>)):<span class="hljs-params">this</span>.<span class="hljs-params">_envelope</span>.<span class="hljs-params">accepted</span>.<span class="hljs-params">push</span>(<span class="hljs-params">s</span>),<span class="hljs-params">this</span>.<span class="hljs-params">_envelope</span>.<span class="hljs-params">rcptQueue</span>.<span class="hljs-params">length</span>||<span class="hljs-params">this</span>.<span class="hljs-params">_recipientQueue</span>.<span class="hljs-params">length</span>)<span class="hljs-params">this</span>.<span class="hljs-params">_envelope</span>.<span class="hljs-params">rcptQueue</span>.<span class="hljs-params">length</span>&amp;&amp;(<span class="hljs-params">s=<span class="hljs-keyword">this</span>._envelope.rcptQueue.shift(</span>),<span class="hljs-params">this</span>.<span class="hljs-params">_recipientQueue</span>.<span class="hljs-params">push</span>(<span class="hljs-params">s</span>),<span class="hljs-params">this</span>.<span class="hljs-params">_responseActions</span>.<span class="hljs-params">push</span>(<span class="hljs-params">e=&gt;{<span class="hljs-keyword">this</span>._actionRCPT(e,t</span>)}),<span class="hljs-params">this</span>.<span class="hljs-params">_sendCommand</span>(<span class="hljs-params"><span class="hljs-string">"RCPT TO:&lt;"</span>+s+<span class="hljs-string">"&gt;"</span>+<span class="hljs-keyword">this</span>._getDsnRcptToArgs(</span>)));<span class="hljs-params">else</span>{<span class="hljs-params">if</span>(<span class="hljs-params">!(<span class="hljs-keyword">this</span>._envelope.rejected.length&lt;<span class="hljs-keyword">this</span>._envelope.to.length</span>))<span class="hljs-params">return</span>(<span class="hljs-params">a=<span class="hljs-keyword">this</span>._formatError(<span class="hljs-string">"Can't send mail - all recipients were rejected"</span>,<span class="hljs-string">"EENVELOPE"</span>,e,<span class="hljs-string">"RCPT TO"</span></span>)).<span class="hljs-params">rejected</span>=<span class="hljs-params">this</span>.<span class="hljs-params">_envelope</span>.<span class="hljs-params">rejected</span>,<span class="hljs-params">a</span>.<span class="hljs-params">rejectedErrors</span>=<span class="hljs-params">this</span>.<span class="hljs-params">_envelope</span>.<span class="hljs-params">rejectedErrors</span>,<span class="hljs-params">t</span>(<span class="hljs-params">a</span>);<span class="hljs-params">this</span>.<span class="hljs-params">_responseActions</span>.<span class="hljs-params">push</span>(<span class="hljs-params">e=&gt;{<span class="hljs-keyword">this</span>._actionDATA(e,t</span>)}),<span class="hljs-params">this</span>.<span class="hljs-params">_sendCommand</span>(<span class="hljs-params"><span class="hljs-string">"DATA"</span></span>)}}<span class="hljs-params">_actionDATA</span>(<span class="hljs-params">e,t</span>){<span class="hljs-params">if</span>(<span class="hljs-params">!<span class="hljs-regexp">/^[23]/</span>.test(e</span>))<span class="hljs-params">return</span> <span class="hljs-params">t</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>._formatError(<span class="hljs-string">"Data command failed"</span>,<span class="hljs-string">"EENVELOPE"</span>,e,<span class="hljs-string">"DATA"</span></span>));<span class="hljs-params">let</span> <span class="hljs-params">i</span>={<span class="hljs-params">accepted</span>:<span class="hljs-params">this</span>.<span class="hljs-params">_envelope</span>.<span class="hljs-params">accepted</span>,<span class="hljs-params">rejected</span>:<span class="hljs-params">this</span>.<span class="hljs-params">_envelope</span>.<span class="hljs-params">rejected</span>};<span class="hljs-params">this</span>.<span class="hljs-params">_ehloLines</span>&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">_ehloLines</span>.<span class="hljs-params">length</span>&amp;&amp;(<span class="hljs-params">i.ehlo=<span class="hljs-keyword">this</span>._ehloLines</span>),<span class="hljs-params">this</span>.<span class="hljs-params">_envelope</span>.<span class="hljs-params">rejectedErrors</span>.<span class="hljs-params">length</span>&amp;&amp;(<span class="hljs-params">i.rejectedErrors=<span class="hljs-keyword">this</span>._envelope.rejectedErrors</span>),<span class="hljs-params">t</span>(<span class="hljs-params"><span class="hljs-literal">null</span>,i</span>)}<span class="hljs-params">_actionSMTPStream</span>(<span class="hljs-params">e,t</span>){<span class="hljs-params">return</span> 2!==<span class="hljs-params">Number</span>(<span class="hljs-params">e.charAt(<span class="hljs-number">0</span></span>))?<span class="hljs-params">t</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>._formatError(<span class="hljs-string">"Message failed"</span>,<span class="hljs-string">"EMESSAGE"</span>,e,<span class="hljs-string">"DATA"</span></span>)):<span class="hljs-params">t</span>(<span class="hljs-params"><span class="hljs-literal">null</span>,e</span>)}<span class="hljs-params">_actionLMTPStream</span>(<span class="hljs-params">e,t,i,a</span>){<span class="hljs-params">let</span> <span class="hljs-params">s</span>;<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-number">2</span>!==<span class="hljs-built_in">Number</span>(i.charAt(<span class="hljs-number">0</span></span>))){(<span class="hljs-params">s=<span class="hljs-keyword">this</span>._formatError(<span class="hljs-string">"Message failed for recipient "</span>+e,<span class="hljs-string">"EMESSAGE"</span>,i,<span class="hljs-string">"DATA"</span></span>)).<span class="hljs-params">recipient</span>=<span class="hljs-params">e</span>,<span class="hljs-params">this</span>.<span class="hljs-params">_envelope</span>.<span class="hljs-params">rejected</span>.<span class="hljs-params">push</span>(<span class="hljs-params">e</span>),<span class="hljs-params">this</span>.<span class="hljs-params">_envelope</span>.<span class="hljs-params">rejectedErrors</span>.<span class="hljs-params">push</span>(<span class="hljs-params">s</span>);<span class="hljs-params">for</span>(<span class="hljs-params"><span class="hljs-keyword">let</span> t=<span class="hljs-number">0</span>,i=<span class="hljs-keyword">this</span>._envelope.accepted.length;t&lt;i;t++</span>)<span class="hljs-params">this</span>.<span class="hljs-params">_envelope</span>.<span class="hljs-params">accepted</span>[<span class="hljs-params">t</span>]===<span class="hljs-params">e</span>&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">_envelope</span>.<span class="hljs-params">accepted</span>.<span class="hljs-params">splice</span>(<span class="hljs-params">t,<span class="hljs-number">1</span></span>)}<span class="hljs-params">if</span>(<span class="hljs-params">t</span>)<span class="hljs-params">return</span> <span class="hljs-params">a</span>(<span class="hljs-params"><span class="hljs-literal">null</span>,i</span>)}<span class="hljs-params">_handleXOauth2Token</span>(<span class="hljs-params">e,t</span>){<span class="hljs-params">this</span>.<span class="hljs-params">_auth</span>.<span class="hljs-params">oauth2</span>.<span class="hljs-params">getToken</span>(<span class="hljs-params">e,(i,a</span>)=&gt;</span>{<span class="hljs-keyword">if</span>(i)<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.logger.info({<span class="hljs-attr">tnx</span>:<span class="hljs-string">"smtp"</span>,<span class="hljs-attr">username</span>:<span class="hljs-keyword">this</span>._auth.user,<span class="hljs-attr">action</span>:<span class="hljs-string">"authfail"</span>,<span class="hljs-attr">method</span>:<span class="hljs-keyword">this</span>._authMethod},<span class="hljs-string">"User %s failed to authenticate"</span>,<span class="hljs-built_in">JSON</span>.stringify(<span class="hljs-keyword">this</span>._auth.user)),t(<span class="hljs-keyword">this</span>._formatError(i,<span class="hljs-string">"EAUTH"</span>,!<span class="hljs-number">1</span>,<span class="hljs-string">"AUTH XOAUTH2"</span>));<span class="hljs-keyword">this</span>._responseActions.push(<span class="hljs-function"><span class="hljs-params">i</span>=&gt;</span>{<span class="hljs-keyword">this</span>._actionAUTHComplete(i,e,t)}),<span class="hljs-keyword">this</span>._sendCommand(<span class="hljs-string">"AUTH XOAUTH2 "</span>+<span class="hljs-keyword">this</span>._auth.oauth2.buildXOAuth2Token(a),<span class="hljs-string">"AUTH XOAUTH2 "</span>+<span class="hljs-keyword">this</span>._auth.oauth2.buildXOAuth2Token(<span class="hljs-string">"/* secret */"</span>))})}_isDestroyedMessage(e){<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>._destroyed)<span class="hljs-keyword">return</span><span class="hljs-string">"Cannot "</span>+e+<span class="hljs-string">" - smtp connection is already destroyed."</span>;<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>._socket){<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>._socket.destroyed)<span class="hljs-keyword">return</span><span class="hljs-string">"Cannot "</span>+e+<span class="hljs-string">" - smtp connection socket is already destroyed."</span>;<span class="hljs-keyword">if</span>(!<span class="hljs-keyword">this</span>._socket.writable)<span class="hljs-keyword">return</span><span class="hljs-string">"Cannot "</span>+e+<span class="hljs-string">" - smtp connection socket is already half-closed."</span>}}_getHostname(){<span class="hljs-keyword">let</span> e;<span class="hljs-keyword">try</span>{e=r.hostname()||<span class="hljs-string">""</span>}<span class="hljs-keyword">catch</span>(t){e=<span class="hljs-string">"localhost"</span>}<span class="hljs-keyword">return</span><span class="hljs-function">(<span class="hljs-params">!e||<span class="hljs-number">0</span>&gt;e.indexOf(<span class="hljs-string">"."</span></span>))&amp;&amp;(<span class="hljs-params">e=<span class="hljs-string">"[127.0.0.1]"</span></span>),<span class="hljs-params">e</span>.<span class="hljs-params">match</span>(<span class="hljs-params"><span class="hljs-regexp">/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/</span></span>)&amp;&amp;(<span class="hljs-params">e=<span class="hljs-string">"["</span>+e+<span class="hljs-string">"]"</span></span>),<span class="hljs-params">e</span>}}},15589,(<span class="hljs-params">e,t,i</span>)=&gt;</span>{<span class="hljs-string">"use strict"</span>;<span class="hljs-keyword">let</span> a=e.r(<span class="hljs-number">88947</span>).Stream,s=e.r(<span class="hljs-number">18967</span>),o=e.r(<span class="hljs-number">54799</span>),n=e.r(<span class="hljs-number">17049</span>);t.exports=<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">a</span></span>{<span class="hljs-keyword">constructor</span>(e,t){<span class="hljs-keyword">if</span>(<span class="hljs-keyword">super</span>(),<span class="hljs-keyword">this</span>.options=e||{},e&amp;&amp;e.serviceClient){<span class="hljs-keyword">if</span>(!e.privateKey||!e.user)<span class="hljs-keyword">return</span> <span class="hljs-keyword">void</span> setImmediate(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span><span class="hljs-keyword">this</span>.emit(<span class="hljs-string">"error"</span>,<span class="hljs-built_in">Error</span>(<span class="hljs-string">'Options "privateKey" and "user" are required for service account!'</span>)));<span class="hljs-keyword">let</span> t=<span class="hljs-built_in">Math</span>.min(<span class="hljs-built_in">Math</span>.max(<span class="hljs-built_in">Number</span>(<span class="hljs-keyword">this</span>.options.serviceRequestTimeout)||<span class="hljs-number">0</span>,<span class="hljs-number">0</span>),<span class="hljs-number">3600</span>);<span class="hljs-keyword">this</span>.options.serviceRequestTimeout=t||<span class="hljs-number">300</span>}<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.logger=n.getLogger({<span class="hljs-attr">logger</span>:t},{<span class="hljs-attr">component</span>:<span class="hljs-keyword">this</span>.options.component||<span class="hljs-string">"OAuth2"</span>}),<span class="hljs-keyword">this</span>.provisionCallback=<span class="hljs-string">"function"</span>==<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.options.provisionCallback&amp;&amp;<span class="hljs-keyword">this</span>.options.provisionCallback,<span class="hljs-keyword">this</span>.options.accessUrl=<span class="hljs-keyword">this</span>.options.accessUrl||<span class="hljs-string">"https://accounts.google.com/o/oauth2/token"</span>,<span class="hljs-keyword">this</span>.options.customHeaders=<span class="hljs-keyword">this</span>.options.customHeaders||{},<span class="hljs-keyword">this</span>.options.customParams=<span class="hljs-keyword">this</span>.options.customParams||{},<span class="hljs-keyword">this</span>.accessToken=<span class="hljs-keyword">this</span>.options.accessToken||!<span class="hljs-number">1</span>,<span class="hljs-keyword">this</span>.options.expires&amp;&amp;<span class="hljs-built_in">Number</span>(<span class="hljs-keyword">this</span>.options.expires))<span class="hljs-keyword">this</span>.expires=<span class="hljs-keyword">this</span>.options.expires;<span class="hljs-keyword">else</span>{<span class="hljs-keyword">let</span> e=<span class="hljs-built_in">Math</span>.max(<span class="hljs-built_in">Number</span>(<span class="hljs-keyword">this</span>.options.timeout)||<span class="hljs-number">0</span>,<span class="hljs-number">0</span>);<span class="hljs-keyword">this</span>.expires=e&amp;&amp;<span class="hljs-built_in">Date</span>.now()+<span class="hljs-number">1e3</span>*e||<span class="hljs-number">0</span>}<span class="hljs-keyword">this</span>.renewing=!<span class="hljs-number">1</span>,<span class="hljs-keyword">this</span>.renewalQueue=[]}getToken(e,t){<span class="hljs-keyword">if</span>(!e&amp;&amp;<span class="hljs-keyword">this</span>.accessToken&amp;&amp;<span class="hljs-function">(<span class="hljs-params">!<span class="hljs-keyword">this</span>.expires||<span class="hljs-keyword">this</span>.expires&gt;<span class="hljs-built_in">Date</span>.now(</span>)))<span class="hljs-params">return</span> <span class="hljs-params">this</span>.<span class="hljs-params">logger</span>.<span class="hljs-params">debug</span>(<span class="hljs-params">{tnx:<span class="hljs-string">"OAUTH2"</span>,user:<span class="hljs-keyword">this</span>.options.user,action:<span class="hljs-string">"reuse"</span>},<span class="hljs-string">"Reusing existing access token for %s"</span>,<span class="hljs-keyword">this</span>.options.user</span>),<span class="hljs-params">t</span>(<span class="hljs-params"><span class="hljs-literal">null</span>,<span class="hljs-keyword">this</span>.accessToken</span>);<span class="hljs-params">if</span>(<span class="hljs-params">!<span class="hljs-keyword">this</span>.provisionCallback&amp;&amp;!<span class="hljs-keyword">this</span>.options.refreshToken&amp;&amp;!<span class="hljs-keyword">this</span>.options.serviceClient</span>)<span class="hljs-params">return</span> <span class="hljs-params">this</span>.<span class="hljs-params">accessToken</span>?(<span class="hljs-params"><span class="hljs-keyword">this</span>.logger.debug({tnx:<span class="hljs-string">"OAUTH2"</span>,user:<span class="hljs-keyword">this</span>.options.user,action:<span class="hljs-string">"reuse"</span>},<span class="hljs-string">"Reusing existing access token (no refresh capability) for %s"</span>,<span class="hljs-keyword">this</span>.options.user</span>),<span class="hljs-params">t</span>(<span class="hljs-params"><span class="hljs-literal">null</span>,<span class="hljs-keyword">this</span>.accessToken</span>)):(<span class="hljs-params"><span class="hljs-keyword">this</span>.logger.error({tnx:<span class="hljs-string">"OAUTH2"</span>,user:<span class="hljs-keyword">this</span>.options.user,action:<span class="hljs-string">"renew"</span>},<span class="hljs-string">"Cannot renew access token for %s: No refresh mechanism available"</span>,<span class="hljs-keyword">this</span>.options.user</span>),<span class="hljs-params">t</span>(<span class="hljs-params"><span class="hljs-built_in">Error</span>(<span class="hljs-string">"Can't create new access token for user"</span></span>)));<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>.renewing</span>)<span class="hljs-params">return</span> <span class="hljs-params">this</span>.<span class="hljs-params">renewalQueue</span>.<span class="hljs-params">push</span>(<span class="hljs-params">{renew:e,callback:t}</span>);<span class="hljs-params">this</span>.<span class="hljs-params">renewing</span>=!0;<span class="hljs-params">let</span> <span class="hljs-params">i</span>=(<span class="hljs-params">e,i</span>)=&gt;</span>{<span class="hljs-keyword">this</span>.renewalQueue.forEach(<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span>t.callback(e,i)),<span class="hljs-keyword">this</span>.renewalQueue=[],<span class="hljs-keyword">this</span>.renewing=!<span class="hljs-number">1</span>,e?<span class="hljs-keyword">this</span>.logger.error({<span class="hljs-attr">err</span>:e,<span class="hljs-attr">tnx</span>:<span class="hljs-string">"OAUTH2"</span>,<span class="hljs-attr">user</span>:<span class="hljs-keyword">this</span>.options.user,<span class="hljs-attr">action</span>:<span class="hljs-string">"renew"</span>},<span class="hljs-string">"Failed generating new Access Token for %s"</span>,<span class="hljs-keyword">this</span>.options.user):<span class="hljs-keyword">this</span>.logger.info({<span class="hljs-attr">tnx</span>:<span class="hljs-string">"OAUTH2"</span>,<span class="hljs-attr">user</span>:<span class="hljs-keyword">this</span>.options.user,<span class="hljs-attr">action</span>:<span class="hljs-string">"renew"</span>},<span class="hljs-string">"Generated new Access Token for %s"</span>,<span class="hljs-keyword">this</span>.options.user),t(e,i)};<span class="hljs-keyword">this</span>.provisionCallback?<span class="hljs-keyword">this</span>.provisionCallback(<span class="hljs-keyword">this</span>.options.user,!!e,(e,t,a)=&gt;{!e&amp;&amp;t&amp;&amp;<span class="hljs-function">(<span class="hljs-params"><span class="hljs-keyword">this</span>.accessToken=t,<span class="hljs-keyword">this</span>.expires=a||<span class="hljs-number">0</span></span>),<span class="hljs-params">i</span>(<span class="hljs-params">e,t</span>)}):<span class="hljs-params">this</span>.<span class="hljs-params">generateToken</span>(<span class="hljs-params">i</span>)}<span class="hljs-params">updateToken</span>(<span class="hljs-params">e,t</span>){<span class="hljs-params">this</span>.<span class="hljs-params">accessToken</span>=<span class="hljs-params">e</span>,<span class="hljs-params">t</span>=<span class="hljs-params">Math</span>.<span class="hljs-params">max</span>(<span class="hljs-params"><span class="hljs-built_in">Number</span>(t</span>)||0,0),<span class="hljs-params">this</span>.<span class="hljs-params">expires</span>=<span class="hljs-params">t</span>&amp;&amp;<span class="hljs-params">Date</span>.<span class="hljs-params">now</span><span class="hljs-params">()</span>+1<span class="hljs-params">e3</span>*<span class="hljs-params">t</span>||0,<span class="hljs-params">this</span>.<span class="hljs-params">emit</span>(<span class="hljs-params"><span class="hljs-string">"token"</span>,{user:<span class="hljs-keyword">this</span>.options.user,accessToken:e||<span class="hljs-string">""</span>,expires:<span class="hljs-keyword">this</span>.expires}</span>)}<span class="hljs-params">generateToken</span>(<span class="hljs-params">e</span>){<span class="hljs-params">let</span> <span class="hljs-params">t</span>,<span class="hljs-params">i</span>;<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>.options.serviceClient</span>){<span class="hljs-params">let</span> <span class="hljs-params">a</span>,<span class="hljs-params">s</span>=<span class="hljs-params">Math</span>.<span class="hljs-params">floor</span>(<span class="hljs-params"><span class="hljs-built_in">Date</span>.now(</span>)/1<span class="hljs-params">e3</span>),<span class="hljs-params">o</span>={<span class="hljs-params">iss</span>:<span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">serviceClient</span>,<span class="hljs-params">scope</span>:<span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">scope</span>||"<span class="hljs-params">https</span>://<span class="hljs-params">mail</span>.<span class="hljs-params">google</span>.<span class="hljs-params">com</span>/",<span class="hljs-params">sub</span>:<span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">user</span>,<span class="hljs-params">aud</span>:<span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">accessUrl</span>,<span class="hljs-params">iat</span>:<span class="hljs-params">s</span>,<span class="hljs-params">exp</span>:<span class="hljs-params">s</span>+<span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">serviceRequestTimeout</span>};<span class="hljs-params">try</span>{<span class="hljs-params">a</span>=<span class="hljs-params">this</span>.<span class="hljs-params">jwtSignRS256</span>(<span class="hljs-params">o</span>)}<span class="hljs-params">catch</span>(<span class="hljs-params">t</span>){<span class="hljs-params">return</span> <span class="hljs-params">e</span>(<span class="hljs-params"><span class="hljs-built_in">Error</span>(<span class="hljs-string">"Can't generate token. Check your auth options"</span></span>))}<span class="hljs-params">t</span>={<span class="hljs-params">grant_type</span>:"<span class="hljs-params">urn</span>:<span class="hljs-params">ietf</span>:<span class="hljs-params">params</span>:<span class="hljs-params">oauth</span>:<span class="hljs-params">grant</span>-<span class="hljs-params">type</span>:<span class="hljs-params">jwt</span>-<span class="hljs-params">bearer</span>",<span class="hljs-params">assertion</span>:<span class="hljs-params">a</span>},<span class="hljs-params">i</span>={<span class="hljs-params">grant_type</span>:"<span class="hljs-params">urn</span>:<span class="hljs-params">ietf</span>:<span class="hljs-params">params</span>:<span class="hljs-params">oauth</span>:<span class="hljs-params">grant</span>-<span class="hljs-params">type</span>:<span class="hljs-params">jwt</span>-<span class="hljs-params">bearer</span>",<span class="hljs-params">assertion</span>:<span class="hljs-params">o</span>}}<span class="hljs-params">else</span>{<span class="hljs-params">if</span>(<span class="hljs-params">!<span class="hljs-keyword">this</span>.options.refreshToken</span>)<span class="hljs-params">return</span> <span class="hljs-params">e</span>(<span class="hljs-params"><span class="hljs-built_in">Error</span>(<span class="hljs-string">"Can't create new access token for user"</span></span>));<span class="hljs-params">t</span>={<span class="hljs-params">client_id</span>:<span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">clientId</span>||"",<span class="hljs-params">client_secret</span>:<span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">clientSecret</span>||"",<span class="hljs-params">refresh_token</span>:<span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">refreshToken</span>,<span class="hljs-params">grant_type</span>:"<span class="hljs-params">refresh_token</span>"},<span class="hljs-params">i</span>={<span class="hljs-params">client_id</span>:<span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">clientId</span>||"",<span class="hljs-params">client_secret</span>:(<span class="hljs-params"><span class="hljs-keyword">this</span>.options.clientSecret||<span class="hljs-string">""</span></span>).<span class="hljs-params">substr</span>(<span class="hljs-params"><span class="hljs-number">0</span>,<span class="hljs-number">6</span></span>)+"...",<span class="hljs-params">refresh_token</span>:(<span class="hljs-params"><span class="hljs-keyword">this</span>.options.refreshToken||<span class="hljs-string">""</span></span>).<span class="hljs-params">substr</span>(<span class="hljs-params"><span class="hljs-number">0</span>,<span class="hljs-number">6</span></span>)+"...",<span class="hljs-params">grant_type</span>:"<span class="hljs-params">refresh_token</span>"}}<span class="hljs-params">Object</span>.<span class="hljs-params">keys</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>.options.customParams</span>).<span class="hljs-params">forEach</span>(<span class="hljs-params">e=&gt;{t[e]=<span class="hljs-keyword">this</span>.options.customParams[e],i[e]=<span class="hljs-keyword">this</span>.options.customParams[e]}</span>),<span class="hljs-params">this</span>.<span class="hljs-params">logger</span>.<span class="hljs-params">debug</span>(<span class="hljs-params">{tnx:<span class="hljs-string">"OAUTH2"</span>,user:<span class="hljs-keyword">this</span>.options.user,action:<span class="hljs-string">"generate"</span>},<span class="hljs-string">"Requesting token using: %s"</span>,<span class="hljs-built_in">JSON</span>.stringify(i</span>)),<span class="hljs-params">this</span>.<span class="hljs-params">postRequest</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>.options.accessUrl,t,<span class="hljs-keyword">this</span>.options,(t,i</span>)=&gt;</span>{<span class="hljs-keyword">let</span> a;<span class="hljs-keyword">if</span>(t)<span class="hljs-keyword">return</span> e(t);<span class="hljs-keyword">try</span>{a=<span class="hljs-built_in">JSON</span>.parse(i.toString())}<span class="hljs-keyword">catch</span>(t){<span class="hljs-keyword">return</span> e(t)}<span class="hljs-keyword">if</span>(!a||<span class="hljs-string">"object"</span>!=<span class="hljs-keyword">typeof</span> a)<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.logger.debug({<span class="hljs-attr">tnx</span>:<span class="hljs-string">"OAUTH2"</span>,<span class="hljs-attr">user</span>:<span class="hljs-keyword">this</span>.options.user,<span class="hljs-attr">action</span>:<span class="hljs-string">"post"</span>},<span class="hljs-string">"Response: %s"</span>,(i||<span class="hljs-string">""</span>).toString()),e(<span class="hljs-built_in">Error</span>(<span class="hljs-string">"Invalid authentication response"</span>));<span class="hljs-keyword">let</span> s={};<span class="hljs-keyword">if</span>(<span class="hljs-built_in">Object</span>.keys(a).forEach(<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>{<span class="hljs-string">"access_token"</span>!==e?s[e]=a[e]:s[e]=<span class="hljs-function">(<span class="hljs-params">a[e]||<span class="hljs-string">""</span></span>).<span class="hljs-params">toString</span><span class="hljs-params">()</span>.<span class="hljs-params">substr</span>(<span class="hljs-params"><span class="hljs-number">0</span>,<span class="hljs-number">6</span></span>)+"..."}),<span class="hljs-params">this</span>.<span class="hljs-params">logger</span>.<span class="hljs-params">debug</span>(<span class="hljs-params">{tnx:<span class="hljs-string">"OAUTH2"</span>,user:<span class="hljs-keyword">this</span>.options.user,action:<span class="hljs-string">"post"</span>},<span class="hljs-string">"Response: %s"</span>,<span class="hljs-built_in">JSON</span>.stringify(s</span>)),<span class="hljs-params">a</span>.<span class="hljs-params">error</span>){<span class="hljs-params">let</span> <span class="hljs-params">t</span>=<span class="hljs-params">a</span>.<span class="hljs-params">error</span>;<span class="hljs-params">return</span> <span class="hljs-params">a</span>.<span class="hljs-params">error_description</span>&amp;&amp;(<span class="hljs-params">t+=<span class="hljs-string">": "</span>+a.error_description</span>),<span class="hljs-params">a</span>.<span class="hljs-params">error_uri</span>&amp;&amp;(<span class="hljs-params">t+=<span class="hljs-string">" ("</span>+a.error_uri+<span class="hljs-string">")"</span></span>),<span class="hljs-params">e</span>(<span class="hljs-params"><span class="hljs-built_in">Error</span>(t</span>))}<span class="hljs-params">return</span> <span class="hljs-params">a</span>.<span class="hljs-params">access_token</span>?(<span class="hljs-params"><span class="hljs-keyword">this</span>.updateToken(a.access_token,a.expires_in</span>),<span class="hljs-params">e</span>(<span class="hljs-params"><span class="hljs-literal">null</span>,<span class="hljs-keyword">this</span>.accessToken</span>)):<span class="hljs-params">e</span>(<span class="hljs-params"><span class="hljs-built_in">Error</span>(<span class="hljs-string">"No access token"</span></span>))})}<span class="hljs-params">buildXOAuth2Token</span>(<span class="hljs-params">e</span>){<span class="hljs-params">let</span> <span class="hljs-params">t</span>=["<span class="hljs-params">user</span>="+(<span class="hljs-params"><span class="hljs-keyword">this</span>.options.user||<span class="hljs-string">""</span></span>),"<span class="hljs-params">auth</span>=<span class="hljs-params">Bearer</span> "+(<span class="hljs-params">e||<span class="hljs-keyword">this</span>.accessToken</span>),"",""];<span class="hljs-params">return</span> <span class="hljs-params">Buffer</span>.<span class="hljs-params">from</span>(<span class="hljs-params">t.join(<span class="hljs-string">"\x01"</span></span>),"<span class="hljs-params">utf</span>-8").<span class="hljs-params">toString</span>(<span class="hljs-params"><span class="hljs-string">"base64"</span></span>)}<span class="hljs-params">postRequest</span>(<span class="hljs-params">e,t,i,a</span>){<span class="hljs-params">let</span> <span class="hljs-params">o</span>=!1,<span class="hljs-params">n</span>=[],<span class="hljs-params">r</span>=0,<span class="hljs-params">p</span>=<span class="hljs-params">s</span>(<span class="hljs-params">e,{method:<span class="hljs-string">"post"</span>,headers:i.customHeaders,body:t,allowErrorResponse:!<span class="hljs-number">0</span>}</span>);<span class="hljs-params">p</span>.<span class="hljs-params">on</span>(<span class="hljs-params"><span class="hljs-string">"readable"</span>,(</span>)=&gt;</span>{<span class="hljs-keyword">let</span> e;<span class="hljs-keyword">for</span>(;<span class="hljs-literal">null</span>!==<span class="hljs-function">(<span class="hljs-params">e=p.read(</span>));)<span class="hljs-params">n</span>.<span class="hljs-params">push</span>(<span class="hljs-params">e</span>),<span class="hljs-params">r</span>+=<span class="hljs-params">e</span>.<span class="hljs-params">length</span>}),<span class="hljs-params">p</span>.<span class="hljs-params">once</span>(<span class="hljs-params"><span class="hljs-string">"error"</span>,e=&gt;{<span class="hljs-keyword">if</span>(!o</span>)<span class="hljs-params">return</span> <span class="hljs-params">o</span>=!0,<span class="hljs-params">a</span>(<span class="hljs-params">e</span>)}),<span class="hljs-params">p</span>.<span class="hljs-params">once</span>(<span class="hljs-params"><span class="hljs-string">"end"</span>,(</span>)=&gt;</span>{<span class="hljs-keyword">if</span>(!o)<span class="hljs-keyword">return</span> o=!<span class="hljs-number">0</span>,a(<span class="hljs-literal">null</span>,Buffer.concat(n,r))})}toBase64URL(e){<span class="hljs-keyword">return</span><span class="hljs-string">"string"</span>==<span class="hljs-keyword">typeof</span> e&amp;&amp;<span class="hljs-function">(<span class="hljs-params">e=Buffer.<span class="hljs-keyword">from</span>(e</span>)),<span class="hljs-params">e</span>.<span class="hljs-params">toString</span>(<span class="hljs-params"><span class="hljs-string">"base64"</span></span>).<span class="hljs-params">replace</span>(<span class="hljs-params"><span class="hljs-regexp">/[=]+/g</span>,<span class="hljs-string">""</span></span>).<span class="hljs-params">replace</span>(<span class="hljs-params"><span class="hljs-regexp">/\+/g</span>,<span class="hljs-string">"-"</span></span>).<span class="hljs-params">replace</span>(<span class="hljs-params"><span class="hljs-regexp">/\//g</span>,<span class="hljs-string">"_"</span></span>)}<span class="hljs-params">jwtSignRS256</span>(<span class="hljs-params">e</span>){<span class="hljs-params">e</span>=['{"<span class="hljs-params">alg</span>":"<span class="hljs-params">RS256</span>","<span class="hljs-params">typ</span>":"<span class="hljs-params">JWT</span>"}',<span class="hljs-params">JSON</span>.<span class="hljs-params">stringify</span>(<span class="hljs-params">e</span>)].<span class="hljs-params">map</span>(<span class="hljs-params">e=&gt;<span class="hljs-keyword">this</span>.toBase64URL(e</span>)).<span class="hljs-params">join</span>(<span class="hljs-params"><span class="hljs-string">"."</span></span>);<span class="hljs-params">let</span> <span class="hljs-params">t</span>=<span class="hljs-params">o</span>.<span class="hljs-params">createSign</span>(<span class="hljs-params"><span class="hljs-string">"RSA-SHA256"</span></span>).<span class="hljs-params">update</span>(<span class="hljs-params">e</span>).<span class="hljs-params">sign</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>.options.privateKey</span>);<span class="hljs-params">return</span> <span class="hljs-params">e</span>+"."+<span class="hljs-params">this</span>.<span class="hljs-params">toBase64URL</span>(<span class="hljs-params">t</span>)}}},79547,(<span class="hljs-params">e,t,i</span>)=&gt;</span>{<span class="hljs-string">"use strict"</span>;<span class="hljs-keyword">let</span> a=e.r(<span class="hljs-number">30340</span>),s=e.r(<span class="hljs-number">17049</span>).assign,o=e.r(<span class="hljs-number">15589</span>),n=e.r(<span class="hljs-number">27699</span>);t.exports=<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">n</span></span>{<span class="hljs-keyword">constructor</span>(e){<span class="hljs-keyword">if</span>(<span class="hljs-keyword">super</span>(),<span class="hljs-keyword">this</span>.pool=e,<span class="hljs-keyword">this</span>.options=e.options,<span class="hljs-keyword">this</span>.logger=<span class="hljs-keyword">this</span>.pool.logger,<span class="hljs-keyword">this</span>.options.auth)<span class="hljs-keyword">switch</span>(<span class="hljs-function">(<span class="hljs-params"><span class="hljs-keyword">this</span>.options.auth.type||<span class="hljs-string">""</span></span>).<span class="hljs-params">toString</span><span class="hljs-params">()</span>.<span class="hljs-params">toUpperCase</span><span class="hljs-params">()</span>){<span class="hljs-params">case</span>"<span class="hljs-params">OAUTH2</span>":{<span class="hljs-params">let</span> <span class="hljs-params">e</span>=<span class="hljs-params">new</span> <span class="hljs-params">o</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>.options.auth,<span class="hljs-keyword">this</span>.logger</span>);<span class="hljs-params">e</span>.<span class="hljs-params">provisionCallback</span>=<span class="hljs-params">this</span>.<span class="hljs-params">pool</span>.<span class="hljs-params">mailer</span>&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">pool</span>.<span class="hljs-params">mailer</span>.<span class="hljs-params">get</span>(<span class="hljs-params"><span class="hljs-string">"oauth2_provision_cb"</span></span>)||<span class="hljs-params">e</span>.<span class="hljs-params">provisionCallback</span>,<span class="hljs-params">this</span>.<span class="hljs-params">auth</span>={<span class="hljs-params">type</span>:"<span class="hljs-params">OAUTH2</span>",<span class="hljs-params">user</span>:<span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">auth</span>.<span class="hljs-params">user</span>,<span class="hljs-params">oauth2</span>:<span class="hljs-params">e</span>,<span class="hljs-params">method</span>:"<span class="hljs-params">XOAUTH2</span>"},<span class="hljs-params">e</span>.<span class="hljs-params">on</span>(<span class="hljs-params"><span class="hljs-string">"token"</span>,e=&gt;<span class="hljs-keyword">this</span>.pool.mailer.emit(<span class="hljs-string">"token"</span>,e</span>)),<span class="hljs-params">e</span>.<span class="hljs-params">on</span>(<span class="hljs-params"><span class="hljs-string">"error"</span>,e=&gt;<span class="hljs-keyword">this</span>.emit(<span class="hljs-string">"error"</span>,e</span>));<span class="hljs-params">break</span>}<span class="hljs-params">default</span>:<span class="hljs-params">if</span>(<span class="hljs-params">!<span class="hljs-keyword">this</span>.options.auth.user&amp;&amp;!<span class="hljs-keyword">this</span>.options.auth.pass</span>)<span class="hljs-params">break</span>;<span class="hljs-params">this</span>.<span class="hljs-params">auth</span>={<span class="hljs-params">type</span>:(<span class="hljs-params"><span class="hljs-keyword">this</span>.options.auth.type||<span class="hljs-string">""</span></span>).<span class="hljs-params">toString</span><span class="hljs-params">()</span>.<span class="hljs-params">toUpperCase</span><span class="hljs-params">()</span>||"<span class="hljs-params">LOGIN</span>",<span class="hljs-params">user</span>:<span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">auth</span>.<span class="hljs-params">user</span>,<span class="hljs-params">credentials</span>:{<span class="hljs-params">user</span>:<span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">auth</span>.<span class="hljs-params">user</span>||"",<span class="hljs-params">pass</span>:<span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">auth</span>.<span class="hljs-params">pass</span>,<span class="hljs-params">options</span>:<span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">auth</span>.<span class="hljs-params">options</span>},<span class="hljs-params">method</span>:(<span class="hljs-params"><span class="hljs-keyword">this</span>.options.auth.method||<span class="hljs-string">""</span></span>).<span class="hljs-params">trim</span><span class="hljs-params">()</span>.<span class="hljs-params">toUpperCase</span><span class="hljs-params">()</span>||<span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">authMethod</span>||!1}}<span class="hljs-params">this</span>.<span class="hljs-params">_connection</span>=!1,<span class="hljs-params">this</span>.<span class="hljs-params">_connected</span>=!1,<span class="hljs-params">this</span>.<span class="hljs-params">messages</span>=0,<span class="hljs-params">this</span>.<span class="hljs-params">available</span>=!0}<span class="hljs-params">connect</span>(<span class="hljs-params">e</span>){<span class="hljs-params">this</span>.<span class="hljs-params">pool</span>.<span class="hljs-params">getSocket</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>.options,(t,i</span>)=&gt;</span>{<span class="hljs-keyword">if</span>(t)<span class="hljs-keyword">return</span> e(t);<span class="hljs-keyword">let</span> o=!<span class="hljs-number">1</span>,n=<span class="hljs-keyword">this</span>.options;i&amp;&amp;i.connection&amp;&amp;<span class="hljs-function">(<span class="hljs-params"><span class="hljs-keyword">this</span>.logger.info({tnx:<span class="hljs-string">"proxy"</span>,remoteAddress:i.connection.remoteAddress,remotePort:i.connection.remotePort,destHost:n.host||<span class="hljs-string">""</span>,destPort:n.port||<span class="hljs-string">""</span>,action:<span class="hljs-string">"connected"</span>},<span class="hljs-string">"Using proxied socket from %s:%s to %s:%s"</span>,i.connection.remoteAddress,i.connection.remotePort,n.host||<span class="hljs-string">""</span>,n.port||<span class="hljs-string">""</span></span>),<span class="hljs-params">n</span>=<span class="hljs-params">s</span>(<span class="hljs-params">!<span class="hljs-number">1</span>,n</span>),<span class="hljs-params">Object</span>.<span class="hljs-params">keys</span>(<span class="hljs-params">i</span>).<span class="hljs-params">forEach</span>(<span class="hljs-params">e=&gt;{n[e]=i[e]}</span>)),<span class="hljs-params">this</span>.<span class="hljs-params">connection</span>=<span class="hljs-params">new</span> <span class="hljs-params">a</span>(<span class="hljs-params">n</span>),<span class="hljs-params">this</span>.<span class="hljs-params">connection</span>.<span class="hljs-params">once</span>(<span class="hljs-params"><span class="hljs-string">"error"</span>,t=&gt;{<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.emit(<span class="hljs-string">"error"</span>,t</span>),!<span class="hljs-params">o</span>)<span class="hljs-params">return</span> <span class="hljs-params">o</span>=!0,<span class="hljs-params">e</span>(<span class="hljs-params">t</span>)}),<span class="hljs-params">this</span>.<span class="hljs-params">connection</span>.<span class="hljs-params">once</span>(<span class="hljs-params"><span class="hljs-string">"end"</span>,(</span>)=&gt;</span>{<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.close(),o)<span class="hljs-keyword">return</span>;o=!<span class="hljs-number">0</span>;<span class="hljs-keyword">let</span> t=setTimeout(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{<span class="hljs-keyword">if</span>(o)<span class="hljs-keyword">return</span>;<span class="hljs-keyword">let</span> t=<span class="hljs-built_in">Error</span>(<span class="hljs-string">"Unexpected socket close"</span>);<span class="hljs-keyword">this</span>.connection&amp;&amp;<span class="hljs-keyword">this</span>.connection._socket&amp;&amp;<span class="hljs-keyword">this</span>.connection._socket.upgrading&amp;&amp;<span class="hljs-function">(<span class="hljs-params">t.code=<span class="hljs-string">"ETLS"</span></span>),<span class="hljs-params">e</span>(<span class="hljs-params">t</span>)},1<span class="hljs-params">e3</span>);<span class="hljs-params">try</span>{<span class="hljs-params">t</span>.<span class="hljs-params">unref</span><span class="hljs-params">()</span>}<span class="hljs-params">catch</span>(<span class="hljs-params">e</span>){}}),<span class="hljs-params">this</span>.<span class="hljs-params">connection</span>.<span class="hljs-params">connect</span>(<span class="hljs-params">(</span>)=&gt;</span>{<span class="hljs-keyword">if</span>(!o)<span class="hljs-keyword">if</span>(!<span class="hljs-keyword">this</span>.auth||!<span class="hljs-keyword">this</span>.connection.allowsAuth&amp;&amp;!n.forceAuth)<span class="hljs-keyword">return</span> o=!<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>._connected=!<span class="hljs-number">0</span>,e(<span class="hljs-literal">null</span>,!<span class="hljs-number">0</span>);<span class="hljs-keyword">else</span> <span class="hljs-keyword">this</span>.connection.login(<span class="hljs-keyword">this</span>.auth,t=&gt;{<span class="hljs-keyword">if</span>(!o){<span class="hljs-keyword">if</span>(o=!<span class="hljs-number">0</span>,t)<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.connection.close(),<span class="hljs-keyword">this</span>.emit(<span class="hljs-string">"error"</span>,t),e(t);<span class="hljs-keyword">this</span>._connected=!<span class="hljs-number">0</span>,e(<span class="hljs-literal">null</span>,!<span class="hljs-number">0</span>)}})})})}send(e,t){<span class="hljs-keyword">if</span>(!<span class="hljs-keyword">this</span>._connected)<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.connect(<span class="hljs-function"><span class="hljs-params">i</span>=&gt;</span>i?t(i):<span class="hljs-keyword">this</span>.send(e,t));<span class="hljs-keyword">let</span> i=e.message.getEnvelope(),a=e.message.messageId(),s=[].concat(i.to||[]);s.length&gt;<span class="hljs-number">3</span>&amp;&amp;s.push(<span class="hljs-string">"...and "</span>+s.splice(<span class="hljs-number">2</span>).length+<span class="hljs-string">" more"</span>),<span class="hljs-keyword">this</span>.logger.info({<span class="hljs-attr">tnx</span>:<span class="hljs-string">"send"</span>,<span class="hljs-attr">messageId</span>:a,<span class="hljs-attr">cid</span>:<span class="hljs-keyword">this</span>.id},<span class="hljs-string">"Sending message %s using #%s to &lt;%s&gt;"</span>,a,<span class="hljs-keyword">this</span>.id,s.join(<span class="hljs-string">", "</span>)),e.data.dsn&amp;&amp;<span class="hljs-function">(<span class="hljs-params">i.dsn=e.data.dsn</span>),<span class="hljs-params">this</span>.<span class="hljs-params">connection</span>.<span class="hljs-params">send</span>(<span class="hljs-params">i,e.message.createReadStream(</span>),(<span class="hljs-params">e,s</span>)=&gt;</span>{<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.messages++,e)<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.connection.close(),<span class="hljs-keyword">this</span>.emit(<span class="hljs-string">"error"</span>,e),t(e);s.envelope={<span class="hljs-attr">from</span>:i.from,<span class="hljs-attr">to</span>:i.to},s.messageId=a,setImmediate(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{<span class="hljs-keyword">let</span> e;<span class="hljs-keyword">this</span>.messages&gt;=<span class="hljs-keyword">this</span>.options.maxMessages?<span class="hljs-function">(<span class="hljs-params">(e=<span class="hljs-built_in">Error</span>(<span class="hljs-string">"Resource exhausted"</span></span>)).<span class="hljs-params">code</span>="<span class="hljs-params">EMAXLIMIT</span>",<span class="hljs-params">this</span>.<span class="hljs-params">connection</span>.<span class="hljs-params">close</span><span class="hljs-params">()</span>,<span class="hljs-params">this</span>.<span class="hljs-params">emit</span>(<span class="hljs-params"><span class="hljs-string">"error"</span>,e</span>)):<span class="hljs-params">this</span>.<span class="hljs-params">pool</span>.<span class="hljs-params">_checkRateLimit</span>(<span class="hljs-params">(</span>)=&gt;</span>{<span class="hljs-keyword">this</span>.available=!<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>.emit(<span class="hljs-string">"available"</span>)})}),t(<span class="hljs-literal">null</span>,s)})}close(){<span class="hljs-keyword">this</span>._connected=!<span class="hljs-number">1</span>,<span class="hljs-keyword">this</span>.auth&amp;&amp;<span class="hljs-keyword">this</span>.auth.oauth2&amp;&amp;<span class="hljs-keyword">this</span>.auth.oauth2.removeAllListeners(),<span class="hljs-keyword">this</span>.connection&amp;&amp;<span class="hljs-keyword">this</span>.connection.close(),<span class="hljs-keyword">this</span>.emit(<span class="hljs-string">"close"</span>)}}},<span class="hljs-number">69972</span>,e=&gt;{e.v(<span class="hljs-built_in">JSON</span>.parse(<span class="hljs-string">'{"1und1":{"description":"1&amp;1 Mail (German hosting provider)","host":"smtp.1und1.de","port":465,"secure":true,"authMethod":"LOGIN"},"126":{"description":"126 Mail (NetEase)","host":"smtp.126.com","port":465,"secure":true},"163":{"description":"163 Mail (NetEase)","host":"smtp.163.com","port":465,"secure":true},"Aliyun":{"description":"Alibaba Cloud Mail","domains":["aliyun.com"],"host":"smtp.aliyun.com","port":465,"secure":true},"AliyunQiye":{"description":"Alibaba Cloud Enterprise Mail","host":"smtp.qiye.aliyun.com","port":465,"secure":true},"AOL":{"description":"AOL Mail","domains":["aol.com"],"host":"smtp.aol.com","port":587},"Aruba":{"description":"Aruba PEC (Italian email provider)","domains":["aruba.it","pec.aruba.it"],"aliases":["Aruba PEC"],"host":"smtps.aruba.it","port":465,"secure":true,"authMethod":"LOGIN"},"Bluewin":{"description":"Bluewin (Swiss email provider)","host":"smtpauths.bluewin.ch","domains":["bluewin.ch"],"port":465},"BOL":{"description":"BOL Mail (Brazilian provider)","domains":["bol.com.br"],"host":"smtp.bol.com.br","port":587,"requireTLS":true},"DebugMail":{"description":"DebugMail (email testing service)","host":"debugmail.io","port":25},"Disroot":{"description":"Disroot (privacy-focused provider)","domains":["disroot.org"],"host":"disroot.org","port":587,"secure":false,"authMethod":"LOGIN"},"DynectEmail":{"description":"Dyn Email Delivery","aliases":["Dynect"],"host":"smtp.dynect.net","port":25},"ElasticEmail":{"description":"Elastic Email","aliases":["Elastic Email"],"host":"smtp.elasticemail.com","port":465,"secure":true},"Ethereal":{"description":"Ethereal Email (email testing service)","aliases":["ethereal.email"],"host":"smtp.ethereal.email","port":587},"FastMail":{"description":"FastMail","domains":["fastmail.fm"],"host":"smtp.fastmail.com","port":465,"secure":true},"Feishu Mail":{"description":"Feishu Mail (Lark)","aliases":["Feishu","FeishuMail"],"domains":["www.feishu.cn"],"host":"smtp.feishu.cn","port":465,"secure":true},"Forward Email":{"description":"Forward Email (email forwarding service)","aliases":["FE","ForwardEmail"],"domains":["forwardemail.net"],"host":"smtp.forwardemail.net","port":465,"secure":true},"GandiMail":{"description":"Gandi Mail","aliases":["Gandi","Gandi Mail"],"host":"mail.gandi.net","port":587},"Gmail":{"description":"Gmail","aliases":["Google Mail"],"domains":["gmail.com","googlemail.com"],"host":"smtp.gmail.com","port":465,"secure":true},"GMX":{"description":"GMX Mail","domains":["gmx.com","gmx.net","gmx.de"],"host":"mail.gmx.com","port":587},"Godaddy":{"description":"GoDaddy Email (US)","host":"smtpout.secureserver.net","port":25},"GodaddyAsia":{"description":"GoDaddy Email (Asia)","host":"smtp.asia.secureserver.net","port":25},"GodaddyEurope":{"description":"GoDaddy Email (Europe)","host":"smtp.europe.secureserver.net","port":25},"hot.ee":{"description":"Hot.ee (Estonian email provider)","host":"mail.hot.ee"},"Hotmail":{"description":"Outlook.com / Hotmail","aliases":["Outlook","Outlook.com","Hotmail.com"],"domains":["hotmail.com","outlook.com"],"host":"smtp-mail.outlook.com","port":587},"iCloud":{"description":"iCloud Mail","aliases":["Me","Mac"],"domains":["me.com","mac.com"],"host":"smtp.mail.me.com","port":587},"Infomaniak":{"description":"Infomaniak Mail (Swiss hosting provider)","host":"mail.infomaniak.com","domains":["ik.me","ikmail.com","etik.com"],"port":587},"KolabNow":{"description":"KolabNow (secure email service)","domains":["kolabnow.com"],"aliases":["Kolab"],"host":"smtp.kolabnow.com","port":465,"secure":true,"authMethod":"LOGIN"},"Loopia":{"description":"Loopia (Swedish hosting provider)","host":"mailcluster.loopia.se","port":465},"Loops":{"description":"Loops","host":"smtp.loops.so","port":587},"mail.ee":{"description":"Mail.ee (Estonian email provider)","host":"smtp.mail.ee"},"Mail.ru":{"description":"Mail.ru","host":"smtp.mail.ru","port":465,"secure":true},"Mailcatch.app":{"description":"Mailcatch (email testing service)","host":"sandbox-smtp.mailcatch.app","port":2525},"Maildev":{"description":"MailDev (local email testing)","port":1025,"ignoreTLS":true},"MailerSend":{"description":"MailerSend","host":"smtp.mailersend.net","port":587},"Mailgun":{"description":"Mailgun","host":"smtp.mailgun.org","port":465,"secure":true},"Mailjet":{"description":"Mailjet","host":"in.mailjet.com","port":587},"Mailosaur":{"description":"Mailosaur (email testing service)","host":"mailosaur.io","port":25},"Mailtrap":{"description":"Mailtrap","host":"live.smtp.mailtrap.io","port":587},"Mandrill":{"description":"Mandrill (by Mailchimp)","host":"smtp.mandrillapp.com","port":587},"Naver":{"description":"Naver Mail (Korean email provider)","host":"smtp.naver.com","port":587},"OhMySMTP":{"description":"OhMySMTP (email delivery service)","host":"smtp.ohmysmtp.com","port":587,"secure":false},"One":{"description":"One.com Email","host":"send.one.com","port":465,"secure":true},"OpenMailBox":{"description":"OpenMailBox","aliases":["OMB","openmailbox.org"],"host":"smtp.openmailbox.org","port":465,"secure":true},"Outlook365":{"description":"Microsoft 365 / Office 365","host":"smtp.office365.com","port":587,"secure":false},"Postmark":{"description":"Postmark","aliases":["PostmarkApp"],"host":"smtp.postmarkapp.com","port":2525},"Proton":{"description":"Proton Mail","aliases":["ProtonMail","Proton.me","Protonmail.com","Protonmail.ch"],"domains":["proton.me","protonmail.com","pm.me","protonmail.ch"],"host":"smtp.protonmail.ch","port":587,"requireTLS":true},"qiye.aliyun":{"description":"Alibaba Mail Enterprise Edition","host":"smtp.mxhichina.com","port":"465","secure":true},"QQ":{"description":"QQ Mail","domains":["qq.com"],"host":"smtp.qq.com","port":465,"secure":true},"QQex":{"description":"QQ Enterprise Mail","aliases":["QQ Enterprise"],"domains":["exmail.qq.com"],"host":"smtp.exmail.qq.com","port":465,"secure":true},"Resend":{"description":"Resend","host":"smtp.resend.com","port":465,"secure":true},"Runbox":{"description":"Runbox (Norwegian email provider)","domains":["runbox.com"],"host":"smtp.runbox.com","port":465,"secure":true},"SendCloud":{"description":"SendCloud (Chinese email delivery)","host":"smtp.sendcloud.net","port":2525},"SendGrid":{"description":"SendGrid","host":"smtp.sendgrid.net","port":587},"SendinBlue":{"description":"Brevo (formerly Sendinblue)","aliases":["Brevo"],"host":"smtp-relay.brevo.com","port":587},"SendPulse":{"description":"SendPulse","host":"smtp-pulse.com","port":465,"secure":true},"SES":{"description":"AWS SES US East (N. Virginia)","host":"email-smtp.us-east-1.amazonaws.com","port":465,"secure":true},"SES-AP-NORTHEAST-1":{"description":"AWS SES Asia Pacific (Tokyo)","host":"email-smtp.ap-northeast-1.amazonaws.com","port":465,"secure":true},"SES-AP-NORTHEAST-2":{"description":"AWS SES Asia Pacific (Seoul)","host":"email-smtp.ap-northeast-2.amazonaws.com","port":465,"secure":true},"SES-AP-NORTHEAST-3":{"description":"AWS SES Asia Pacific (Osaka)","host":"email-smtp.ap-northeast-3.amazonaws.com","port":465,"secure":true},"SES-AP-SOUTH-1":{"description":"AWS SES Asia Pacific (Mumbai)","host":"email-smtp.ap-south-1.amazonaws.com","port":465,"secure":true},"SES-AP-SOUTHEAST-1":{"description":"AWS SES Asia Pacific (Singapore)","host":"email-smtp.ap-southeast-1.amazonaws.com","port":465,"secure":true},"SES-AP-SOUTHEAST-2":{"description":"AWS SES Asia Pacific (Sydney)","host":"email-smtp.ap-southeast-2.amazonaws.com","port":465,"secure":true},"SES-CA-CENTRAL-1":{"description":"AWS SES Canada (Central)","host":"email-smtp.ca-central-1.amazonaws.com","port":465,"secure":true},"SES-EU-CENTRAL-1":{"description":"AWS SES Europe (Frankfurt)","host":"email-smtp.eu-central-1.amazonaws.com","port":465,"secure":true},"SES-EU-NORTH-1":{"description":"AWS SES Europe (Stockholm)","host":"email-smtp.eu-north-1.amazonaws.com","port":465,"secure":true},"SES-EU-WEST-1":{"description":"AWS SES Europe (Ireland)","host":"email-smtp.eu-west-1.amazonaws.com","port":465,"secure":true},"SES-EU-WEST-2":{"description":"AWS SES Europe (London)","host":"email-smtp.eu-west-2.amazonaws.com","port":465,"secure":true},"SES-EU-WEST-3":{"description":"AWS SES Europe (Paris)","host":"email-smtp.eu-west-3.amazonaws.com","port":465,"secure":true},"SES-SA-EAST-1":{"description":"AWS SES South America (So Paulo)","host":"email-smtp.sa-east-1.amazonaws.com","port":465,"secure":true},"SES-US-EAST-1":{"description":"AWS SES US East (N. Virginia)","host":"email-smtp.us-east-1.amazonaws.com","port":465,"secure":true},"SES-US-EAST-2":{"description":"AWS SES US East (Ohio)","host":"email-smtp.us-east-2.amazonaws.com","port":465,"secure":true},"SES-US-GOV-EAST-1":{"description":"AWS SES GovCloud (US-East)","host":"email-smtp.us-gov-east-1.amazonaws.com","port":465,"secure":true},"SES-US-GOV-WEST-1":{"description":"AWS SES GovCloud (US-West)","host":"email-smtp.us-gov-west-1.amazonaws.com","port":465,"secure":true},"SES-US-WEST-1":{"description":"AWS SES US West (N. California)","host":"email-smtp.us-west-1.amazonaws.com","port":465,"secure":true},"SES-US-WEST-2":{"description":"AWS SES US West (Oregon)","host":"email-smtp.us-west-2.amazonaws.com","port":465,"secure":true},"Seznam":{"description":"Seznam Email (Czech email provider)","aliases":["Seznam Email"],"domains":["seznam.cz","email.cz","post.cz","spoluzaci.cz"],"host":"smtp.seznam.cz","port":465,"secure":true},"SMTP2GO":{"description":"SMTP2GO","host":"mail.smtp2go.com","port":2525},"Sparkpost":{"description":"SparkPost","aliases":["SparkPost","SparkPost Mail"],"domains":["sparkpost.com"],"host":"smtp.sparkpostmail.com","port":587,"secure":false},"Tipimail":{"description":"Tipimail (email delivery service)","host":"smtp.tipimail.com","port":587},"Tutanota":{"description":"Tutanota (Tuta Mail)","domains":["tutanota.com","tuta.com","tutanota.de","tuta.io"],"host":"smtp.tutanota.com","port":465,"secure":true},"Yahoo":{"description":"Yahoo Mail","domains":["yahoo.com"],"host":"smtp.mail.yahoo.com","port":465,"secure":true},"Yandex":{"description":"Yandex Mail","domains":["yandex.ru"],"host":"smtp.yandex.ru","port":465,"secure":true},"Zimbra":{"description":"Zimbra Mail Server","aliases":["Zimbra Collaboration"],"host":"smtp.zimbra.com","port":587,"requireTLS":true},"Zoho":{"description":"Zoho Mail","host":"smtp.zoho.com","port":465,"secure":true,"authMethod":"LOGIN"}}'</span>))},<span class="hljs-number">9885</span>,(e,t,i)=&gt;{<span class="hljs-string">"use strict"</span>;<span class="hljs-keyword">let</span> a=e.r(<span class="hljs-number">69972</span>),s={};<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">o</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">return</span> e.replace(<span class="hljs-regexp">/[^a-zA-Z0-9.-]/g</span>,<span class="hljs-string">""</span>).toLowerCase()}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">n</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">let</span> t=[<span class="hljs-string">"domains"</span>,<span class="hljs-string">"aliases"</span>],i={};<span class="hljs-keyword">return</span> <span class="hljs-built_in">Object</span>.keys(e).forEach(<span class="hljs-function"><span class="hljs-params">a</span>=&gt;</span>{<span class="hljs-number">0</span>&gt;t.indexOf(a)&amp;&amp;<span class="hljs-function">(<span class="hljs-params">i[a]=e[a]</span>)}),<span class="hljs-params">i</span>}<span class="hljs-params">Object</span>.<span class="hljs-params">keys</span>(<span class="hljs-params">a</span>).<span class="hljs-params">forEach</span>(<span class="hljs-params">e=&gt;{<span class="hljs-keyword">let</span> t=a[e];s[o(e</span>)]=<span class="hljs-params">n</span>(<span class="hljs-params">t</span>),[].<span class="hljs-params">concat</span>(<span class="hljs-params">t.aliases||[]</span>).<span class="hljs-params">forEach</span>(<span class="hljs-params">e=&gt;{s[o(e</span>)]=<span class="hljs-params">n</span>(<span class="hljs-params">t</span>)}),[].<span class="hljs-params">concat</span>(<span class="hljs-params">t.domains||[]</span>).<span class="hljs-params">forEach</span>(<span class="hljs-params">e=&gt;{s[o(e</span>)]=<span class="hljs-params">n</span>(<span class="hljs-params">t</span>)})}),<span class="hljs-params">t</span>.<span class="hljs-params">exports</span>=<span class="hljs-params">function</span>(<span class="hljs-params">e</span>){<span class="hljs-params">return</span> <span class="hljs-params">s</span>[<span class="hljs-params">e</span>=<span class="hljs-params">o</span>(<span class="hljs-params">e.split(<span class="hljs-string">"@"</span></span>).<span class="hljs-params">pop</span><span class="hljs-params">()</span>)]||!1}},43610,(<span class="hljs-params">e,t,i</span>)=&gt;</span>{<span class="hljs-string">"use strict"</span>;<span class="hljs-keyword">let</span> a=e.r(<span class="hljs-number">27699</span>),s=e.r(<span class="hljs-number">79547</span>),o=e.r(<span class="hljs-number">30340</span>),n=e.r(<span class="hljs-number">9885</span>),r=e.r(<span class="hljs-number">17049</span>),p=e.r(<span class="hljs-number">39913</span>);t.exports=<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">a</span></span>{<span class="hljs-keyword">constructor</span>(e){<span class="hljs-keyword">let</span> t;<span class="hljs-keyword">super</span>(),<span class="hljs-string">"string"</span>==<span class="hljs-keyword">typeof</span>(e=e||{})&amp;&amp;<span class="hljs-function">(<span class="hljs-params">e={url:e}</span>);<span class="hljs-params">let</span> <span class="hljs-params">i</span>=<span class="hljs-params">e</span>.<span class="hljs-params">service</span>;"<span class="hljs-params">function</span>"==<span class="hljs-params">typeof</span> <span class="hljs-params">e</span>.<span class="hljs-params">getSocket</span>&amp;&amp;(<span class="hljs-params"><span class="hljs-keyword">this</span>.getSocket=e.getSocket</span>),<span class="hljs-params">e</span>.<span class="hljs-params">url</span>&amp;&amp;(<span class="hljs-params">t=r.parseConnectionUrl(e.url</span>),<span class="hljs-params">i</span>=<span class="hljs-params">i</span>||<span class="hljs-params">t</span>.<span class="hljs-params">service</span>),<span class="hljs-params">this</span>.<span class="hljs-params">options</span>=<span class="hljs-params">r</span>.<span class="hljs-params">assign</span>(<span class="hljs-params">!<span class="hljs-number">1</span>,e,t,i&amp;&amp;n(i</span>)),<span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">maxConnections</span>=<span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">maxConnections</span>||5,<span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">maxMessages</span>=<span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">maxMessages</span>||100,<span class="hljs-params">this</span>.<span class="hljs-params">logger</span>=<span class="hljs-params">r</span>.<span class="hljs-params">getLogger</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>.options,{component:<span class="hljs-keyword">this</span>.options.component||<span class="hljs-string">"smtp-pool"</span>}</span>);<span class="hljs-params">let</span> <span class="hljs-params">a</span>=<span class="hljs-params">new</span> <span class="hljs-params">o</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>.options</span>);<span class="hljs-params">this</span>.<span class="hljs-params">name</span>="<span class="hljs-params">SMTP</span> (<span class="hljs-params">pool</span>)",<span class="hljs-params">this</span>.<span class="hljs-params">version</span>=<span class="hljs-params">p</span>.<span class="hljs-params">version</span>+"[<span class="hljs-params">client</span>:"+<span class="hljs-params">a</span>.<span class="hljs-params">version</span>+"]",<span class="hljs-params">this</span>.<span class="hljs-params">_rateLimit</span>={<span class="hljs-params">counter</span>:0,<span class="hljs-params">timeout</span>:<span class="hljs-params">null</span>,<span class="hljs-params">waiting</span>:[],<span class="hljs-params">checkpoint</span>:!1,<span class="hljs-params">delta</span>:<span class="hljs-params">Number</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>.options.rateDelta</span>)||1<span class="hljs-params">e3</span>,<span class="hljs-params">limit</span>:<span class="hljs-params">Number</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>.options.rateLimit</span>)||0},<span class="hljs-params">this</span>.<span class="hljs-params">_closed</span>=!1,<span class="hljs-params">this</span>.<span class="hljs-params">_queue</span>=[],<span class="hljs-params">this</span>.<span class="hljs-params">_connections</span>=[],<span class="hljs-params">this</span>.<span class="hljs-params">_connectionCounter</span>=0,<span class="hljs-params">this</span>.<span class="hljs-params">idling</span>=!0,<span class="hljs-params">setImmediate</span>(<span class="hljs-params">(</span>)=&gt;</span>{<span class="hljs-keyword">this</span>.idling&amp;&amp;<span class="hljs-keyword">this</span>.emit(<span class="hljs-string">"idle"</span>)})}getSocket(e,t){<span class="hljs-keyword">return</span> setImmediate(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>t(<span class="hljs-literal">null</span>,!<span class="hljs-number">1</span>))}send(e,t){<span class="hljs-keyword">return</span>!<span class="hljs-keyword">this</span>._closed&amp;&amp;<span class="hljs-function">(<span class="hljs-params"><span class="hljs-keyword">this</span>._queue.push({mail:e,requeueAttempts:<span class="hljs-number">0</span>,callback:t}</span>),<span class="hljs-params">this</span>.<span class="hljs-params">idling</span>&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">_queue</span>.<span class="hljs-params">length</span>&gt;=<span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">maxConnections</span>&amp;&amp;(<span class="hljs-params"><span class="hljs-keyword">this</span>.idling=!<span class="hljs-number">1</span></span>),<span class="hljs-params">setImmediate</span>(<span class="hljs-params">(</span>)=&gt;</span><span class="hljs-keyword">this</span>._processMessages()),!<span class="hljs-number">0</span>)}close(){<span class="hljs-keyword">let</span> e,t=<span class="hljs-keyword">this</span>._connections.length;<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>._closed=!<span class="hljs-number">0</span>,clearTimeout(<span class="hljs-keyword">this</span>._rateLimit.timeout),!t&amp;&amp;!<span class="hljs-keyword">this</span>._queue.length)<span class="hljs-keyword">return</span>;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=t<span class="hljs-number">-1</span>;i&gt;=<span class="hljs-number">0</span>;i--)<span class="hljs-keyword">this</span>._connections[i]&amp;&amp;<span class="hljs-keyword">this</span>._connections[i].available&amp;&amp;<span class="hljs-function">(<span class="hljs-params">(e=<span class="hljs-keyword">this</span>._connections[i]</span>).<span class="hljs-params">close</span><span class="hljs-params">()</span>,<span class="hljs-params">this</span>.<span class="hljs-params">logger</span>.<span class="hljs-params">info</span>(<span class="hljs-params">{tnx:<span class="hljs-string">"connection"</span>,cid:e.id,action:<span class="hljs-string">"removed"</span>},<span class="hljs-string">"Connection #%s removed"</span>,e.id</span>));<span class="hljs-params">if</span>(<span class="hljs-params">t&amp;&amp;!<span class="hljs-keyword">this</span>._connections.length&amp;&amp;<span class="hljs-keyword">this</span>.logger.debug({tnx:<span class="hljs-string">"connection"</span>},<span class="hljs-string">"All connections removed"</span></span>),!<span class="hljs-params">this</span>.<span class="hljs-params">_queue</span>.<span class="hljs-params">length</span>)<span class="hljs-params">return</span>;<span class="hljs-params">let</span> <span class="hljs-params">i</span>=<span class="hljs-params">()</span>=&gt;</span>{<span class="hljs-keyword">if</span>(!<span class="hljs-keyword">this</span>._queue.length)<span class="hljs-keyword">return</span> <span class="hljs-keyword">void</span> <span class="hljs-keyword">this</span>.logger.debug({<span class="hljs-attr">tnx</span>:<span class="hljs-string">"connection"</span>},<span class="hljs-string">"Pending queue entries cleared"</span>);<span class="hljs-keyword">let</span> t=<span class="hljs-keyword">this</span>._queue.shift();<span class="hljs-keyword">if</span>(t&amp;&amp;<span class="hljs-string">"function"</span>==<span class="hljs-keyword">typeof</span> t.callback)<span class="hljs-keyword">try</span>{t.callback(<span class="hljs-built_in">Error</span>(<span class="hljs-string">"Connection pool was closed"</span>))}<span class="hljs-keyword">catch</span>(t){<span class="hljs-keyword">this</span>.logger.error({<span class="hljs-attr">err</span>:t,<span class="hljs-attr">tnx</span>:<span class="hljs-string">"callback"</span>,<span class="hljs-attr">cid</span>:e.id},<span class="hljs-string">"Callback error for #%s: %s"</span>,e.id,t.message)}setImmediate(i)};setImmediate(i)}_processMessages(){<span class="hljs-keyword">let</span> e,t,i;<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>._closed)<span class="hljs-keyword">return</span>;<span class="hljs-keyword">if</span>(!<span class="hljs-keyword">this</span>._queue.length){<span class="hljs-keyword">this</span>.idling||<span class="hljs-function">(<span class="hljs-params"><span class="hljs-keyword">this</span>.idling=!<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>.emit(<span class="hljs-string">"idle"</span></span>));<span class="hljs-params">return</span>}<span class="hljs-params">for</span>(<span class="hljs-params">t=<span class="hljs-number">0</span>,i=<span class="hljs-keyword">this</span>._connections.length;t&lt;i;t++</span>)<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>._connections[t].available</span>){<span class="hljs-params">e</span>=<span class="hljs-params">this</span>.<span class="hljs-params">_connections</span>[<span class="hljs-params">t</span>];<span class="hljs-params">break</span>}<span class="hljs-params">if</span>(<span class="hljs-params">!e&amp;&amp;<span class="hljs-keyword">this</span>._connections.length&lt;<span class="hljs-keyword">this</span>.options.maxConnections&amp;&amp;(e=<span class="hljs-keyword">this</span>._createConnection(</span>)),!<span class="hljs-params">e</span>){<span class="hljs-params">this</span>.<span class="hljs-params">idling</span>=!1;<span class="hljs-params">return</span>}!<span class="hljs-params">this</span>.<span class="hljs-params">idling</span>&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">_queue</span>.<span class="hljs-params">length</span>&lt;<span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">maxConnections</span>&amp;&amp;(<span class="hljs-params"><span class="hljs-keyword">this</span>.idling=!<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>.emit(<span class="hljs-string">"idle"</span></span>));<span class="hljs-params">let</span> <span class="hljs-params">a</span>=<span class="hljs-params">e</span>.<span class="hljs-params">queueEntry</span>=<span class="hljs-params">this</span>.<span class="hljs-params">_queue</span>.<span class="hljs-params">shift</span><span class="hljs-params">()</span>;<span class="hljs-params">a</span>.<span class="hljs-params">messageId</span>=(<span class="hljs-params">e.queueEntry.mail.message.getHeader(<span class="hljs-string">"message-id"</span></span>)||"").<span class="hljs-params">replace</span>(<span class="hljs-params"><span class="hljs-regexp">/[&lt;&gt;\s]/g</span>,<span class="hljs-string">""</span></span>),<span class="hljs-params">e</span>.<span class="hljs-params">available</span>=!1,<span class="hljs-params">this</span>.<span class="hljs-params">logger</span>.<span class="hljs-params">debug</span>(<span class="hljs-params">{tnx:<span class="hljs-string">"pool"</span>,cid:e.id,messageId:a.messageId,action:<span class="hljs-string">"assign"</span>},<span class="hljs-string">"Assigned message &lt;%s&gt; to #%s (%s)"</span>,a.messageId,e.id,e.messages+<span class="hljs-number">1</span></span>),<span class="hljs-params">this</span>.<span class="hljs-params">_rateLimit</span>.<span class="hljs-params">limit</span>&amp;&amp;(<span class="hljs-params"><span class="hljs-keyword">this</span>._rateLimit.counter++,<span class="hljs-keyword">this</span>._rateLimit.checkpoint||(<span class="hljs-keyword">this</span>._rateLimit.checkpoint=<span class="hljs-built_in">Date</span>.now(</span>))),<span class="hljs-params">e</span>.<span class="hljs-params">send</span>(<span class="hljs-params">a.mail,(t,i</span>)=&gt;</span>{<span class="hljs-keyword">if</span>(a===e.queueEntry){<span class="hljs-keyword">try</span>{a.callback(t,i)}<span class="hljs-keyword">catch</span>(t){<span class="hljs-keyword">this</span>.logger.error({<span class="hljs-attr">err</span>:t,<span class="hljs-attr">tnx</span>:<span class="hljs-string">"callback"</span>,<span class="hljs-attr">cid</span>:e.id},<span class="hljs-string">"Callback error for #%s: %s"</span>,e.id,t.message)}e.queueEntry=!<span class="hljs-number">1</span>}})}_createConnection(){<span class="hljs-keyword">let</span> e=<span class="hljs-keyword">new</span> s(<span class="hljs-keyword">this</span>);<span class="hljs-keyword">return</span> e.id=++<span class="hljs-keyword">this</span>._connectionCounter,<span class="hljs-keyword">this</span>.logger.info({<span class="hljs-attr">tnx</span>:<span class="hljs-string">"pool"</span>,<span class="hljs-attr">cid</span>:e.id,<span class="hljs-attr">action</span>:<span class="hljs-string">"conection"</span>},<span class="hljs-string">"Created new pool resource #%s"</span>,e.id),e.on(<span class="hljs-string">"available"</span>,()=&gt;{<span class="hljs-keyword">this</span>.logger.debug({<span class="hljs-attr">tnx</span>:<span class="hljs-string">"connection"</span>,<span class="hljs-attr">cid</span>:e.id,<span class="hljs-attr">action</span>:<span class="hljs-string">"available"</span>},<span class="hljs-string">"Connection #%s became available"</span>,e.id),<span class="hljs-keyword">this</span>._closed?<span class="hljs-keyword">this</span>.close():<span class="hljs-keyword">this</span>._processMessages()}),e.once(<span class="hljs-string">"error"</span>,t=&gt;{<span class="hljs-keyword">if</span>(<span class="hljs-string">"EMAXLIMIT"</span>!==t.code?<span class="hljs-keyword">this</span>.logger.error({<span class="hljs-attr">err</span>:t,<span class="hljs-attr">tnx</span>:<span class="hljs-string">"pool"</span>,<span class="hljs-attr">cid</span>:e.id},<span class="hljs-string">"Pool Error for #%s: %s"</span>,e.id,t.message):<span class="hljs-keyword">this</span>.logger.debug({<span class="hljs-attr">tnx</span>:<span class="hljs-string">"pool"</span>,<span class="hljs-attr">cid</span>:e.id,<span class="hljs-attr">action</span>:<span class="hljs-string">"maxlimit"</span>},<span class="hljs-string">"Max messages limit exchausted for #%s"</span>,e.id),e.queueEntry){<span class="hljs-keyword">try</span>{e.queueEntry.callback(t)}<span class="hljs-keyword">catch</span>(t){<span class="hljs-keyword">this</span>.logger.error({<span class="hljs-attr">err</span>:t,<span class="hljs-attr">tnx</span>:<span class="hljs-string">"callback"</span>,<span class="hljs-attr">cid</span>:e.id},<span class="hljs-string">"Callback error for #%s: %s"</span>,e.id,t.message)}e.queueEntry=!<span class="hljs-number">1</span>}<span class="hljs-keyword">this</span>._removeConnection(e),<span class="hljs-keyword">this</span>._continueProcessing()}),e.once(<span class="hljs-string">"close"</span>,()=&gt;{<span class="hljs-keyword">this</span>.logger.info({<span class="hljs-attr">tnx</span>:<span class="hljs-string">"connection"</span>,<span class="hljs-attr">cid</span>:e.id,<span class="hljs-attr">action</span>:<span class="hljs-string">"closed"</span>},<span class="hljs-string">"Connection #%s was closed"</span>,e.id),<span class="hljs-keyword">this</span>._removeConnection(e),e.queueEntry?setTimeout(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{e.queueEntry&amp;&amp;<span class="hljs-function">(<span class="hljs-params"><span class="hljs-keyword">this</span>._shouldRequeuOnConnectionClose(e.queueEntry</span>)?<span class="hljs-params">this</span>.<span class="hljs-params">_requeueEntryOnConnectionClose</span>(<span class="hljs-params">e</span>):<span class="hljs-params">this</span>.<span class="hljs-params">_failDeliveryOnConnectionClose</span>(<span class="hljs-params">e</span>)),<span class="hljs-params">this</span>.<span class="hljs-params">_continueProcessing</span><span class="hljs-params">()</span>},50):(<span class="hljs-params"><span class="hljs-keyword">this</span>._closed||!<span class="hljs-keyword">this</span>.idling||<span class="hljs-keyword">this</span>._connections.length||<span class="hljs-keyword">this</span>.emit(<span class="hljs-string">"clear"</span></span>),<span class="hljs-params">this</span>.<span class="hljs-params">_continueProcessing</span><span class="hljs-params">()</span>)}),<span class="hljs-params">this</span>.<span class="hljs-params">_connections</span>.<span class="hljs-params">push</span>(<span class="hljs-params">e</span>),<span class="hljs-params">e</span>}<span class="hljs-params">_shouldRequeuOnConnectionClose</span>(<span class="hljs-params">e</span>){<span class="hljs-params">return</span> <span class="hljs-params">void</span> 0===<span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">maxRequeues</span>||<span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">maxRequeues</span>&lt;0||<span class="hljs-params">e</span>.<span class="hljs-params">requeueAttempts</span>&lt;<span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">maxRequeues</span>}<span class="hljs-params">_failDeliveryOnConnectionClose</span>(<span class="hljs-params">e</span>){<span class="hljs-params">if</span>(<span class="hljs-params">e.queueEntry&amp;&amp;e.queueEntry.callback</span>){<span class="hljs-params">try</span>{<span class="hljs-params">e</span>.<span class="hljs-params">queueEntry</span>.<span class="hljs-params">callback</span>(<span class="hljs-params"><span class="hljs-built_in">Error</span>(<span class="hljs-string">"Reached maximum number of retries after connection was closed"</span></span>))}<span class="hljs-params">catch</span>(<span class="hljs-params">t</span>){<span class="hljs-params">this</span>.<span class="hljs-params">logger</span>.<span class="hljs-params">error</span>(<span class="hljs-params">{err:t,tnx:<span class="hljs-string">"callback"</span>,messageId:e.queueEntry.messageId,cid:e.id},<span class="hljs-string">"Callback error for #%s: %s"</span>,e.id,t.message</span>)}<span class="hljs-params">e</span>.<span class="hljs-params">queueEntry</span>=!1}}<span class="hljs-params">_requeueEntryOnConnectionClose</span>(<span class="hljs-params">e</span>){<span class="hljs-params">e</span>.<span class="hljs-params">queueEntry</span>.<span class="hljs-params">requeueAttempts</span>=<span class="hljs-params">e</span>.<span class="hljs-params">queueEntry</span>.<span class="hljs-params">requeueAttempts</span>+1,<span class="hljs-params">this</span>.<span class="hljs-params">logger</span>.<span class="hljs-params">debug</span>(<span class="hljs-params">{tnx:<span class="hljs-string">"pool"</span>,cid:e.id,messageId:e.queueEntry.messageId,action:<span class="hljs-string">"requeue"</span>},<span class="hljs-string">"Re-queued message &lt;%s&gt; for #%s. Attempt: #%s"</span>,e.queueEntry.messageId,e.id,e.queueEntry.requeueAttempts</span>),<span class="hljs-params">this</span>.<span class="hljs-params">_queue</span>.<span class="hljs-params">unshift</span>(<span class="hljs-params">e.queueEntry</span>),<span class="hljs-params">e</span>.<span class="hljs-params">queueEntry</span>=!1}<span class="hljs-params">_continueProcessing</span><span class="hljs-params">()</span>{<span class="hljs-params">this</span>.<span class="hljs-params">_closed</span>?<span class="hljs-params">this</span>.<span class="hljs-params">close</span><span class="hljs-params">()</span>:<span class="hljs-params">setTimeout</span>(<span class="hljs-params">(</span>)=&gt;</span><span class="hljs-keyword">this</span>._processMessages(),<span class="hljs-number">100</span>)}_removeConnection(e){<span class="hljs-keyword">let</span> t=<span class="hljs-keyword">this</span>._connections.indexOf(e);<span class="hljs-number">-1</span>!==t&amp;&amp;<span class="hljs-keyword">this</span>._connections.splice(t,<span class="hljs-number">1</span>)}_checkRateLimit(e){<span class="hljs-keyword">if</span>(!<span class="hljs-keyword">this</span>._rateLimit.limit)<span class="hljs-keyword">return</span> e();<span class="hljs-keyword">let</span> t=<span class="hljs-built_in">Date</span>.now();<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._rateLimit.counter&lt;<span class="hljs-keyword">this</span>._rateLimit.limit?e():<span class="hljs-function">(<span class="hljs-params"><span class="hljs-keyword">this</span>._rateLimit.waiting.push(e</span>),<span class="hljs-params">this</span>.<span class="hljs-params">_rateLimit</span>.<span class="hljs-params">checkpoint</span>&lt;=<span class="hljs-params">t</span>-<span class="hljs-params">this</span>.<span class="hljs-params">_rateLimit</span>.<span class="hljs-params">delta</span>)?<span class="hljs-params">this</span>.<span class="hljs-params">_clearRateLimit</span><span class="hljs-params">()</span>:<span class="hljs-params">void</span>(<span class="hljs-params">!<span class="hljs-keyword">this</span>._rateLimit.timeout&amp;&amp;(<span class="hljs-keyword">this</span>._rateLimit.timeout=setTimeout((</span>)=&gt;</span><span class="hljs-keyword">this</span>._clearRateLimit(),<span class="hljs-keyword">this</span>._rateLimit.delta-<span class="hljs-function">(<span class="hljs-params">t-<span class="hljs-keyword">this</span>._rateLimit.checkpoint</span>)),<span class="hljs-params">this</span>.<span class="hljs-params">_rateLimit</span>.<span class="hljs-params">checkpoint</span>=<span class="hljs-params">t</span>))}<span class="hljs-params">_clearRateLimit</span><span class="hljs-params">()</span>{<span class="hljs-params">for</span>(<span class="hljs-params">clearTimeout(<span class="hljs-keyword">this</span>._rateLimit.timeout</span>),<span class="hljs-params">this</span>.<span class="hljs-params">_rateLimit</span>.<span class="hljs-params">timeout</span>=<span class="hljs-params">null</span>,<span class="hljs-params">this</span>.<span class="hljs-params">_rateLimit</span>.<span class="hljs-params">counter</span>=0,<span class="hljs-params">this</span>.<span class="hljs-params">_rateLimit</span>.<span class="hljs-params">checkpoint</span>=!1;<span class="hljs-params">this</span>.<span class="hljs-params">_rateLimit</span>.<span class="hljs-params">waiting</span>.<span class="hljs-params">length</span>;)<span class="hljs-params">setImmediate</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>._rateLimit.waiting.shift(</span>))}<span class="hljs-params">isIdle</span><span class="hljs-params">()</span>{<span class="hljs-params">return</span> <span class="hljs-params">this</span>.<span class="hljs-params">idling</span>}<span class="hljs-params">verify</span>(<span class="hljs-params">e</span>){<span class="hljs-params">let</span> <span class="hljs-params">t</span>;<span class="hljs-params">e</span>||(<span class="hljs-params">t=<span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>((t,i</span>)=&gt;</span>{e=r.callbackPromise(t,i)}));<span class="hljs-keyword">let</span> i=<span class="hljs-keyword">new</span> s(<span class="hljs-keyword">this</span>).auth;<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getSocket(<span class="hljs-keyword">this</span>.options,(t,a)=&gt;{<span class="hljs-keyword">if</span>(t)<span class="hljs-keyword">return</span> e(t);<span class="hljs-keyword">let</span> s=<span class="hljs-keyword">this</span>.options;a&amp;&amp;a.connection&amp;&amp;<span class="hljs-function">(<span class="hljs-params"><span class="hljs-keyword">this</span>.logger.info({tnx:<span class="hljs-string">"proxy"</span>,remoteAddress:a.connection.remoteAddress,remotePort:a.connection.remotePort,destHost:s.host||<span class="hljs-string">""</span>,destPort:s.port||<span class="hljs-string">""</span>,action:<span class="hljs-string">"connected"</span>},<span class="hljs-string">"Using proxied socket from %s:%s to %s:%s"</span>,a.connection.remoteAddress,a.connection.remotePort,s.host||<span class="hljs-string">""</span>,s.port||<span class="hljs-string">""</span></span>),<span class="hljs-params">s</span>=<span class="hljs-params">r</span>.<span class="hljs-params">assign</span>(<span class="hljs-params">!<span class="hljs-number">1</span>,s</span>),<span class="hljs-params">Object</span>.<span class="hljs-params">keys</span>(<span class="hljs-params">a</span>).<span class="hljs-params">forEach</span>(<span class="hljs-params">e=&gt;{s[e]=a[e]}</span>));<span class="hljs-params">let</span> <span class="hljs-params">n</span>=<span class="hljs-params">new</span> <span class="hljs-params">o</span>(<span class="hljs-params">s</span>),<span class="hljs-params">p</span>=!1;<span class="hljs-params">n</span>.<span class="hljs-params">once</span>(<span class="hljs-params"><span class="hljs-string">"error"</span>,t=&gt;{<span class="hljs-keyword">if</span>(!p</span>)<span class="hljs-params">return</span> <span class="hljs-params">p</span>=!0,<span class="hljs-params">n</span>.<span class="hljs-params">close</span><span class="hljs-params">()</span>,<span class="hljs-params">e</span>(<span class="hljs-params">t</span>)}),<span class="hljs-params">n</span>.<span class="hljs-params">once</span>(<span class="hljs-params"><span class="hljs-string">"end"</span>,(</span>)=&gt;</span>{<span class="hljs-keyword">if</span>(!p)<span class="hljs-keyword">return</span> p=!<span class="hljs-number">0</span>,e(<span class="hljs-built_in">Error</span>(<span class="hljs-string">"Connection closed"</span>))});<span class="hljs-keyword">let</span> c=<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{<span class="hljs-keyword">if</span>(!p)<span class="hljs-keyword">return</span> p=!<span class="hljs-number">0</span>,n.quit(),e(<span class="hljs-literal">null</span>,!<span class="hljs-number">0</span>)};n.connect(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{<span class="hljs-keyword">if</span>(!p)<span class="hljs-keyword">if</span>(i&amp;&amp;<span class="hljs-function">(<span class="hljs-params">n.allowsAuth||s.forceAuth</span>))<span class="hljs-params">n</span>.<span class="hljs-params">login</span>(<span class="hljs-params">i,t=&gt;{<span class="hljs-keyword">if</span>(!p</span>){<span class="hljs-params">if</span>(<span class="hljs-params">t</span>)<span class="hljs-params">return</span> <span class="hljs-params">p</span>=!0,<span class="hljs-params">n</span>.<span class="hljs-params">close</span><span class="hljs-params">()</span>,<span class="hljs-params">e</span>(<span class="hljs-params">t</span>);<span class="hljs-params">c</span><span class="hljs-params">()</span>}});<span class="hljs-params">else</span> <span class="hljs-params">if</span>(<span class="hljs-params">!i&amp;&amp;n.allowsAuth&amp;&amp;s.forceAuth</span>){<span class="hljs-params">let</span> <span class="hljs-params">t</span>=<span class="hljs-params">Error</span>(<span class="hljs-params"><span class="hljs-string">"Authentication info was not provided"</span></span>);<span class="hljs-params">return</span> <span class="hljs-params">t</span>.<span class="hljs-params">code</span>="<span class="hljs-params">NoAuth</span>",<span class="hljs-params">p</span>=!0,<span class="hljs-params">n</span>.<span class="hljs-params">close</span><span class="hljs-params">()</span>,<span class="hljs-params">e</span>(<span class="hljs-params">t</span>)}<span class="hljs-params">else</span> <span class="hljs-params">c</span><span class="hljs-params">()</span>})}),<span class="hljs-params">t</span>}}},463,(<span class="hljs-params">e,t,i</span>)=&gt;</span>{<span class="hljs-string">"use strict"</span>;<span class="hljs-keyword">let</span> a=e.r(<span class="hljs-number">27699</span>),s=e.r(<span class="hljs-number">30340</span>),o=e.r(<span class="hljs-number">9885</span>),n=e.r(<span class="hljs-number">17049</span>),r=e.r(<span class="hljs-number">15589</span>),p=e.r(<span class="hljs-number">39913</span>);t.exports=<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">a</span></span>{<span class="hljs-keyword">constructor</span>(e){<span class="hljs-keyword">let</span> t;<span class="hljs-keyword">super</span>(),<span class="hljs-string">"string"</span>==<span class="hljs-keyword">typeof</span>(e=e||{})&amp;&amp;<span class="hljs-function">(<span class="hljs-params">e={url:e}</span>);<span class="hljs-params">let</span> <span class="hljs-params">i</span>=<span class="hljs-params">e</span>.<span class="hljs-params">service</span>;"<span class="hljs-params">function</span>"==<span class="hljs-params">typeof</span> <span class="hljs-params">e</span>.<span class="hljs-params">getSocket</span>&amp;&amp;(<span class="hljs-params"><span class="hljs-keyword">this</span>.getSocket=e.getSocket</span>),<span class="hljs-params">e</span>.<span class="hljs-params">url</span>&amp;&amp;(<span class="hljs-params">t=n.parseConnectionUrl(e.url</span>),<span class="hljs-params">i</span>=<span class="hljs-params">i</span>||<span class="hljs-params">t</span>.<span class="hljs-params">service</span>),<span class="hljs-params">this</span>.<span class="hljs-params">options</span>=<span class="hljs-params">n</span>.<span class="hljs-params">assign</span>(<span class="hljs-params">!<span class="hljs-number">1</span>,e,t,i&amp;&amp;o(i</span>)),<span class="hljs-params">this</span>.<span class="hljs-params">logger</span>=<span class="hljs-params">n</span>.<span class="hljs-params">getLogger</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>.options,{component:<span class="hljs-keyword">this</span>.options.component||<span class="hljs-string">"smtp-transport"</span>}</span>);<span class="hljs-params">let</span> <span class="hljs-params">a</span>=<span class="hljs-params">new</span> <span class="hljs-params">s</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>.options</span>);<span class="hljs-params">this</span>.<span class="hljs-params">name</span>="<span class="hljs-params">SMTP</span>",<span class="hljs-params">this</span>.<span class="hljs-params">version</span>=<span class="hljs-params">p</span>.<span class="hljs-params">version</span>+"[<span class="hljs-params">client</span>:"+<span class="hljs-params">a</span>.<span class="hljs-params">version</span>+"]",<span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">auth</span>&amp;&amp;(<span class="hljs-params"><span class="hljs-keyword">this</span>.auth=<span class="hljs-keyword">this</span>.getAuth({}</span>))}<span class="hljs-params">getSocket</span>(<span class="hljs-params">e,t</span>){<span class="hljs-params">return</span> <span class="hljs-params">setImmediate</span>(<span class="hljs-params">(</span>)=&gt;</span>t(<span class="hljs-literal">null</span>,!<span class="hljs-number">1</span>))}getAuth(e){<span class="hljs-keyword">if</span>(!e)<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.auth;<span class="hljs-keyword">let</span> t=!<span class="hljs-number">1</span>,i={};<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.options.auth&amp;&amp;<span class="hljs-string">"object"</span>==<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.options.auth&amp;&amp;<span class="hljs-built_in">Object</span>.keys(<span class="hljs-keyword">this</span>.options.auth).forEach(<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>{t=!<span class="hljs-number">0</span>,i[e]=<span class="hljs-keyword">this</span>.options.auth[e]}),e&amp;&amp;<span class="hljs-string">"object"</span>==<span class="hljs-keyword">typeof</span> e&amp;&amp;<span class="hljs-built_in">Object</span>.keys(e).forEach(<span class="hljs-function"><span class="hljs-params">a</span>=&gt;</span>{t=!<span class="hljs-number">0</span>,i[a]=e[a]}),!t)<span class="hljs-keyword">return</span>!<span class="hljs-number">1</span>;<span class="hljs-keyword">if</span>(<span class="hljs-string">"OAUTH2"</span>!==<span class="hljs-function">(<span class="hljs-params">i.type||<span class="hljs-string">""</span></span>).<span class="hljs-params">toString</span><span class="hljs-params">()</span>.<span class="hljs-params">toUpperCase</span><span class="hljs-params">()</span>)<span class="hljs-params">return</span>{<span class="hljs-params">type</span>:(<span class="hljs-params">i.type||<span class="hljs-string">""</span></span>).<span class="hljs-params">toString</span><span class="hljs-params">()</span>.<span class="hljs-params">toUpperCase</span><span class="hljs-params">()</span>||"<span class="hljs-params">LOGIN</span>",<span class="hljs-params">user</span>:<span class="hljs-params">i</span>.<span class="hljs-params">user</span>,<span class="hljs-params">credentials</span>:{<span class="hljs-params">user</span>:<span class="hljs-params">i</span>.<span class="hljs-params">user</span>||"",<span class="hljs-params">pass</span>:<span class="hljs-params">i</span>.<span class="hljs-params">pass</span>,<span class="hljs-params">options</span>:<span class="hljs-params">i</span>.<span class="hljs-params">options</span>},<span class="hljs-params">method</span>:(<span class="hljs-params">i.method||<span class="hljs-string">""</span></span>).<span class="hljs-params">trim</span><span class="hljs-params">()</span>.<span class="hljs-params">toUpperCase</span><span class="hljs-params">()</span>||<span class="hljs-params">this</span>.<span class="hljs-params">options</span>.<span class="hljs-params">authMethod</span>||!1};{<span class="hljs-params">if</span>(<span class="hljs-params">!i.service&amp;&amp;!i.user</span>)<span class="hljs-params">return</span>!1;<span class="hljs-params">let</span> <span class="hljs-params">e</span>=<span class="hljs-params">new</span> <span class="hljs-params">r</span>(<span class="hljs-params">i,<span class="hljs-keyword">this</span>.logger</span>);<span class="hljs-params">return</span> <span class="hljs-params">e</span>.<span class="hljs-params">provisionCallback</span>=<span class="hljs-params">this</span>.<span class="hljs-params">mailer</span>&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">mailer</span>.<span class="hljs-params">get</span>(<span class="hljs-params"><span class="hljs-string">"oauth2_provision_cb"</span></span>)||<span class="hljs-params">e</span>.<span class="hljs-params">provisionCallback</span>,<span class="hljs-params">e</span>.<span class="hljs-params">on</span>(<span class="hljs-params"><span class="hljs-string">"token"</span>,e=&gt;<span class="hljs-keyword">this</span>.mailer.emit(<span class="hljs-string">"token"</span>,e</span>)),<span class="hljs-params">e</span>.<span class="hljs-params">on</span>(<span class="hljs-params"><span class="hljs-string">"error"</span>,e=&gt;<span class="hljs-keyword">this</span>.emit(<span class="hljs-string">"error"</span>,e</span>)),{<span class="hljs-params">type</span>:"<span class="hljs-params">OAUTH2</span>",<span class="hljs-params">user</span>:<span class="hljs-params">i</span>.<span class="hljs-params">user</span>,<span class="hljs-params">oauth2</span>:<span class="hljs-params">e</span>,<span class="hljs-params">method</span>:"<span class="hljs-params">XOAUTH2</span>"}}}<span class="hljs-params">send</span>(<span class="hljs-params">e,t</span>){<span class="hljs-params">this</span>.<span class="hljs-params">getSocket</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>.options,(i,a</span>)=&gt;</span>{<span class="hljs-keyword">if</span>(i)<span class="hljs-keyword">return</span> t(i);<span class="hljs-keyword">let</span> o=!<span class="hljs-number">1</span>,r=<span class="hljs-keyword">this</span>.options;a&amp;&amp;a.connection&amp;&amp;<span class="hljs-function">(<span class="hljs-params"><span class="hljs-keyword">this</span>.logger.info({tnx:<span class="hljs-string">"proxy"</span>,remoteAddress:a.connection.remoteAddress,remotePort:a.connection.remotePort,destHost:r.host||<span class="hljs-string">""</span>,destPort:r.port||<span class="hljs-string">""</span>,action:<span class="hljs-string">"connected"</span>},<span class="hljs-string">"Using proxied socket from %s:%s to %s:%s"</span>,a.connection.remoteAddress,a.connection.remotePort,r.host||<span class="hljs-string">""</span>,r.port||<span class="hljs-string">""</span></span>),<span class="hljs-params">r</span>=<span class="hljs-params">n</span>.<span class="hljs-params">assign</span>(<span class="hljs-params">!<span class="hljs-number">1</span>,r</span>),<span class="hljs-params">Object</span>.<span class="hljs-params">keys</span>(<span class="hljs-params">a</span>).<span class="hljs-params">forEach</span>(<span class="hljs-params">e=&gt;{r[e]=a[e]}</span>));<span class="hljs-params">let</span> <span class="hljs-params">p</span>=<span class="hljs-params">new</span> <span class="hljs-params">s</span>(<span class="hljs-params">r</span>);<span class="hljs-params">p</span>.<span class="hljs-params">once</span>(<span class="hljs-params"><span class="hljs-string">"error"</span>,e=&gt;{<span class="hljs-keyword">if</span>(!o</span>)<span class="hljs-params">return</span> <span class="hljs-params">o</span>=!0,<span class="hljs-params">p</span>.<span class="hljs-params">close</span><span class="hljs-params">()</span>,<span class="hljs-params">t</span>(<span class="hljs-params">e</span>)}),<span class="hljs-params">p</span>.<span class="hljs-params">once</span>(<span class="hljs-params"><span class="hljs-string">"end"</span>,(</span>)=&gt;</span>{<span class="hljs-keyword">if</span>(o)<span class="hljs-keyword">return</span>;<span class="hljs-keyword">let</span> e=setTimeout(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{<span class="hljs-keyword">if</span>(o)<span class="hljs-keyword">return</span>;o=!<span class="hljs-number">0</span>;<span class="hljs-keyword">let</span> e=<span class="hljs-built_in">Error</span>(<span class="hljs-string">"Unexpected socket close"</span>);p&amp;&amp;p._socket&amp;&amp;p._socket.upgrading&amp;&amp;<span class="hljs-function">(<span class="hljs-params">e.code=<span class="hljs-string">"ETLS"</span></span>),<span class="hljs-params">t</span>(<span class="hljs-params">e</span>)},1<span class="hljs-params">e3</span>);<span class="hljs-params">try</span>{<span class="hljs-params">e</span>.<span class="hljs-params">unref</span><span class="hljs-params">()</span>}<span class="hljs-params">catch</span>(<span class="hljs-params">e</span>){}});<span class="hljs-params">let</span> <span class="hljs-params">c</span>=<span class="hljs-params">()</span>=&gt;</span>{<span class="hljs-keyword">let</span> i=e.message.getEnvelope(),a=e.message.messageId(),s=[].concat(i.to||[]);s.length&gt;<span class="hljs-number">3</span>&amp;&amp;s.push(<span class="hljs-string">"...and "</span>+s.splice(<span class="hljs-number">2</span>).length+<span class="hljs-string">" more"</span>),e.data.dsn&amp;&amp;<span class="hljs-function">(<span class="hljs-params">i.dsn=e.data.dsn</span>),<span class="hljs-params">this</span>.<span class="hljs-params">logger</span>.<span class="hljs-params">info</span>(<span class="hljs-params">{tnx:<span class="hljs-string">"send"</span>,messageId:a},<span class="hljs-string">"Sending message %s to &lt;%s&gt;"</span>,a,s.join(<span class="hljs-string">", "</span></span>)),<span class="hljs-params">p</span>.<span class="hljs-params">send</span>(<span class="hljs-params">i,e.message.createReadStream(</span>),(<span class="hljs-params">e,s</span>)=&gt;</span>{<span class="hljs-keyword">if</span>(o=!<span class="hljs-number">0</span>,p.close(),e)<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.logger.error({<span class="hljs-attr">err</span>:e,<span class="hljs-attr">tnx</span>:<span class="hljs-string">"send"</span>},<span class="hljs-string">"Send error for %s: %s"</span>,a,e.message),t(e);s.envelope={<span class="hljs-attr">from</span>:i.from,<span class="hljs-attr">to</span>:i.to},s.messageId=a;<span class="hljs-keyword">try</span>{<span class="hljs-keyword">return</span> t(<span class="hljs-literal">null</span>,s)}<span class="hljs-keyword">catch</span>(e){<span class="hljs-keyword">this</span>.logger.error({<span class="hljs-attr">err</span>:e,<span class="hljs-attr">tnx</span>:<span class="hljs-string">"callback"</span>},<span class="hljs-string">"Callback error for %s: %s"</span>,a,e.message)}})};p.connect(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{<span class="hljs-keyword">if</span>(o)<span class="hljs-keyword">return</span>;<span class="hljs-keyword">let</span> i=<span class="hljs-keyword">this</span>.getAuth(e.data.auth);i&amp;&amp;<span class="hljs-function">(<span class="hljs-params">p.allowsAuth||r.forceAuth</span>)?<span class="hljs-params">p</span>.<span class="hljs-params">login</span>(<span class="hljs-params">i,e=&gt;{<span class="hljs-keyword">if</span>(i&amp;&amp;i!==<span class="hljs-keyword">this</span>.auth&amp;&amp;i.oauth2&amp;&amp;i.oauth2.removeAllListeners(</span>),!<span class="hljs-params">o</span>){<span class="hljs-params">if</span>(<span class="hljs-params">e</span>)<span class="hljs-params">return</span> <span class="hljs-params">o</span>=!0,<span class="hljs-params">p</span>.<span class="hljs-params">close</span><span class="hljs-params">()</span>,<span class="hljs-params">t</span>(<span class="hljs-params">e</span>);<span class="hljs-params">c</span><span class="hljs-params">()</span>}}):<span class="hljs-params">c</span><span class="hljs-params">()</span>})})}<span class="hljs-params">verify</span>(<span class="hljs-params">e</span>){<span class="hljs-params">let</span> <span class="hljs-params">t</span>;<span class="hljs-params">return</span> <span class="hljs-params">e</span>||(<span class="hljs-params">t=<span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>((t,i</span>)=&gt;</span>{e=n.callbackPromise(t,i)})),<span class="hljs-keyword">this</span>.getSocket(<span class="hljs-keyword">this</span>.options,(t,i)=&gt;{<span class="hljs-keyword">if</span>(t)<span class="hljs-keyword">return</span> e(t);<span class="hljs-keyword">let</span> a=<span class="hljs-keyword">this</span>.options;i&amp;&amp;i.connection&amp;&amp;<span class="hljs-function">(<span class="hljs-params"><span class="hljs-keyword">this</span>.logger.info({tnx:<span class="hljs-string">"proxy"</span>,remoteAddress:i.connection.remoteAddress,remotePort:i.connection.remotePort,destHost:a.host||<span class="hljs-string">""</span>,destPort:a.port||<span class="hljs-string">""</span>,action:<span class="hljs-string">"connected"</span>},<span class="hljs-string">"Using proxied socket from %s:%s to %s:%s"</span>,i.connection.remoteAddress,i.connection.remotePort,a.host||<span class="hljs-string">""</span>,a.port||<span class="hljs-string">""</span></span>),<span class="hljs-params">a</span>=<span class="hljs-params">n</span>.<span class="hljs-params">assign</span>(<span class="hljs-params">!<span class="hljs-number">1</span>,a</span>),<span class="hljs-params">Object</span>.<span class="hljs-params">keys</span>(<span class="hljs-params">i</span>).<span class="hljs-params">forEach</span>(<span class="hljs-params">e=&gt;{a[e]=i[e]}</span>));<span class="hljs-params">let</span> <span class="hljs-params">o</span>=<span class="hljs-params">new</span> <span class="hljs-params">s</span>(<span class="hljs-params">a</span>),<span class="hljs-params">r</span>=!1;<span class="hljs-params">o</span>.<span class="hljs-params">once</span>(<span class="hljs-params"><span class="hljs-string">"error"</span>,t=&gt;{<span class="hljs-keyword">if</span>(!r</span>)<span class="hljs-params">return</span> <span class="hljs-params">r</span>=!0,<span class="hljs-params">o</span>.<span class="hljs-params">close</span><span class="hljs-params">()</span>,<span class="hljs-params">e</span>(<span class="hljs-params">t</span>)}),<span class="hljs-params">o</span>.<span class="hljs-params">once</span>(<span class="hljs-params"><span class="hljs-string">"end"</span>,(</span>)=&gt;</span>{<span class="hljs-keyword">if</span>(!r)<span class="hljs-keyword">return</span> r=!<span class="hljs-number">0</span>,e(<span class="hljs-built_in">Error</span>(<span class="hljs-string">"Connection closed"</span>))});<span class="hljs-keyword">let</span> p=<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{<span class="hljs-keyword">if</span>(!r)<span class="hljs-keyword">return</span> r=!<span class="hljs-number">0</span>,o.quit(),e(<span class="hljs-literal">null</span>,!<span class="hljs-number">0</span>)};o.connect(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{<span class="hljs-keyword">if</span>(r)<span class="hljs-keyword">return</span>;<span class="hljs-keyword">let</span> t=<span class="hljs-keyword">this</span>.getAuth({});<span class="hljs-keyword">if</span>(t&amp;&amp;<span class="hljs-function">(<span class="hljs-params">o.allowsAuth||a.forceAuth</span>))<span class="hljs-params">o</span>.<span class="hljs-params">login</span>(<span class="hljs-params">t,t=&gt;{<span class="hljs-keyword">if</span>(!r</span>){<span class="hljs-params">if</span>(<span class="hljs-params">t</span>)<span class="hljs-params">return</span> <span class="hljs-params">r</span>=!0,<span class="hljs-params">o</span>.<span class="hljs-params">close</span><span class="hljs-params">()</span>,<span class="hljs-params">e</span>(<span class="hljs-params">t</span>);<span class="hljs-params">p</span><span class="hljs-params">()</span>}});<span class="hljs-params">else</span> <span class="hljs-params">if</span>(<span class="hljs-params">!t&amp;&amp;o.allowsAuth&amp;&amp;a.forceAuth</span>){<span class="hljs-params">let</span> <span class="hljs-params">t</span>=<span class="hljs-params">Error</span>(<span class="hljs-params"><span class="hljs-string">"Authentication info was not provided"</span></span>);<span class="hljs-params">return</span> <span class="hljs-params">t</span>.<span class="hljs-params">code</span>="<span class="hljs-params">NoAuth</span>",<span class="hljs-params">r</span>=!0,<span class="hljs-params">o</span>.<span class="hljs-params">close</span><span class="hljs-params">()</span>,<span class="hljs-params">e</span>(<span class="hljs-params">t</span>)}<span class="hljs-params">else</span> <span class="hljs-params">p</span><span class="hljs-params">()</span>})}),<span class="hljs-params">t</span>}<span class="hljs-params">close</span><span class="hljs-params">()</span>{<span class="hljs-params">this</span>.<span class="hljs-params">auth</span>&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">auth</span>.<span class="hljs-params">oauth2</span>&amp;&amp;<span class="hljs-params">this</span>.<span class="hljs-params">auth</span>.<span class="hljs-params">oauth2</span>.<span class="hljs-params">removeAllListeners</span><span class="hljs-params">()</span>,<span class="hljs-params">this</span>.<span class="hljs-params">emit</span>(<span class="hljs-params"><span class="hljs-string">"close"</span></span>)}}},33405,(<span class="hljs-params">e,t,i</span>)=&gt;</span>{t.exports=e.x(<span class="hljs-string">"child_process"</span>,()=&gt;<span class="hljs-built_in">require</span>(<span class="hljs-string">"child_process"</span>))},<span class="hljs-number">4317</span>,(e,t,i)=&gt;{<span class="hljs-string">"use strict"</span>;<span class="hljs-keyword">let</span> a=e.r(<span class="hljs-number">33405</span>).spawn,s=e.r(<span class="hljs-number">39913</span>),o=e.r(<span class="hljs-number">17049</span>);t.exports=<span class="hljs-class"><span class="hljs-keyword">class</span></span>{<span class="hljs-keyword">constructor</span>(e){e=e||{},<span class="hljs-keyword">this</span>._spawn=a,<span class="hljs-keyword">this</span>.options=e||{},<span class="hljs-keyword">this</span>.name=<span class="hljs-string">"Sendmail"</span>,<span class="hljs-keyword">this</span>.version=s.version,<span class="hljs-keyword">this</span>.path=<span class="hljs-string">"sendmail"</span>,<span class="hljs-keyword">this</span>.args=!<span class="hljs-number">1</span>,<span class="hljs-keyword">this</span>.winbreak=!<span class="hljs-number">1</span>,<span class="hljs-keyword">this</span>.logger=o.getLogger(<span class="hljs-keyword">this</span>.options,{<span class="hljs-attr">component</span>:<span class="hljs-keyword">this</span>.options.component||<span class="hljs-string">"sendmail"</span>}),e&amp;&amp;<span class="hljs-function">(<span class="hljs-params"><span class="hljs-string">"string"</span>==<span class="hljs-keyword">typeof</span> e?<span class="hljs-keyword">this</span>.path=e:<span class="hljs-string">"object"</span>==<span class="hljs-keyword">typeof</span> e&amp;&amp;(e.path&amp;&amp;(<span class="hljs-keyword">this</span>.path=e.path</span>),<span class="hljs-params">Array</span>.<span class="hljs-params">isArray</span>(<span class="hljs-params">e.args</span>)&amp;&amp;(<span class="hljs-params"><span class="hljs-keyword">this</span>.args=e.args</span>),<span class="hljs-params">this</span>.<span class="hljs-params">winbreak</span>=["<span class="hljs-params">win</span>","<span class="hljs-params">windows</span>","<span class="hljs-params">dos</span>","\<span class="hljs-params">r</span>\<span class="hljs-params">n</span>"].<span class="hljs-params">includes</span>(<span class="hljs-params">(e.newline||<span class="hljs-string">""</span></span>).<span class="hljs-params">toString</span><span class="hljs-params">()</span>.<span class="hljs-params">toLowerCase</span><span class="hljs-params">()</span>)))}<span class="hljs-params">send</span>(<span class="hljs-params">e,t</span>){<span class="hljs-params">let</span> <span class="hljs-params">i</span>,<span class="hljs-params">a</span>,<span class="hljs-params">s</span>;<span class="hljs-params">e</span>.<span class="hljs-params">message</span>.<span class="hljs-params">keepBcc</span>=!0;<span class="hljs-params">let</span> <span class="hljs-params">o</span>=<span class="hljs-params">e</span>.<span class="hljs-params">data</span>.<span class="hljs-params">envelope</span>||<span class="hljs-params">e</span>.<span class="hljs-params">message</span>.<span class="hljs-params">getEnvelope</span><span class="hljs-params">()</span>,<span class="hljs-params">n</span>=<span class="hljs-params">e</span>.<span class="hljs-params">message</span>.<span class="hljs-params">messageId</span><span class="hljs-params">()</span>;<span class="hljs-params">if</span>(<span class="hljs-params">[].concat(o.<span class="hljs-keyword">from</span>||[]</span>).<span class="hljs-params">concat</span>(<span class="hljs-params">o.to||[]</span>).<span class="hljs-params">some</span>(<span class="hljs-params">e=&gt;<span class="hljs-regexp">/^-/</span>.test(e</span>)))<span class="hljs-params">return</span> <span class="hljs-params">t</span>(<span class="hljs-params"><span class="hljs-built_in">Error</span>(<span class="hljs-string">"Can not send mail. Invalid envelope addresses."</span></span>));<span class="hljs-params">i</span>=<span class="hljs-params">this</span>.<span class="hljs-params">args</span>?["-<span class="hljs-params">i</span>"].<span class="hljs-params">concat</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>.args</span>).<span class="hljs-params">concat</span>(<span class="hljs-params">o.to</span>):["-<span class="hljs-params">i</span>"].<span class="hljs-params">concat</span>(<span class="hljs-params">o.<span class="hljs-keyword">from</span>?[<span class="hljs-string">"-f"</span>,o.<span class="hljs-keyword">from</span>]:[]</span>).<span class="hljs-params">concat</span>(<span class="hljs-params">o.to</span>);<span class="hljs-params">let</span> <span class="hljs-params">r</span>=<span class="hljs-params">i</span>=&gt;</span>{<span class="hljs-keyword">if</span>(!s&amp;&amp;<span class="hljs-function">(<span class="hljs-params">s=!<span class="hljs-number">0</span>,<span class="hljs-string">"function"</span>==<span class="hljs-keyword">typeof</span> t</span>))<span class="hljs-params">if</span>(<span class="hljs-params">i</span>)<span class="hljs-params">return</span> <span class="hljs-params">t</span>(<span class="hljs-params">i</span>);<span class="hljs-params">else</span> <span class="hljs-params">return</span> <span class="hljs-params">t</span>(<span class="hljs-params"><span class="hljs-literal">null</span>,{envelope:e.data.envelope||e.message.getEnvelope(</span>),<span class="hljs-params">messageId</span>:<span class="hljs-params">n</span>,<span class="hljs-params">response</span>:"<span class="hljs-params">Messages</span> <span class="hljs-params">queued</span> <span class="hljs-params">for</span> <span class="hljs-params">delivery</span>"})};<span class="hljs-params">try</span>{<span class="hljs-params">a</span>=<span class="hljs-params">this</span>.<span class="hljs-params">_spawn</span>(<span class="hljs-params"><span class="hljs-keyword">this</span>.path,i</span>)}<span class="hljs-params">catch</span>(<span class="hljs-params">e</span>){<span class="hljs-params">return</span> <span class="hljs-params">this</span>.<span class="hljs-params">logger</span>.<span class="hljs-params">error</span>(<span class="hljs-params">{err:e,tnx:<span class="hljs-string">"spawn"</span>,messageId:n},<span class="hljs-string">"Error occurred while spawning sendmail. %s"</span>,e.message</span>),<span class="hljs-params">r</span>(<span class="hljs-params">e</span>)}<span class="hljs-params">if</span>(<span class="hljs-params">!a</span>)<span class="hljs-params">return</span> <span class="hljs-params">r</span>(<span class="hljs-params"><span class="hljs-built_in">Error</span>(<span class="hljs-string">"sendmail was not found"</span></span>));{<span class="hljs-params">a</span>.<span class="hljs-params">on</span>(<span class="hljs-params"><span class="hljs-string">"error"</span>,e=&gt;{<span class="hljs-keyword">this</span>.logger.error({err:e,tnx:<span class="hljs-string">"spawn"</span>,messageId:n},<span class="hljs-string">"Error occurred when sending message %s. %s"</span>,n,e.message</span>),<span class="hljs-params">r</span>(<span class="hljs-params">e</span>)}),<span class="hljs-params">a</span>.<span class="hljs-params">once</span>(<span class="hljs-params"><span class="hljs-string">"exit"</span>,e=&gt;{<span class="hljs-keyword">let</span> t;<span class="hljs-keyword">if</span>(!e</span>)<span class="hljs-params">return</span> <span class="hljs-params">r</span><span class="hljs-params">()</span>;<span class="hljs-params">t</span>=127===<span class="hljs-params">e</span>?<span class="hljs-params">Error</span>(<span class="hljs-params"><span class="hljs-string">"Sendmail command not found, process exited with code "</span>+e</span>):<span class="hljs-params">Error</span>(<span class="hljs-params"><span class="hljs-string">"Sendmail exited with code "</span>+e</span>),<span class="hljs-params">this</span>.<span class="hljs-params">logger</span>.<span class="hljs-params">error</span>(<span class="hljs-params">{err:t,tnx:<span class="hljs-string">"stdin"</span>,messageId:n},<span class="hljs-string">"Error sending message %s to sendmail. %s"</span>,n,t.message</span>),<span class="hljs-params">r</span>(<span class="hljs-params">t</span>)}),<span class="hljs-params">a</span>.<span class="hljs-params">once</span>(<span class="hljs-params"><span class="hljs-string">"close"</span>,r</span>),<span class="hljs-params">a</span>.<span class="hljs-params">stdin</span>.<span class="hljs-params">on</span>(<span class="hljs-params"><span class="hljs-string">"error"</span>,e=&gt;{<span class="hljs-keyword">this</span>.logger.error({err:e,tnx:<span class="hljs-string">"stdin"</span>,messageId:n},<span class="hljs-string">"Error occurred when piping message %s to sendmail. %s"</span>,n,e.message</span>),<span class="hljs-params">r</span>(<span class="hljs-params">e</span>)});<span class="hljs-params">let</span> <span class="hljs-params">t</span>=[].<span class="hljs-params">concat</span>(<span class="hljs-params">o.to||[]</span>);<span class="hljs-params">t</span>.<span class="hljs-params">length</span>&gt;3&amp;&amp;<span class="hljs-params">t</span>.<span class="hljs-params">push</span>(<span class="hljs-params"><span class="hljs-string">"...and "</span>+t.splice(<span class="hljs-number">2</span></span>).<span class="hljs-params">length</span>+" <span class="hljs-params">more</span>"),<span class="hljs-params">this</span>.<span class="hljs-params">logger</span>.<span class="hljs-params">info</span>(<span class="hljs-params">{tnx:<span class="hljs-string">"send"</span>,messageId:n},<span class="hljs-string">"Sending message %s to &lt;%s&gt;"</span>,n,t.join(<span class="hljs-string">", "</span></span>));<span class="hljs-params">let</span> <span class="hljs-params">i</span>=<span class="hljs-params">e</span>.<span class="hljs-params">message</span>.<span class="hljs-params">createReadStream</span><span class="hljs-params">()</span>;<span class="hljs-params">i</span>.<span class="hljs-params">once</span>(<span class="hljs-params"><span class="hljs-string">"error"</span>,e=&gt;{<span class="hljs-keyword">this</span>.logger.error({err:e,tnx:<span class="hljs-string">"stdin"</span>,messageId:n},<span class="hljs-string">"Error occurred when generating message %s. %s"</span>,n,e.message</span>),<span class="hljs-params">a</span>.<span class="hljs-params">kill</span>(<span class="hljs-params"><span class="hljs-string">"SIGINT"</span></span>),<span class="hljs-params">r</span>(<span class="hljs-params">e</span>)}),<span class="hljs-params">i</span>.<span class="hljs-params">pipe</span>(<span class="hljs-params">a.stdin</span>)}}}},69271,(<span class="hljs-params">e,t,i</span>)=&gt;</span>{<span class="hljs-string">"use strict"</span>;<span class="hljs-keyword">let</span> a=e.r(<span class="hljs-number">39913</span>),s=e.r(<span class="hljs-number">17049</span>);t.exports=<span class="hljs-class"><span class="hljs-keyword">class</span></span>{<span class="hljs-keyword">constructor</span>(e){e=e||{},<span class="hljs-keyword">this</span>.options=e||{},<span class="hljs-keyword">this</span>.name=<span class="hljs-string">"StreamTransport"</span>,<span class="hljs-keyword">this</span>.version=a.version,<span class="hljs-keyword">this</span>.logger=s.getLogger(<span class="hljs-keyword">this</span>.options,{<span class="hljs-attr">component</span>:<span class="hljs-keyword">this</span>.options.component||<span class="hljs-string">"stream-transport"</span>}),<span class="hljs-keyword">this</span>.winbreak=[<span class="hljs-string">"win"</span>,<span class="hljs-string">"windows"</span>,<span class="hljs-string">"dos"</span>,<span class="hljs-string">"\r\n"</span>].includes(<span class="hljs-function">(<span class="hljs-params">e.newline||<span class="hljs-string">""</span></span>).<span class="hljs-params">toString</span><span class="hljs-params">()</span>.<span class="hljs-params">toLowerCase</span><span class="hljs-params">()</span>)}<span class="hljs-params">send</span>(<span class="hljs-params">e,t</span>){<span class="hljs-params">e</span>.<span class="hljs-params">message</span>.<span class="hljs-params">keepBcc</span>=!0;<span class="hljs-params">let</span> <span class="hljs-params">i</span>=<span class="hljs-params">e</span>.<span class="hljs-params">data</span>.<span class="hljs-params">envelope</span>||<span class="hljs-params">e</span>.<span class="hljs-params">message</span>.<span class="hljs-params">getEnvelope</span><span class="hljs-params">()</span>,<span class="hljs-params">a</span>=<span class="hljs-params">e</span>.<span class="hljs-params">message</span>.<span class="hljs-params">messageId</span><span class="hljs-params">()</span>,<span class="hljs-params">s</span>=[].<span class="hljs-params">concat</span>(<span class="hljs-params">i.to||[]</span>);<span class="hljs-params">s</span>.<span class="hljs-params">length</span>&gt;3&amp;&amp;<span class="hljs-params">s</span>.<span class="hljs-params">push</span>(<span class="hljs-params"><span class="hljs-string">"...and "</span>+s.splice(<span class="hljs-number">2</span></span>).<span class="hljs-params">length</span>+" <span class="hljs-params">more</span>"),<span class="hljs-params">this</span>.<span class="hljs-params">logger</span>.<span class="hljs-params">info</span>(<span class="hljs-params">{tnx:<span class="hljs-string">"send"</span>,messageId:a},<span class="hljs-string">"Sending message %s to &lt;%s&gt; using %s line breaks"</span>,a,s.join(<span class="hljs-string">", "</span></span>),<span class="hljs-params">this</span>.<span class="hljs-params">winbreak</span>?"&lt;<span class="hljs-params">CR</span>&gt;&lt;<span class="hljs-params">LF</span>&gt;":"&lt;<span class="hljs-params">LF</span>&gt;"),<span class="hljs-params">setImmediate</span>(<span class="hljs-params">(</span>)=&gt;</span>{<span class="hljs-keyword">let</span> i;<span class="hljs-keyword">try</span>{i=e.message.createReadStream()}<span class="hljs-keyword">catch</span>(e){<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.logger.error({<span class="hljs-attr">err</span>:e,<span class="hljs-attr">tnx</span>:<span class="hljs-string">"send"</span>,<span class="hljs-attr">messageId</span>:a},<span class="hljs-string">"Creating send stream failed for %s. %s"</span>,a,e.message),t(e)}<span class="hljs-keyword">if</span>(!<span class="hljs-keyword">this</span>.options.buffer)<span class="hljs-keyword">return</span> i.once(<span class="hljs-string">"error"</span>,e=&gt;{<span class="hljs-keyword">this</span>.logger.error({<span class="hljs-attr">err</span>:e,<span class="hljs-attr">tnx</span>:<span class="hljs-string">"send"</span>,<span class="hljs-attr">messageId</span>:a},<span class="hljs-string">"Failed creating message for %s. %s"</span>,a,e.message)}),t(<span class="hljs-literal">null</span>,{<span class="hljs-attr">envelope</span>:e.data.envelope||e.message.getEnvelope(),<span class="hljs-attr">messageId</span>:a,<span class="hljs-attr">message</span>:i});<span class="hljs-keyword">let</span> s=[],o=<span class="hljs-number">0</span>;i.on(<span class="hljs-string">"readable"</span>,()=&gt;{<span class="hljs-keyword">let</span> e;<span class="hljs-keyword">for</span>(;<span class="hljs-literal">null</span>!==<span class="hljs-function">(<span class="hljs-params">e=i.read(</span>));)<span class="hljs-params">s</span>.<span class="hljs-params">push</span>(<span class="hljs-params">e</span>),<span class="hljs-params">o</span>+=<span class="hljs-params">e</span>.<span class="hljs-params">length</span>}),<span class="hljs-params">i</span>.<span class="hljs-params">once</span>(<span class="hljs-params"><span class="hljs-string">"error"</span>,e=&gt;(<span class="hljs-keyword">this</span>.logger.error({err:e,tnx:<span class="hljs-string">"send"</span>,messageId:a},<span class="hljs-string">"Failed creating message for %s. %s"</span>,a,e.message</span>),<span class="hljs-params">t</span>(<span class="hljs-params">e</span>))),<span class="hljs-params">i</span>.<span class="hljs-params">on</span>(<span class="hljs-params"><span class="hljs-string">"end"</span>,(</span>)=&gt;</span>t(<span class="hljs-literal">null</span>,{<span class="hljs-attr">envelope</span>:e.data.envelope||e.message.getEnvelope(),<span class="hljs-attr">messageId</span>:a,<span class="hljs-attr">message</span>:Buffer.concat(s,o)}))})}}},<span class="hljs-number">92218</span>,(e,t,i)=&gt;{<span class="hljs-string">"use strict"</span>;<span class="hljs-keyword">let</span> a=e.r(<span class="hljs-number">39913</span>),s=e.r(<span class="hljs-number">17049</span>);t.exports=<span class="hljs-class"><span class="hljs-keyword">class</span></span>{<span class="hljs-keyword">constructor</span>(e){e=e||{},<span class="hljs-keyword">this</span>.options=e||{},<span class="hljs-keyword">this</span>.name=<span class="hljs-string">"JSONTransport"</span>,<span class="hljs-keyword">this</span>.version=a.version,<span class="hljs-keyword">this</span>.logger=s.getLogger(<span class="hljs-keyword">this</span>.options,{<span class="hljs-attr">component</span>:<span class="hljs-keyword">this</span>.options.component||<span class="hljs-string">"json-transport"</span>})}send(e,t){e.message.keepBcc=!<span class="hljs-number">0</span>;<span class="hljs-keyword">let</span> i=e.data.envelope||e.message.getEnvelope(),a=e.message.messageId(),s=[].concat(i.to||[]);s.length&gt;<span class="hljs-number">3</span>&amp;&amp;s.push(<span class="hljs-string">"...and "</span>+s.splice(<span class="hljs-number">2</span>).length+<span class="hljs-string">" more"</span>),<span class="hljs-keyword">this</span>.logger.info({<span class="hljs-attr">tnx</span>:<span class="hljs-string">"send"</span>,<span class="hljs-attr">messageId</span>:a},<span class="hljs-string">"Composing JSON structure of %s to &lt;%s&gt;"</span>,a,s.join(<span class="hljs-string">", "</span>)),setImmediate(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{e.normalize(<span class="hljs-function">(<span class="hljs-params">e,s</span>)=&gt;</span>e?<span class="hljs-function">(<span class="hljs-params"><span class="hljs-keyword">this</span>.logger.error({err:e,tnx:<span class="hljs-string">"send"</span>,messageId:a},<span class="hljs-string">"Failed building JSON structure for %s. %s"</span>,a,e.message</span>),<span class="hljs-params">t</span>(<span class="hljs-params">e</span>)):(<span class="hljs-params"><span class="hljs-keyword">delete</span> s.envelope,<span class="hljs-keyword">delete</span> s.normalizedHeaders,t(<span class="hljs-literal">null</span>,{envelope:i,messageId:a,message:<span class="hljs-keyword">this</span>.options.skipEncoding?s:<span class="hljs-built_in">JSON</span>.stringify(s</span>)})))})}}},80040,(<span class="hljs-params">e,t,i</span>)=&gt;</span>{<span class="hljs-string">"use strict"</span>;<span class="hljs-keyword">let</span> a=e.r(<span class="hljs-number">27699</span>),s=e.r(<span class="hljs-number">39913</span>),o=e.r(<span class="hljs-number">17049</span>),n=e.r(<span class="hljs-number">78223</span>),r=e.r(<span class="hljs-number">13473</span>);t.exports=<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">a</span></span>{<span class="hljs-keyword">constructor</span>(e){<span class="hljs-keyword">super</span>(),e=e||{},<span class="hljs-keyword">this</span>.options=e||{},<span class="hljs-keyword">this</span>.ses=<span class="hljs-keyword">this</span>.options.SES,<span class="hljs-keyword">this</span>.name=<span class="hljs-string">"SESTransport"</span>,<span class="hljs-keyword">this</span>.version=s.version,<span class="hljs-keyword">this</span>.logger=o.getLogger(<span class="hljs-keyword">this</span>.options,{<span class="hljs-attr">component</span>:<span class="hljs-keyword">this</span>.options.component||<span class="hljs-string">"ses-transport"</span>})}getRegion(e){<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.ses.sesClient.config&amp;&amp;<span class="hljs-string">"function"</span>==<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.ses.sesClient.config.region?<span class="hljs-keyword">this</span>.ses.sesClient.config.region().then(<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span>e(<span class="hljs-literal">null</span>,t)).catch(<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span>e(t)):e(<span class="hljs-literal">null</span>,!<span class="hljs-number">1</span>)}send(e,t){<span class="hljs-keyword">let</span> i={<span class="hljs-attr">ts</span>:<span class="hljs-built_in">Date</span>.now(),<span class="hljs-attr">pending</span>:!<span class="hljs-number">0</span>},a=e.message._headers.find(<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span><span class="hljs-regexp">/^from$/i</span>.test(e.key));<span class="hljs-keyword">if</span>(a){<span class="hljs-keyword">let</span> e=<span class="hljs-keyword">new</span> r(<span class="hljs-string">"text/plain"</span>);a=e._convertAddresses(e._parseAddresses(a.value))}<span class="hljs-keyword">let</span> s=e.data.envelope||e.message.getEnvelope(),o=e.message.messageId(),p=[].concat(s.to||[]);p.length&gt;<span class="hljs-number">3</span>&amp;&amp;p.push(<span class="hljs-string">"...and "</span>+p.splice(<span class="hljs-number">2</span>).length+<span class="hljs-string">" more"</span>),<span class="hljs-keyword">this</span>.logger.info({<span class="hljs-attr">tnx</span>:<span class="hljs-string">"send"</span>,<span class="hljs-attr">messageId</span>:o},<span class="hljs-string">"Sending message %s to &lt;%s&gt;"</span>,o,p.join(<span class="hljs-string">", "</span>)),setImmediate(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{<span class="hljs-keyword">var</span> r;<span class="hljs-keyword">let</span> p,c,l,d;<span class="hljs-keyword">return</span> r=<span class="hljs-function">(<span class="hljs-params">n,r</span>)=&gt;</span>{<span class="hljs-keyword">if</span>(n)<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.logger.error({<span class="hljs-attr">err</span>:n,<span class="hljs-attr">tnx</span>:<span class="hljs-string">"send"</span>,<span class="hljs-attr">messageId</span>:o},<span class="hljs-string">"Failed creating message for %s. %s"</span>,o,n.message),i.pending=!<span class="hljs-number">1</span>,t(n);<span class="hljs-keyword">let</span> p={<span class="hljs-attr">Content</span>:{<span class="hljs-attr">Raw</span>:{<span class="hljs-attr">Data</span>:r}},<span class="hljs-attr">FromEmailAddress</span>:a||s.from,<span class="hljs-attr">Destination</span>:{<span class="hljs-attr">ToAddresses</span>:s.to}};<span class="hljs-built_in">Object</span>.keys(e.data.ses||{}).forEach(<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span>{p[t]=e.data.ses[t]}),<span class="hljs-keyword">this</span>.getRegion(<span class="hljs-function">(<span class="hljs-params">e,a</span>)=&gt;</span>{(e||!a)&amp;&amp;<span class="hljs-function">(<span class="hljs-params">a=<span class="hljs-string">"us-east-1"</span></span>);<span class="hljs-params">let</span> <span class="hljs-params">n</span>=<span class="hljs-params">new</span> <span class="hljs-params">this</span>.<span class="hljs-params">ses</span>.<span class="hljs-params">SendEmailCommand</span>(<span class="hljs-params">p</span>);<span class="hljs-params">this</span>.<span class="hljs-params">ses</span>.<span class="hljs-params">sesClient</span>.<span class="hljs-params">send</span>(<span class="hljs-params">n</span>).<span class="hljs-params">then</span>(<span class="hljs-params">e=&gt;{<span class="hljs-string">"us-east-1"</span>===a&amp;&amp;(a=<span class="hljs-string">"email"</span></span>),<span class="hljs-params">i</span>.<span class="hljs-params">pending</span>=!0,<span class="hljs-params">t</span>(<span class="hljs-params"><span class="hljs-literal">null</span>,{envelope:{<span class="hljs-keyword">from</span>:s.<span class="hljs-keyword">from</span>,to:s.to},messageId:<span class="hljs-string">"&lt;"</span>+e.MessageId+(<span class="hljs-regexp">/@/</span>.test(e.MessageId</span>)?"":"@"+<span class="hljs-params">a</span>+".<span class="hljs-params">amazonses</span>.<span class="hljs-params">com</span>")+"&gt;",<span class="hljs-params">response</span>:<span class="hljs-params">e</span>.<span class="hljs-params">MessageId</span>,<span class="hljs-params">raw</span>:<span class="hljs-params">r</span>})}).<span class="hljs-params">catch</span>(<span class="hljs-params">e=&gt;{<span class="hljs-keyword">this</span>.logger.error({err:e,tnx:<span class="hljs-string">"send"</span>},<span class="hljs-string">"Send error for %s: %s"</span>,o,e.message</span>),<span class="hljs-params">i</span>.<span class="hljs-params">pending</span>=!1,<span class="hljs-params">t</span>(<span class="hljs-params">e</span>)})})},<span class="hljs-params">e</span>.<span class="hljs-params">data</span>.<span class="hljs-params">_dkim</span>||(<span class="hljs-params">e.data._dkim={}</span>),<span class="hljs-params">e</span>.<span class="hljs-params">data</span>.<span class="hljs-params">_dkim</span>.<span class="hljs-params">skipFields</span>&amp;&amp;"<span class="hljs-params">string</span>"==<span class="hljs-params">typeof</span> <span class="hljs-params">e</span>.<span class="hljs-params">data</span>.<span class="hljs-params">_dkim</span>.<span class="hljs-params">skipFields</span>?<span class="hljs-params">e</span>.<span class="hljs-params">data</span>.<span class="hljs-params">_dkim</span>.<span class="hljs-params">skipFields</span>+=":<span class="hljs-params">date</span>:<span class="hljs-params">message</span>-<span class="hljs-params">id</span>":<span class="hljs-params">e</span>.<span class="hljs-params">data</span>.<span class="hljs-params">_dkim</span>.<span class="hljs-params">skipFields</span>="<span class="hljs-params">date</span>:<span class="hljs-params">message</span>-<span class="hljs-params">id</span>",<span class="hljs-params">c</span>=(<span class="hljs-params">p=e.message.createReadStream(</span>)).<span class="hljs-params">pipe</span>(<span class="hljs-params"><span class="hljs-keyword">new</span> n</span>),<span class="hljs-params">l</span>=[],<span class="hljs-params">d</span>=0,<span class="hljs-params">void</span>(<span class="hljs-params">c.on(<span class="hljs-string">"readable"</span>,(</span>)=&gt;</span>{<span class="hljs-keyword">let</span> e;<span class="hljs-keyword">for</span>(;<span class="hljs-literal">null</span>!==<span class="hljs-function">(<span class="hljs-params">e=c.read(</span>));)<span class="hljs-params">l</span>.<span class="hljs-params">push</span>(<span class="hljs-params">e</span>),<span class="hljs-params">d</span>+=<span class="hljs-params">e</span>.<span class="hljs-params">length</span>}),<span class="hljs-params">p</span>.<span class="hljs-params">once</span>(<span class="hljs-params"><span class="hljs-string">"error"</span>,e=&gt;c.emit(<span class="hljs-string">"error"</span>,e</span>)),<span class="hljs-params">c</span>.<span class="hljs-params">once</span>(<span class="hljs-params"><span class="hljs-string">"error"</span>,e=&gt;{r(e</span>)}),<span class="hljs-params">c</span>.<span class="hljs-params">once</span>(<span class="hljs-params"><span class="hljs-string">"end"</span>,(</span>)=&gt;</span>r(<span class="hljs-literal">null</span>,Buffer.concat(l,d))))})}verify(e){<span class="hljs-keyword">let</span> t;e||<span class="hljs-function">(<span class="hljs-params">t=<span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>((t,i</span>)=&gt;</span>{e=o.callbackPromise(t,i)}));<span class="hljs-keyword">let</span> i=<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span>t&amp;&amp;![<span class="hljs-string">"InvalidParameterValue"</span>,<span class="hljs-string">"MessageRejected"</span>].includes(t.code||t.Code||t.name)?e(t):e(<span class="hljs-literal">null</span>,!<span class="hljs-number">0</span>),a={<span class="hljs-attr">Content</span>:{<span class="hljs-attr">Raw</span>:{<span class="hljs-attr">Data</span>:Buffer.from(<span class="hljs-string">"From: &lt;invalid@invalid&gt;\r\nTo: &lt;invalid@invalid&gt;\r\n Subject: Invalid\r\n\r\nInvalid"</span>)}},<span class="hljs-attr">FromEmailAddress</span>:<span class="hljs-string">"invalid@invalid"</span>,<span class="hljs-attr">Destination</span>:{<span class="hljs-attr">ToAddresses</span>:[<span class="hljs-string">"invalid@invalid"</span>]}};<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getRegion(<span class="hljs-function">(<span class="hljs-params">e,t</span>)=&gt;</span>{(e||!t)&amp;&amp;<span class="hljs-function">(<span class="hljs-params">t=<span class="hljs-string">"us-east-1"</span></span>);<span class="hljs-params">let</span> <span class="hljs-params">s</span>=<span class="hljs-params">new</span> <span class="hljs-params">this</span>.<span class="hljs-params">ses</span>.<span class="hljs-params">SendEmailCommand</span>(<span class="hljs-params">a</span>);<span class="hljs-params">this</span>.<span class="hljs-params">ses</span>.<span class="hljs-params">sesClient</span>.<span class="hljs-params">send</span>(<span class="hljs-params">s</span>).<span class="hljs-params">then</span>(<span class="hljs-params">e=&gt;i(<span class="hljs-literal">null</span>,e</span>)).<span class="hljs-params">catch</span>(<span class="hljs-params">e=&gt;i(e</span>))}),<span class="hljs-params">t</span>}}},19858,(<span class="hljs-params">e,t,i</span>)=&gt;</span>{<span class="hljs-string">"use strict"</span>;<span class="hljs-keyword">let</span> a=e.r(<span class="hljs-number">65638</span>),s=e.r(<span class="hljs-number">17049</span>),o=e.r(<span class="hljs-number">43610</span>),n=e.r(<span class="hljs-number">463</span>),r=e.r(<span class="hljs-number">4317</span>),p=e.r(<span class="hljs-number">69271</span>),c=e.r(<span class="hljs-number">92218</span>),l=e.r(<span class="hljs-number">80040</span>),d=e.r(<span class="hljs-number">18967</span>),m=e.r(<span class="hljs-number">39913</span>),h=<span class="hljs-function">(<span class="hljs-params">process.env.ETHEREAL_API||<span class="hljs-string">"https://api.nodemailer.com"</span></span>).<span class="hljs-params">replace</span>(<span class="hljs-params"><span class="hljs-regexp">/\/+$/</span>,<span class="hljs-string">""</span></span>),<span class="hljs-params">u</span>=(<span class="hljs-params">process.env.ETHEREAL_WEB||<span class="hljs-string">"https://ethereal.email"</span></span>).<span class="hljs-params">replace</span>(<span class="hljs-params"><span class="hljs-regexp">/\/+$/</span>,<span class="hljs-string">""</span></span>),<span class="hljs-params">x</span>=(<span class="hljs-params">process.env.ETHEREAL_API_KEY||<span class="hljs-string">""</span></span>).<span class="hljs-params">replace</span>(<span class="hljs-params"><span class="hljs-regexp">/\s*/g</span>,<span class="hljs-string">""</span></span>)||<span class="hljs-params">null</span>,<span class="hljs-params">f</span>=["<span class="hljs-params">true</span>","<span class="hljs-params">yes</span>","<span class="hljs-params">y</span>","1"].<span class="hljs-params">includes</span>(<span class="hljs-params">(process.env.ETHEREAL_CACHE||<span class="hljs-string">"yes"</span></span>).<span class="hljs-params">toString</span><span class="hljs-params">()</span>.<span class="hljs-params">trim</span><span class="hljs-params">()</span>.<span class="hljs-params">toLowerCase</span><span class="hljs-params">()</span>),<span class="hljs-params">g</span>=!1;<span class="hljs-params">t</span>.<span class="hljs-params">exports</span>.<span class="hljs-params">createTransport</span>=<span class="hljs-params">function</span>(<span class="hljs-params">e,t</span>){<span class="hljs-params">let</span> <span class="hljs-params">i</span>,<span class="hljs-params">d</span>;<span class="hljs-params">if</span>(<span class="hljs-params"><span class="hljs-string">"object"</span>==<span class="hljs-keyword">typeof</span> e&amp;&amp;<span class="hljs-string">"function"</span>!=<span class="hljs-keyword">typeof</span> e.send||<span class="hljs-string">"string"</span>==<span class="hljs-keyword">typeof</span> e&amp;&amp;<span class="hljs-regexp">/^(smtps?|direct):/i</span>.test(e</span>))<span class="hljs-params">if</span>(<span class="hljs-params">(d=(i=<span class="hljs-string">"string"</span>==<span class="hljs-keyword">typeof</span> e?e:e.url</span>)?<span class="hljs-params">s</span>.<span class="hljs-params">parseConnectionUrl</span>(<span class="hljs-params">i</span>):<span class="hljs-params">e</span>).<span class="hljs-params">pool</span>)<span class="hljs-params">e</span>=<span class="hljs-params">new</span> <span class="hljs-params">o</span>(<span class="hljs-params">d</span>);<span class="hljs-params">else</span> <span class="hljs-params">if</span>(<span class="hljs-params">d.sendmail</span>)<span class="hljs-params">e</span>=<span class="hljs-params">new</span> <span class="hljs-params">r</span>(<span class="hljs-params">d</span>);<span class="hljs-params">else</span> <span class="hljs-params">if</span>(<span class="hljs-params">d.streamTransport</span>)<span class="hljs-params">e</span>=<span class="hljs-params">new</span> <span class="hljs-params">p</span>(<span class="hljs-params">d</span>);<span class="hljs-params">else</span> <span class="hljs-params">if</span>(<span class="hljs-params">d.jsonTransport</span>)<span class="hljs-params">e</span>=<span class="hljs-params">new</span> <span class="hljs-params">c</span>(<span class="hljs-params">d</span>);<span class="hljs-params">else</span> <span class="hljs-params">if</span>(<span class="hljs-params">d.SES</span>){<span class="hljs-params">if</span>(<span class="hljs-params">d.SES.ses&amp;&amp;d.SES.aws</span>){<span class="hljs-params">let</span> <span class="hljs-params">e</span>=<span class="hljs-params">Error</span>(<span class="hljs-params"><span class="hljs-string">"Using legacy SES configuration, expecting @aws-sdk/client-sesv2, see https://nodemailer.com/transports/ses/"</span></span>);<span class="hljs-params">throw</span> <span class="hljs-params">e</span>.<span class="hljs-params">code</span>="<span class="hljs-params">LegacyConfig</span>",<span class="hljs-params">e</span>}<span class="hljs-params">e</span>=<span class="hljs-params">new</span> <span class="hljs-params">l</span>(<span class="hljs-params">d</span>)}<span class="hljs-params">else</span> <span class="hljs-params">e</span>=<span class="hljs-params">new</span> <span class="hljs-params">n</span>(<span class="hljs-params">d</span>);<span class="hljs-params">return</span> <span class="hljs-params">new</span> <span class="hljs-params">a</span>(<span class="hljs-params">e,d,t</span>)},<span class="hljs-params">t</span>.<span class="hljs-params">exports</span>.<span class="hljs-params">createTestAccount</span>=<span class="hljs-params">function</span>(<span class="hljs-params">e,t</span>){<span class="hljs-params">let</span> <span class="hljs-params">i</span>;<span class="hljs-params">if</span>(<span class="hljs-params">t||<span class="hljs-string">"function"</span>!=<span class="hljs-keyword">typeof</span> e||(t=e,e=!<span class="hljs-number">1</span></span>),<span class="hljs-params">t</span>||(<span class="hljs-params">i=<span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>((e,i</span>)=&gt;</span>{t=s.callbackPromise(e,i)})),f&amp;&amp;g)<span class="hljs-keyword">return</span> setImmediate(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>t(<span class="hljs-literal">null</span>,g)),i;e=e||h;<span class="hljs-keyword">let</span> a=[],o=<span class="hljs-number">0</span>,n={},r={<span class="hljs-attr">requestor</span>:m.name,<span class="hljs-attr">version</span>:m.version};x&amp;&amp;<span class="hljs-function">(<span class="hljs-params">n.Authorization=<span class="hljs-string">"Bearer "</span>+x</span>);<span class="hljs-params">let</span> <span class="hljs-params">p</span>=<span class="hljs-params">d</span>(<span class="hljs-params">e+<span class="hljs-string">"/user"</span>,{contentType:<span class="hljs-string">"application/json"</span>,method:<span class="hljs-string">"POST"</span>,headers:n,body:Buffer.<span class="hljs-keyword">from</span>(<span class="hljs-built_in">JSON</span>.stringify(r</span>))});<span class="hljs-params">return</span> <span class="hljs-params">p</span>.<span class="hljs-params">on</span>(<span class="hljs-params"><span class="hljs-string">"readable"</span>,(</span>)=&gt;</span>{<span class="hljs-keyword">let</span> e;<span class="hljs-keyword">for</span>(;<span class="hljs-literal">null</span>!==<span class="hljs-function">(<span class="hljs-params">e=p.read(</span>));)<span class="hljs-params">a</span>.<span class="hljs-params">push</span>(<span class="hljs-params">e</span>),<span class="hljs-params">o</span>+=<span class="hljs-params">e</span>.<span class="hljs-params">length</span>}),<span class="hljs-params">p</span>.<span class="hljs-params">once</span>(<span class="hljs-params"><span class="hljs-string">"error"</span>,e=&gt;t(e</span>)),<span class="hljs-params">p</span>.<span class="hljs-params">once</span>(<span class="hljs-params"><span class="hljs-string">"end"</span>,(</span>)=&gt;</span>{<span class="hljs-keyword">let</span> e,i,s=Buffer.concat(a,o);<span class="hljs-keyword">try</span>{e=<span class="hljs-built_in">JSON</span>.parse(s.toString())}<span class="hljs-keyword">catch</span>(e){i=e}<span class="hljs-keyword">return</span> i?t(i):<span class="hljs-string">"success"</span>!==e.status||e.error?t(<span class="hljs-built_in">Error</span>(e.error||<span class="hljs-string">"Request failed"</span>)):<span class="hljs-keyword">void</span>(<span class="hljs-keyword">delete</span> e.status,t(<span class="hljs-literal">null</span>,g=e))}),i},t.exports.getTestMessageUrl=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">if</span>(!e||!e.response)<span class="hljs-keyword">return</span>!<span class="hljs-number">1</span>;<span class="hljs-keyword">let</span> t=<span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>;<span class="hljs-keyword">return</span> e.response.replace(<span class="hljs-regexp">/\[([^\]]+)\]$/</span>,(e,i)=&gt;{i.replace(<span class="hljs-regexp">/\b([A-Z0-9]+)=([^\s]+)/g</span>,(e,i,a)=&gt;{t.set(i,a)})}),!!(t.has(<span class="hljs-string">"STATUS"</span>)&amp;&amp;t.has(<span class="hljs-string">"MSGID"</span>))&amp;&amp;(g.web||u)+<span class="hljs-string">"/message/"</span>+t.get(<span class="hljs-string">"MSGID"</span>)}},<span class="hljs-number">29210</span>,e=&gt;{<span class="hljs-string">"use strict"</span>;<span class="hljs-keyword">var</span> t=e.i(<span class="hljs-number">13343</span>),i=e.i(<span class="hljs-number">15648</span>),a=e.i(<span class="hljs-number">34371</span>),s=e.i(<span class="hljs-number">26657</span>),o=e.i(<span class="hljs-number">1570</span>),n=e.i(<span class="hljs-number">3325</span>),r=e.i(<span class="hljs-number">32070</span>),p=e.i(<span class="hljs-number">99404</span>),c=e.i(<span class="hljs-number">91310</span>),l=e.i(<span class="hljs-number">30515</span>),d=e.i(<span class="hljs-number">21720</span>),m=e.i(<span class="hljs-number">40109</span>),h=e.i(<span class="hljs-number">7677</span>),u=e.i(<span class="hljs-number">11056</span>),x=e.i(<span class="hljs-number">3590</span>),f=e.i(<span class="hljs-number">61156</span>),g=e.i(<span class="hljs-number">93695</span>);e.i(<span class="hljs-number">57356</span>);<span class="hljs-keyword">var</span> v=e.i(<span class="hljs-number">50482</span>),b=e.i(<span class="hljs-number">1950</span>),w=e.i(<span class="hljs-number">19858</span>);<span class="hljs-keyword">let</span> y=process.env.SMTP_EMAIL,_=process.env.SMTP_PASSWORD,k=process.env.SMTP_FROM||y;<span class="hljs-keyword">if</span>(!y||!_)<span class="hljs-keyword">throw</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"Missing SMTP credentials in env (SMTP_EMAIL / SMTP_PASSWORD)."</span>);<span class="hljs-keyword">let</span> E=w.default.createTransport({<span class="hljs-attr">host</span>:process.env.SMTP_HOST,<span class="hljs-attr">port</span>:<span class="hljs-built_in">Number</span>(process.env.SMTP_PORT),<span class="hljs-attr">auth</span>:{<span class="hljs-attr">user</span>:process.env.SMTP_EMAIL,<span class="hljs-attr">pass</span>:process.env.SMTP_PASSWORD}});<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">S</span>(<span class="hljs-params">e,t,i</span>)</span>{<span class="hljs-keyword">let</span> a=<span class="hljs-string">`
      &lt;p&gt;Hello &lt;strong&gt;<span class="hljs-subst">${i}</span>&lt;/strong&gt;,&lt;/p&gt;

      &lt;p&gt;Your student registration has been &lt;strong&gt;approved&lt;/strong&gt; and your online account has been created.&lt;/p&gt;

      &lt;p&gt;&lt;strong&gt;Login Details&lt;/strong&gt;&lt;br/&gt;
         Email: &lt;strong&gt;<span class="hljs-subst">${e}</span>&lt;/strong&gt;&lt;br/&gt;
         Temporary Password: &lt;strong&gt;<span class="hljs-subst">${t}</span>&lt;/strong&gt;
      &lt;/p&gt;

      &lt;p&gt;Please log in immediately and change your password.&lt;/p&gt;

      &lt;p&gt; WLC Ormoc Administration&lt;/p&gt;
    `</span>;<span class="hljs-keyword">await</span> E.sendMail({<span class="hljs-attr">from</span>:k,<span class="hljs-attr">to</span>:e,<span class="hljs-attr">subject</span>:<span class="hljs-string">"Your WLC Ormoc Student Portal Credentials"</span>,<span class="hljs-attr">text</span>:<span class="hljs-string">`Your account has been approved.
Email: <span class="hljs-subst">${e}</span>
Temporary Password: <span class="hljs-subst">${t}</span>`</span>,<span class="hljs-attr">html</span>:a})}<span class="hljs-keyword">var</span> A=e.i(<span class="hljs-number">9165</span>);<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">T</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">try</span>{<span class="hljs-keyword">let</span> t,{<span class="hljs-attr">regId</span>:i,<span class="hljs-attr">adminId</span>:a}=<span class="hljs-keyword">await</span> e.json(),{<span class="hljs-attr">data</span>:s,<span class="hljs-attr">error</span>:o}=<span class="hljs-keyword">await</span> b.supabaseAdmin.from(<span class="hljs-string">"registrations"</span>).select(<span class="hljs-string">"*"</span>).eq(<span class="hljs-string">"id"</span>,i).single();<span class="hljs-keyword">if</span>(o||!s)<span class="hljs-keyword">return</span> A.NextResponse.json({<span class="hljs-attr">error</span>:<span class="hljs-string">"Registration not found"</span>},{<span class="hljs-attr">status</span>:<span class="hljs-number">404</span>});<span class="hljs-keyword">if</span>(<span class="hljs-string">"Pending"</span>!==s.status)<span class="hljs-keyword">return</span> A.NextResponse.json({<span class="hljs-attr">error</span>:<span class="hljs-string">"Already processed"</span>},{<span class="hljs-attr">status</span>:<span class="hljs-number">400</span>});<span class="hljs-keyword">let</span> n=<span class="hljs-built_in">Math</span>.random().toString(<span class="hljs-number">36</span>).slice(<span class="hljs-number">-10</span>);<span class="hljs-keyword">try</span>{<span class="hljs-keyword">let</span>{<span class="hljs-attr">data</span>:e,<span class="hljs-attr">error</span>:i}=<span class="hljs-keyword">await</span> b.supabaseAdmin.auth.admin.createUser({<span class="hljs-attr">email</span>:s.email,<span class="hljs-attr">password</span>:n,<span class="hljs-attr">email_confirm</span>:!<span class="hljs-number">0</span>});<span class="hljs-keyword">if</span>(i)<span class="hljs-keyword">if</span>(<span class="hljs-string">"email_exists"</span>===i.code){<span class="hljs-built_in">console</span>.log(<span class="hljs-string">"[ApproveRegistration] Auth user exists, fetching by listUsers..."</span>);<span class="hljs-keyword">let</span>{<span class="hljs-attr">data</span>:e,<span class="hljs-attr">error</span>:i}=<span class="hljs-keyword">await</span> b.supabaseAdmin.auth.admin.listUsers();<span class="hljs-keyword">if</span>(i)<span class="hljs-keyword">throw</span> <span class="hljs-built_in">console</span>.error(<span class="hljs-string">"[ApproveRegistration] listUsers error:"</span>,i),i;<span class="hljs-built_in">console</span>.log(<span class="hljs-string">"[ApproveRegistration] listUsers returned:"</span>,e);<span class="hljs-keyword">let</span> a=e.users;<span class="hljs-built_in">console</span>.log(<span class="hljs-string">`[ApproveRegistration] Total users fetched: <span class="hljs-subst">${a.length}</span>`</span>);<span class="hljs-keyword">let</span> o=a.find(<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>e.email===s.email);<span class="hljs-keyword">if</span>(!o)<span class="hljs-keyword">throw</span> <span class="hljs-built_in">console</span>.warn(<span class="hljs-string">`[ApproveRegistration] No existing auth user found for email: <span class="hljs-subst">${s.email}</span>`</span>),<span class="hljs-built_in">Error</span>(<span class="hljs-string">"Existing auth user not found"</span>);<span class="hljs-built_in">console</span>.log(<span class="hljs-string">"[ApproveRegistration] Existing user found:"</span>,{<span class="hljs-attr">id</span>:o.id,<span class="hljs-attr">email</span>:o.email,<span class="hljs-attr">created_at</span>:o.created_at,<span class="hljs-attr">last_sign_in_at</span>:o.last_sign_in_at}),t=o.id,<span class="hljs-built_in">console</span>.log(<span class="hljs-string">`[ApproveRegistration] Resetting password for user ID: <span class="hljs-subst">${t}</span>`</span>),<span class="hljs-keyword">await</span> b.supabaseAdmin.auth.admin.updateUserById(t,{<span class="hljs-attr">password</span>:n}),<span class="hljs-built_in">console</span>.log(<span class="hljs-string">`[ApproveRegistration] Password reset completed for user ID: <span class="hljs-subst">${t}</span>`</span>)}<span class="hljs-keyword">else</span> <span class="hljs-keyword">throw</span> i;<span class="hljs-keyword">else</span> t=e.user.id}<span class="hljs-keyword">catch</span>(e){<span class="hljs-keyword">return</span> <span class="hljs-built_in">console</span>.error(<span class="hljs-string">"AUTH CREATE/FETCH ERROR:"</span>,e),A.NextResponse.json({<span class="hljs-attr">error</span>:<span class="hljs-string">"Failed to create or fetch auth user"</span>},{<span class="hljs-attr">status</span>:<span class="hljs-number">500</span>})}<span class="hljs-keyword">let</span>{<span class="hljs-attr">data</span>:r}=<span class="hljs-keyword">await</span> b.supabaseAdmin.from(<span class="hljs-string">"students"</span>).select(<span class="hljs-string">"*"</span>).eq(<span class="hljs-string">"email"</span>,s.email).single();<span class="hljs-keyword">if</span>(r)<span class="hljs-built_in">console</span>.log(<span class="hljs-string">"[ApproveRegistration] Student already exists, skipping insert."</span>);<span class="hljs-keyword">else</span>{<span class="hljs-keyword">let</span>{<span class="hljs-attr">error</span>:e}=<span class="hljs-keyword">await</span> b.supabaseAdmin.from(<span class="hljs-string">"students"</span>).insert({<span class="hljs-attr">registration_id</span>:s.id,<span class="hljs-attr">auth_user_id</span>:t,<span class="hljs-attr">student_number</span>:<span class="hljs-string">`STU-<span class="hljs-subst">${<span class="hljs-built_in">Date</span>.now()}</span>`</span>,<span class="hljs-attr">first_name</span>:s.first_name,<span class="hljs-attr">last_name</span>:s.last_name,<span class="hljs-attr">middle_name</span>:s.middle_name,<span class="hljs-attr">email</span>:s.email,<span class="hljs-attr">contact_number</span>:s.contact_number,<span class="hljs-attr">address</span>:s.address,<span class="hljs-attr">program_id</span>:s.program_id,<span class="hljs-attr">year_level</span>:s.year_level,<span class="hljs-attr">is_returning_student</span>:s.is_returning_student??!<span class="hljs-number">1</span>,<span class="hljs-attr">status</span>:<span class="hljs-string">"Active"</span>});<span class="hljs-keyword">if</span>(e)<span class="hljs-keyword">return</span> <span class="hljs-built_in">console</span>.error(<span class="hljs-string">"STUDENT INSERT ERROR:"</span>,e),A.NextResponse.json({<span class="hljs-attr">error</span>:e.message},{<span class="hljs-attr">status</span>:<span class="hljs-number">500</span>})}<span class="hljs-keyword">let</span>{<span class="hljs-attr">error</span>:p}=<span class="hljs-keyword">await</span> b.supabaseAdmin.from(<span class="hljs-string">"registrations"</span>).update({<span class="hljs-attr">status</span>:<span class="hljs-string">"Approved"</span>,<span class="hljs-attr">reviewed_by</span>:a,<span class="hljs-attr">reviewed_at</span>:<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>}).eq(<span class="hljs-string">"id"</span>,s.id);<span class="hljs-keyword">if</span>(p)<span class="hljs-keyword">return</span> <span class="hljs-built_in">console</span>.error(<span class="hljs-string">"REGISTRATION UPDATE ERROR:"</span>,p),A.NextResponse.json({<span class="hljs-attr">error</span>:p.message},{<span class="hljs-attr">status</span>:<span class="hljs-number">500</span>});<span class="hljs-keyword">try</span>{<span class="hljs-keyword">await</span> S(s.email,n,<span class="hljs-string">`<span class="hljs-subst">${s.first_name}</span> <span class="hljs-subst">${s.last_name}</span>`</span>)}<span class="hljs-keyword">catch</span>(e){<span class="hljs-built_in">console</span>.error(<span class="hljs-string">"EMAIL SEND ERROR:"</span>,e)}<span class="hljs-keyword">return</span> A.NextResponse.json({<span class="hljs-attr">success</span>:!<span class="hljs-number">0</span>})}<span class="hljs-keyword">catch</span>(e){<span class="hljs-keyword">return</span> <span class="hljs-built_in">console</span>.error(<span class="hljs-string">"API ROUTE ERROR:"</span>,e),A.NextResponse.json({<span class="hljs-attr">error</span>:e?.message||e?.error_description||<span class="hljs-string">"Server error"</span>},{<span class="hljs-attr">status</span>:<span class="hljs-number">500</span>})}}e.s([<span class="hljs-string">"POST"</span>,()=&gt;T],<span class="hljs-number">11787</span>);<span class="hljs-keyword">var</span> C=e.i(<span class="hljs-number">11787</span>);<span class="hljs-keyword">let</span> j=<span class="hljs-keyword">new</span> t.AppRouteRouteModule({<span class="hljs-attr">definition</span>:{<span class="hljs-attr">kind</span>:i.RouteKind.APP_ROUTE,<span class="hljs-attr">page</span>:<span class="hljs-string">"/api/registrations/approve/route"</span>,<span class="hljs-attr">pathname</span>:<span class="hljs-string">"/api/registrations/approve"</span>,<span class="hljs-attr">filename</span>:<span class="hljs-string">"route"</span>,<span class="hljs-attr">bundlePath</span>:<span class="hljs-string">""</span>},<span class="hljs-attr">distDir</span>:<span class="hljs-string">".next"</span>,<span class="hljs-attr">relativeProjectDir</span>:<span class="hljs-string">""</span>,<span class="hljs-attr">resolvedPagePath</span>:<span class="hljs-string">"[project]/src/app/api/registrations/approve/route.ts"</span>,<span class="hljs-attr">nextConfigOutput</span>:<span class="hljs-string">""</span>,<span class="hljs-attr">userland</span>:C}),{<span class="hljs-attr">workAsyncStorage</span>:O,<span class="hljs-attr">workUnitAsyncStorage</span>:L,<span class="hljs-attr">serverHooks</span>:I}=j;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">N</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span><span class="hljs-function">(<span class="hljs-params"><span class="hljs-number">0</span>,a.patchFetch</span>)(<span class="hljs-params">{workAsyncStorage:O,workUnitAsyncStorage:L}</span>)}<span class="hljs-params">async</span> <span class="hljs-params">function</span> <span class="hljs-params">H</span>(<span class="hljs-params">e,t,a</span>){<span class="hljs-params">j</span>.<span class="hljs-params">isDev</span>&amp;&amp;(<span class="hljs-params"><span class="hljs-number">0</span>,s.addRequestMeta</span>)(<span class="hljs-params">e,<span class="hljs-string">"devRequestTimingInternalsEnd"</span>,process.hrtime.bigint(</span>));<span class="hljs-params">let</span> <span class="hljs-params">b</span>="/<span class="hljs-params">api</span>/<span class="hljs-params">registrations</span>/<span class="hljs-params">approve</span>/<span class="hljs-params">route</span>";<span class="hljs-params">b</span>=<span class="hljs-params">b</span>.<span class="hljs-params">replace</span>(<span class="hljs-params"><span class="hljs-regexp">/\/index$/</span>,<span class="hljs-string">""</span></span>)||"/";<span class="hljs-params">let</span> <span class="hljs-params">w</span>=<span class="hljs-params">await</span> <span class="hljs-params">j</span>.<span class="hljs-params">prepare</span>(<span class="hljs-params">e,t,{srcPage:b,multiZoneDraftMode:!<span class="hljs-number">1</span>}</span>);<span class="hljs-params">if</span>(<span class="hljs-params">!w</span>)<span class="hljs-params">return</span> <span class="hljs-params">t</span>.<span class="hljs-params">statusCode</span>=400,<span class="hljs-params">t</span>.<span class="hljs-params">end</span>(<span class="hljs-params"><span class="hljs-string">"Bad Request"</span></span>),<span class="hljs-params">null</span>==<span class="hljs-params">a</span>.<span class="hljs-params">waitUntil</span>||<span class="hljs-params">a</span>.<span class="hljs-params">waitUntil</span>.<span class="hljs-params">call</span>(<span class="hljs-params">a,<span class="hljs-built_in">Promise</span>.resolve(</span>)),<span class="hljs-params">null</span>;<span class="hljs-params">let</span>{<span class="hljs-params">buildId</span>:<span class="hljs-params">y</span>,<span class="hljs-params">params</span>:<span class="hljs-params">_</span>,<span class="hljs-params">nextConfig</span>:<span class="hljs-params">k</span>,<span class="hljs-params">parsedUrl</span>:<span class="hljs-params">E</span>,<span class="hljs-params">isDraftMode</span>:<span class="hljs-params">S</span>,<span class="hljs-params">prerenderManifest</span>:<span class="hljs-params">A</span>,<span class="hljs-params">routerServerContext</span>:<span class="hljs-params">T</span>,<span class="hljs-params">isOnDemandRevalidate</span>:<span class="hljs-params">C</span>,<span class="hljs-params">revalidateOnlyGenerated</span>:<span class="hljs-params">O</span>,<span class="hljs-params">resolvedPathname</span>:<span class="hljs-params">L</span>,<span class="hljs-params">clientReferenceManifest</span>:<span class="hljs-params">I</span>,<span class="hljs-params">serverActionsManifest</span>:<span class="hljs-params">N</span>}=<span class="hljs-params">w</span>,<span class="hljs-params">H</span>=(<span class="hljs-params"><span class="hljs-number">0</span>,p.normalizeAppPath</span>)(<span class="hljs-params">b</span>),<span class="hljs-params">R</span>=!!(<span class="hljs-params">A.dynamicRoutes[H]||A.routes[L]</span>),<span class="hljs-params">M</span>=<span class="hljs-params">async</span><span class="hljs-params">()</span>=&gt;</span><span class="hljs-function">(<span class="hljs-params">(<span class="hljs-literal">null</span>==T?<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>:T.render404</span>)?<span class="hljs-params">await</span> <span class="hljs-params">T</span>.<span class="hljs-params">render404</span>(<span class="hljs-params">e,t,E,!<span class="hljs-number">1</span></span>):<span class="hljs-params">t</span>.<span class="hljs-params">end</span>(<span class="hljs-params"><span class="hljs-string">"This page could not be found"</span></span>),<span class="hljs-params">null</span>);<span class="hljs-params">if</span>(<span class="hljs-params">R&amp;&amp;!S</span>){<span class="hljs-params">let</span> <span class="hljs-params">e</span>=!!<span class="hljs-params">A</span>.<span class="hljs-params">routes</span>[<span class="hljs-params">L</span>],<span class="hljs-params">t</span>=<span class="hljs-params">A</span>.<span class="hljs-params">dynamicRoutes</span>[<span class="hljs-params">H</span>];<span class="hljs-params">if</span>(<span class="hljs-params">t&amp;&amp;!<span class="hljs-number">1</span>===t.fallback&amp;&amp;!e</span>){<span class="hljs-params">if</span>(<span class="hljs-params">k.experimental.adapterPath</span>)<span class="hljs-params">return</span> <span class="hljs-params">await</span> <span class="hljs-params">M</span><span class="hljs-params">()</span>;<span class="hljs-params">throw</span> <span class="hljs-params">new</span> <span class="hljs-params">g</span>.<span class="hljs-params">NoFallbackError</span>}}<span class="hljs-params">let</span> <span class="hljs-params">z</span>=<span class="hljs-params">null</span>;!<span class="hljs-params">R</span>||<span class="hljs-params">j</span>.<span class="hljs-params">isDev</span>||<span class="hljs-params">S</span>||(<span class="hljs-params">z=<span class="hljs-string">"/index"</span>===(z=L</span>)?"/":<span class="hljs-params">z</span>);<span class="hljs-params">let</span> <span class="hljs-params">P</span>=!0===<span class="hljs-params">j</span>.<span class="hljs-params">isDev</span>||!<span class="hljs-params">R</span>,<span class="hljs-params">U</span>=<span class="hljs-params">R</span>&amp;&amp;!<span class="hljs-params">P</span>;<span class="hljs-params">N</span>&amp;&amp;<span class="hljs-params">I</span>&amp;&amp;(<span class="hljs-params"><span class="hljs-number">0</span>,n.setReferenceManifestsSingleton</span>)(<span class="hljs-params">{page:b,clientReferenceManifest:I,serverActionsManifest:N,serverModuleMap:(<span class="hljs-number">0</span>,r.createServerModuleMap</span>)(<span class="hljs-params">{serverActionsManifest:N}</span>)});<span class="hljs-params">let</span> <span class="hljs-params">q</span>=<span class="hljs-params">e</span>.<span class="hljs-params">method</span>||"<span class="hljs-params">GET</span>",<span class="hljs-params">B</span>=(<span class="hljs-params"><span class="hljs-number">0</span>,o.getTracer</span>)<span class="hljs-params">()</span>,<span class="hljs-params">D</span>=<span class="hljs-params">B</span>.<span class="hljs-params">getActiveScopeSpan</span><span class="hljs-params">()</span>,<span class="hljs-params">F</span>={<span class="hljs-params">params</span>:<span class="hljs-params">_</span>,<span class="hljs-params">prerenderManifest</span>:<span class="hljs-params">A</span>,<span class="hljs-params">renderOpts</span>:{<span class="hljs-params">experimental</span>:{<span class="hljs-params">authInterrupts</span>:!!<span class="hljs-params">k</span>.<span class="hljs-params">experimental</span>.<span class="hljs-params">authInterrupts</span>},<span class="hljs-params">cacheComponents</span>:!!<span class="hljs-params">k</span>.<span class="hljs-params">cacheComponents</span>,<span class="hljs-params">supportsDynamicResponse</span>:<span class="hljs-params">P</span>,<span class="hljs-params">incrementalCache</span>:(<span class="hljs-params"><span class="hljs-number">0</span>,s.getRequestMeta</span>)(<span class="hljs-params">e,<span class="hljs-string">"incrementalCache"</span></span>),<span class="hljs-params">cacheLifeProfiles</span>:<span class="hljs-params">k</span>.<span class="hljs-params">cacheLife</span>,<span class="hljs-params">waitUntil</span>:<span class="hljs-params">a</span>.<span class="hljs-params">waitUntil</span>,<span class="hljs-params">onClose</span>:<span class="hljs-params">e</span>=&gt;</span>{t.on(<span class="hljs-string">"close"</span>,e)},<span class="hljs-attr">onAfterTaskError</span>:<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>,<span class="hljs-attr">onInstrumentationRequestError</span>:<span class="hljs-function">(<span class="hljs-params">t,i,a</span>)=&gt;</span>j.onRequestError(e,t,a,T)},<span class="hljs-attr">sharedContext</span>:{<span class="hljs-attr">buildId</span>:y}},$=<span class="hljs-keyword">new</span> c.NodeNextRequest(e),G=<span class="hljs-keyword">new</span> c.NodeNextResponse(t),W=l.NextRequestAdapter.fromNodeNextRequest($,(<span class="hljs-number">0</span>,l.signalFromNodeResponse)(t));<span class="hljs-keyword">try</span>{<span class="hljs-keyword">let</span> n=<span class="hljs-keyword">async</span> e=&gt;j.handle(W,F).finally(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{<span class="hljs-keyword">if</span>(!e)<span class="hljs-keyword">return</span>;e.setAttributes({<span class="hljs-string">"http.status_code"</span>:t.statusCode,<span class="hljs-string">"next.rsc"</span>:!<span class="hljs-number">1</span>});<span class="hljs-keyword">let</span> i=B.getRootSpanAttributes();<span class="hljs-keyword">if</span>(!i)<span class="hljs-keyword">return</span>;<span class="hljs-keyword">if</span>(i.get(<span class="hljs-string">"next.span_type"</span>)!==d.BaseServerSpan.handleRequest)<span class="hljs-keyword">return</span> <span class="hljs-keyword">void</span> <span class="hljs-built_in">console</span>.warn(<span class="hljs-string">`Unexpected root span type '<span class="hljs-subst">${i.get(<span class="hljs-string">"next.span_type"</span>)}</span>'. Please report this Next.js issue https://github.com/vercel/next.js`</span>);<span class="hljs-keyword">let</span> a=i.get(<span class="hljs-string">"next.route"</span>);<span class="hljs-keyword">if</span>(a){<span class="hljs-keyword">let</span> t=<span class="hljs-string">`<span class="hljs-subst">${q}</span> <span class="hljs-subst">${a}</span>`</span>;e.setAttributes({<span class="hljs-string">"next.route"</span>:a,<span class="hljs-string">"http.route"</span>:a,<span class="hljs-string">"next.span_name"</span>:t}),e.updateName(t)}<span class="hljs-keyword">else</span> e.updateName(<span class="hljs-string">`<span class="hljs-subst">${q}</span> <span class="hljs-subst">${b}</span>`</span>)}),r=!!<span class="hljs-function">(<span class="hljs-params"><span class="hljs-number">0</span>,s.getRequestMeta</span>)(<span class="hljs-params">e,<span class="hljs-string">"minimalMode"</span></span>),<span class="hljs-params">p</span>=<span class="hljs-params">async</span> <span class="hljs-params">s</span>=&gt;</span>{<span class="hljs-keyword">var</span> o,p;<span class="hljs-keyword">let</span> c=<span class="hljs-keyword">async</span>({<span class="hljs-attr">previousCacheEntry</span>:i})=&gt;{<span class="hljs-keyword">try</span>{<span class="hljs-keyword">if</span>(!r&amp;&amp;C&amp;&amp;O&amp;&amp;!i)<span class="hljs-keyword">return</span> t.statusCode=<span class="hljs-number">404</span>,t.setHeader(<span class="hljs-string">"x-nextjs-cache"</span>,<span class="hljs-string">"REVALIDATED"</span>),t.end(<span class="hljs-string">"This page could not be found"</span>),<span class="hljs-literal">null</span>;<span class="hljs-keyword">let</span> o=<span class="hljs-keyword">await</span> n(s);e.fetchMetrics=F.renderOpts.fetchMetrics;<span class="hljs-keyword">let</span> p=F.renderOpts.pendingWaitUntil;p&amp;&amp;a.waitUntil&amp;&amp;<span class="hljs-function">(<span class="hljs-params">a.waitUntil(p</span>),<span class="hljs-params">p</span>=<span class="hljs-params">void</span> 0);<span class="hljs-params">let</span> <span class="hljs-params">c</span>=<span class="hljs-params">F</span>.<span class="hljs-params">renderOpts</span>.<span class="hljs-params">collectedTags</span>;<span class="hljs-params">if</span>(<span class="hljs-params">!R</span>)<span class="hljs-params">return</span> <span class="hljs-params">await</span> (<span class="hljs-params"><span class="hljs-number">0</span>,h.sendResponse</span>)(<span class="hljs-params">$,G,o,F.renderOpts.pendingWaitUntil</span>),<span class="hljs-params">null</span>;{<span class="hljs-params">let</span> <span class="hljs-params">e</span>=<span class="hljs-params">await</span> <span class="hljs-params">o</span>.<span class="hljs-params">blob</span><span class="hljs-params">()</span>,<span class="hljs-params">t</span>=(<span class="hljs-params"><span class="hljs-number">0</span>,u.toNodeOutgoingHttpHeaders</span>)(<span class="hljs-params">o.headers</span>);<span class="hljs-params">c</span>&amp;&amp;(<span class="hljs-params">t[f.NEXT_CACHE_TAGS_HEADER]=c</span>),!<span class="hljs-params">t</span>["<span class="hljs-params">content</span>-<span class="hljs-params">type</span>"]&amp;&amp;<span class="hljs-params">e</span>.<span class="hljs-params">type</span>&amp;&amp;(<span class="hljs-params">t[<span class="hljs-string">"content-type"</span>]=e.type</span>);<span class="hljs-params">let</span> <span class="hljs-params">i</span>=<span class="hljs-params">void</span> 0!==<span class="hljs-params">F</span>.<span class="hljs-params">renderOpts</span>.<span class="hljs-params">collectedRevalidate</span>&amp;&amp;!(<span class="hljs-params">F.renderOpts.collectedRevalidate&gt;=f.INFINITE_CACHE</span>)&amp;&amp;<span class="hljs-params">F</span>.<span class="hljs-params">renderOpts</span>.<span class="hljs-params">collectedRevalidate</span>,<span class="hljs-params">a</span>=<span class="hljs-params">void</span> 0===<span class="hljs-params">F</span>.<span class="hljs-params">renderOpts</span>.<span class="hljs-params">collectedExpire</span>||<span class="hljs-params">F</span>.<span class="hljs-params">renderOpts</span>.<span class="hljs-params">collectedExpire</span>&gt;=<span class="hljs-params">f</span>.<span class="hljs-params">INFINITE_CACHE</span>?<span class="hljs-params">void</span> 0:<span class="hljs-params">F</span>.<span class="hljs-params">renderOpts</span>.<span class="hljs-params">collectedExpire</span>;<span class="hljs-params">return</span>{<span class="hljs-params">value</span>:{<span class="hljs-params">kind</span>:<span class="hljs-params">v</span>.<span class="hljs-params">CachedRouteKind</span>.<span class="hljs-params">APP_ROUTE</span>,<span class="hljs-params">status</span>:<span class="hljs-params">o</span>.<span class="hljs-params">status</span>,<span class="hljs-params">body</span>:<span class="hljs-params">Buffer</span>.<span class="hljs-params">from</span>(<span class="hljs-params"><span class="hljs-keyword">await</span> e.arrayBuffer(</span>)),<span class="hljs-params">headers</span>:<span class="hljs-params">t</span>},<span class="hljs-params">cacheControl</span>:{<span class="hljs-params">revalidate</span>:<span class="hljs-params">i</span>,<span class="hljs-params">expire</span>:<span class="hljs-params">a</span>}}}}<span class="hljs-params">catch</span>(<span class="hljs-params">t</span>){<span class="hljs-params">throw</span>(<span class="hljs-params"><span class="hljs-literal">null</span>==i?<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>:i.isStale</span>)&amp;&amp;<span class="hljs-params">await</span> <span class="hljs-params">j</span>.<span class="hljs-params">onRequestError</span>(<span class="hljs-params">e,t,{routerKind:<span class="hljs-string">"App Router"</span>,routePath:b,routeType:<span class="hljs-string">"route"</span>,revalidateReason:(<span class="hljs-number">0</span>,m.getRevalidateReason</span>)(<span class="hljs-params">{isStaticGeneration:U,isOnDemandRevalidate:C}</span>)},<span class="hljs-params">T</span>),<span class="hljs-params">t</span>}},<span class="hljs-params">l</span>=<span class="hljs-params">await</span> <span class="hljs-params">j</span>.<span class="hljs-params">handleResponse</span>(<span class="hljs-params">{req:e,nextConfig:k,cacheKey:z,routeKind:i.RouteKind.APP_ROUTE,isFallback:!<span class="hljs-number">1</span>,prerenderManifest:A,isRoutePPREnabled:!<span class="hljs-number">1</span>,isOnDemandRevalidate:C,revalidateOnlyGenerated:O,responseGenerator:c,waitUntil:a.waitUntil,isMinimalMode:r}</span>);<span class="hljs-params">if</span>(<span class="hljs-params">!R</span>)<span class="hljs-params">return</span> <span class="hljs-params">null</span>;<span class="hljs-params">if</span>(<span class="hljs-params">(<span class="hljs-literal">null</span>==l||<span class="hljs-literal">null</span>==(o=l.value</span>)?<span class="hljs-params">void</span> 0:<span class="hljs-params">o</span>.<span class="hljs-params">kind</span>)!==<span class="hljs-params">v</span>.<span class="hljs-params">CachedRouteKind</span>.<span class="hljs-params">APP_ROUTE</span>)<span class="hljs-params">throw</span> <span class="hljs-params">Object</span>.<span class="hljs-params">defineProperty</span>(<span class="hljs-params"><span class="hljs-built_in">Error</span>(<span class="hljs-string">`Invariant: app-route received invalid cache entry <span class="hljs-subst">${<span class="hljs-literal">null</span>==l||<span class="hljs-literal">null</span>==(p=l.value)?<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>:p.kind}</span>`</span></span>),"<span class="hljs-params">__NEXT_ERROR_CODE</span>",{<span class="hljs-params">value</span>:"<span class="hljs-params">E701</span>",<span class="hljs-params">enumerable</span>:!1,<span class="hljs-params">configurable</span>:!0});<span class="hljs-params">r</span>||<span class="hljs-params">t</span>.<span class="hljs-params">setHeader</span>(<span class="hljs-params"><span class="hljs-string">"x-nextjs-cache"</span>,C?<span class="hljs-string">"REVALIDATED"</span>:l.isMiss?<span class="hljs-string">"MISS"</span>:l.isStale?<span class="hljs-string">"STALE"</span>:<span class="hljs-string">"HIT"</span></span>),<span class="hljs-params">S</span>&amp;&amp;<span class="hljs-params">t</span>.<span class="hljs-params">setHeader</span>(<span class="hljs-params"><span class="hljs-string">"Cache-Control"</span>,<span class="hljs-string">"private, no-cache, no-store, max-age=0, must-revalidate"</span></span>);<span class="hljs-params">let</span> <span class="hljs-params">d</span>=(<span class="hljs-params"><span class="hljs-number">0</span>,u.fromNodeOutgoingHttpHeaders</span>)(<span class="hljs-params">l.value.headers</span>);<span class="hljs-params">return</span> <span class="hljs-params">r</span>&amp;&amp;<span class="hljs-params">R</span>||<span class="hljs-params">d</span>.<span class="hljs-params">delete</span>(<span class="hljs-params">f.NEXT_CACHE_TAGS_HEADER</span>),!<span class="hljs-params">l</span>.<span class="hljs-params">cacheControl</span>||<span class="hljs-params">t</span>.<span class="hljs-params">getHeader</span>(<span class="hljs-params"><span class="hljs-string">"Cache-Control"</span></span>)||<span class="hljs-params">d</span>.<span class="hljs-params">get</span>(<span class="hljs-params"><span class="hljs-string">"Cache-Control"</span></span>)||<span class="hljs-params">d</span>.<span class="hljs-params">set</span>(<span class="hljs-params"><span class="hljs-string">"Cache-Control"</span>,(<span class="hljs-number">0</span>,x.getCacheControlHeader</span>)(<span class="hljs-params">l.cacheControl</span>)),<span class="hljs-params">await</span> (<span class="hljs-params"><span class="hljs-number">0</span>,h.sendResponse</span>)(<span class="hljs-params">$,G,<span class="hljs-keyword">new</span> Response(l.value.body,{headers:d,status:l.value.status||<span class="hljs-number">200</span>}</span>)),<span class="hljs-params">null</span>};<span class="hljs-params">D</span>?<span class="hljs-params">await</span> <span class="hljs-params">p</span>(<span class="hljs-params">D</span>):<span class="hljs-params">await</span> <span class="hljs-params">B</span>.<span class="hljs-params">withPropagatedContext</span>(<span class="hljs-params">e.headers,(</span>)=&gt;</span>B.trace(d.BaseServerSpan.handleRequest,{<span class="hljs-attr">spanName</span>:<span class="hljs-string">`<span class="hljs-subst">${q}</span> <span class="hljs-subst">${b}</span>`</span>,<span class="hljs-attr">kind</span>:o.SpanKind.SERVER,<span class="hljs-attr">attributes</span>:{<span class="hljs-string">"http.method"</span>:q,<span class="hljs-string">"http.target"</span>:e.url}},p))}<span class="hljs-keyword">catch</span>(t){<span class="hljs-keyword">if</span>(t <span class="hljs-keyword">instanceof</span> g.NoFallbackError||<span class="hljs-keyword">await</span> j.onRequestError(e,t,{<span class="hljs-attr">routerKind</span>:<span class="hljs-string">"App Router"</span>,<span class="hljs-attr">routePath</span>:H,<span class="hljs-attr">routeType</span>:<span class="hljs-string">"route"</span>,<span class="hljs-attr">revalidateReason</span>:<span class="hljs-function">(<span class="hljs-params"><span class="hljs-number">0</span>,m.getRevalidateReason</span>)(<span class="hljs-params">{isStaticGeneration:U,isOnDemandRevalidate:C}</span>)}),<span class="hljs-params">R</span>)<span class="hljs-params">throw</span> <span class="hljs-params">t</span>;<span class="hljs-params">return</span> <span class="hljs-params">await</span> (<span class="hljs-params"><span class="hljs-number">0</span>,h.sendResponse</span>)(<span class="hljs-params">$,G,<span class="hljs-keyword">new</span> Response(<span class="hljs-literal">null</span>,{status:<span class="hljs-number">500</span>}</span>)),<span class="hljs-params">null</span>}}<span class="hljs-params">e</span>.<span class="hljs-params">s</span>(<span class="hljs-params">[<span class="hljs-string">"handler"</span>,(</span>)=&gt;</span>H,<span class="hljs-string">"patchFetch"</span>,()=&gt;N,<span class="hljs-string">"routeModule"</span>,()=&gt;j,<span class="hljs-string">"serverHooks"</span>,()=&gt;I,<span class="hljs-string">"workAsyncStorage"</span>,()=&gt;O,<span class="hljs-string">"workUnitAsyncStorage"</span>,()=&gt;L],<span class="hljs-number">29210</span>)}];

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap" id="sourcemappingurl5broot-of-the-server5d__b16b2e0b._.js.map">
  <h1>
    <a href="#sourcemappingurl5broot-of-the-server5d__b16b2e0b._.js.map" name="sourcemappingurl5broot-of-the-server5d__b16b2e0b._.js.map" class="pilcrow"></a>
sourceMappingURL=%5Broot-of-the-server%5D__b16b2e0b._.js.map
  </h1>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"></pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
